{"version":3,"file":"app.js","sourceRoot":"","sources":["../_BaseApp/src/core/app.ts","../_BaseApp/src/core/router.ts","../_BaseApp/src/lib-ts/misc.ts","../_BaseApp/src/lib-ts/domlib.ts","../_BaseApp/src/auth.ts","../_BaseApp/src/permission.ts","../_BaseApp/src/home.ts","../_BaseApp/src/layout.ts","../_BaseApp/src/main.ts","../_BaseApp/src/lang/en-CA.ts","../_BaseApp/src/theme/pager.ts","../_BaseApp/src/theme/autocomplete.ts","../_BaseApp/src/theme/calendar.ts","../_BaseApp/src/theme/latlong.ts","../_BaseApp/src/theme/theme-action.ts","../_BaseApp/src/theme/theme-checkbox.ts","../_BaseApp/src/theme/theme-dropdown.ts","../_BaseApp/src/theme/theme-select.ts","../_BaseApp/src/theme/theme-radio.ts","../_BaseApp/src/theme/theme-filter.ts","../_BaseApp/src/theme/theme-number.ts","../_BaseApp/src/theme/theme-latlong.ts","../_BaseApp/src/theme/theme-text.ts","../_BaseApp/src/theme/theme-date.ts","../_BaseApp/src/theme/theme-calendar.ts","../_BaseApp/src/theme/theme-static.ts","../_BaseApp/src/theme/theme-button.ts","../_BaseApp/src/theme/theme-modal.ts","../_BaseApp/src/theme/theme.ts","../_BaseApp/src/theme/theme-autocomplete.ts","../src/fr-CA.ts","../src/permission.ts","../src/admin/lookupdata.ts","../src/home.ts","../src/admin/layout.ts","../src/admin/accounts.ts","../src/admin/account.ts","../src/admin/company.ts","../src/admin/lookups.ts","../src/admin/lookup.ts","../src/admin/main.ts","../src/support/layout.ts","../src/support/companys.ts","../src/support/security.ts","../src/support/permmetas.ts","../src/support/any-lookups.ts","../src/support/main.ts","../src/christian/layout.ts","../src/christian/offices.ts","../src/christian/staffs_3.ts","../src/christian/office.ts","../src/christian/staffs.ts","../src/christian/staff.ts","../src/christian/layout_2.ts","../src/christian/staffs_2.ts","../src/christian/staff_2.ts","../src/christian/staffs_4.ts","../src/christian/equipments.ts","../src/christian/equipment.ts","../src/christian/main.ts","../src/fournisseur/layout.ts","../src/fournisseur/proprietaires.ts","../src/fournisseur/lots2.ts","../src/fournisseur/proprietaire.ts","../src/fournisseur/main.ts","../src/territoire/layout.ts","../src/territoire/lots.ts","../src/territoire/lot.ts","../src/territoire/main.ts","../src/layout.ts","../src/main.ts","../src/app.ts","../src/territoire/lots2.ts"],"names":[],"mappings":"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","sourcesContent":["\"use strict\"\r\n\r\nimport * as Auth from \"../auth\"\r\nexport { isAuthenticated, getUserCaps, UserCaps } from \"../auth\"\r\n//import * as Theme from \"../theme/theme\"\r\n//import * as Layout from \"../layout\"\r\n//import * as LayoutReport from \"../layoutReport\"\r\n\r\nexport interface ITheme {\r\n    warningTemplate: (errorMessages: string[]) => string\r\n    fatalErrorTemplate403: () => string\r\n    fatalErrorTemplate404: () => string\r\n    dirtyTemplate: (ns: string, details?: string) => string\r\n    unexpectedTemplate: () => string\r\n}\r\n\r\nexport interface ILayout {\r\n    render: () => string\r\n    postRender: () => void\r\n}\r\n\r\nexport interface IFeature {\r\n    emailEnabled: boolean\r\n}\r\n\r\nlet context = \"\";\r\nlet root = (<any>window).APP.root;\r\nlet api = (<any>window).APP.api;\r\nlet name = (<any>window).APP.name;\r\nlet Layout: ILayout;\r\nlet Theme: ITheme;\r\n\r\n// Note: Always fresh\r\nexport let cie: number = (<any>window).APP.cie;\r\n\r\nexport let Feature: IFeature = {\r\n    emailEnabled: (<any>window).APP.emailEnabled\r\n}\r\n\r\ninterface IException {\r\n    hasError: boolean\r\n    messages: string[]\r\n    status: number\r\n    kind: string\r\n    code: number\r\n}\r\n\r\ninterface IRender { (): string }\r\ninterface IPostRender { (): void }\r\n\r\nlet error = <IException>{ hasError: false };\r\nlet sessionExpired = false;\r\nlet rendering = false;\r\nlet title = \"\";\r\n//\r\nlet myPublicHomePage = false;\r\n\r\n\r\nexport const initialize = (hasPublicHomePage: boolean, layout: ILayout, theme: ITheme) => {\r\n    myPublicHomePage = hasPublicHomePage;\r\n    Layout = layout;\r\n    Theme = theme;\r\n};\r\n\r\nexport const requireAuthentication = () => {\r\n    if (myPublicHomePage) {\r\n        if (window.location.hash.length == 0 || window.location.hash == \"/#\" || window.location.hash == \"/#/\")\r\n            return false;\r\n    }\r\n    return Auth.requireAuthentication();\r\n}\r\n\r\nconst myrender = (pageRender: IRender, pagePostRender: IPostRender) => {\r\n    if (!rendering) {\r\n        if (requireAuthentication()) {\r\n            Auth.redirectToSignin();\r\n            return;\r\n        }\r\n        rendering = true;\r\n        //\r\n        let hasServerError = (serverError() ? \"js-server-error\" : \"\");\r\n        let hasFatalError = (fatalError() ? \"js-fatal-error\" : \"\");\r\n        //\r\n        let html = (context == Auth.NS ? Auth.render() : pageRender());\r\n        let element = document.getElementById(\"app-root\");\r\n        ((<any>window).morphdom)(element, `<div id=\"app-root\" class=\"js-fadein ${hasServerError} ${hasFatalError}\">${html}</div>`, {\r\n            getNodeKey: function (node) { return node.id; },\r\n            onBeforeNodeAdded: function (node) { return node; },\r\n            onNodeAdded: function (node) { },\r\n            onBeforeElUpdated: function (fromEl: HTMLElement, toEl) {\r\n                if (fromEl.matches(\"input[type=text]:focus\")) return false;\r\n                if (fromEl.matches(\"input[type=number]:focus\")) return false;\r\n                if (fromEl.matches(\"textarea:focus\")) return false;\r\n                if (fromEl.hasAttribute(\"js-skip-render-class\") && fromEl.classList.contains(fromEl.getAttribute(\"js-skip-render-class\"))) return false;\r\n                if (fromEl.hasAttribute(\"js-skip-render-not-class\") && !fromEl.classList.contains(fromEl.getAttribute(\"js-skip-render-not-class\"))) return false;\r\n                return true;\r\n            },\r\n            onElUpdated: function (el) { },\r\n            onBeforeNodeDiscarded: function (node) { return true; },\r\n            onNodeDiscarded: function (node) { },\r\n            onBeforeElChildrenUpdated: function (fromEl, toEl) { return true; }\r\n        });\r\n        pagePostRender();\r\n        postRender();\r\n        if (context == Auth.NS) clearSessionExpired();\r\n        //\r\n        rendering = false;\r\n    }\r\n};\r\n\r\nconst postRender = () => {\r\n    document.title = title;\r\n    document.body.id = context.toLowerCase().replace(\"_\", \"-\");\r\n    if (!sessionExpired) clearErrors();\r\n};\r\n\r\nexport const render = () => {\r\n    myrender(Layout.render, Layout.postRender);\r\n};\r\n\r\nexport const renderOnNextTick = () => {\r\n    setTimeout(render, 0);\r\n};\r\n\r\nexport const pauseRender = (pause = true) => {\r\n    rendering = pause;\r\n}\r\n\r\nexport const setRenderDomain = (layout: ILayout) => {\r\n    Layout = layout;\r\n};\r\n\r\nexport const prepareRender = (ns: string = \"\", title: string = \"\") => {\r\n    transitionUI();\r\n    if (!sessionExpired) clearErrors();\r\n    if (title.length > 0) setPageTitle(title);\r\n    if (ns.length > 0) setContext(ns);\r\n};\r\n\r\nexport const transitionUI = () => {\r\n    let element = document.getElementById(\"app-root\");\r\n    element.classList.remove(\"js-fadein\");\r\n    element.classList.add(\"js-waiting\");\r\n};\r\n\r\nexport const setPageTitle = (newtitle: string) => {\r\n    title = `${newtitle} | ${name}`;\r\n};\r\n\r\nconst setContext = (ns: string) => {\r\n    context = ns;\r\n};\r\n\r\nexport const inContext = (ns: string | string[]) => {\r\n    if (context == undefined)\r\n        return false;\r\n    if (typeof ns === \"string\")\r\n        return (context == ns);\r\n    else\r\n        return (ns.indexOf(context) != -1);\r\n};\r\n\r\nexport const setError = (text: string) => {\r\n    error.hasError = true;\r\n    error.messages.push(text);\r\n    return false;\r\n};\r\n\r\nexport const clearErrors = () => {\r\n    error.hasError = false;\r\n    error.status = 0;\r\n    error.messages = [];\r\n};\r\n\r\nexport const hasError = () => {\r\n    return (error != undefined && error.hasError);\r\n};\r\n\r\nexport const hasNoError = () => {\r\n    return !hasError();\r\n};\r\n\r\nexport const warningTemplate = () => {\r\n    if (hasNoError())\r\n        return \"\";\r\n    return Theme.warningTemplate(error.messages);\r\n};\r\n\r\nexport const serverError = () => {\r\n    return (hasError() && error.status == 500);\r\n};\r\n\r\nexport const fatalError = () => {\r\n    return (hasError() && (error.status == 403 || error.status == -404));\r\n};\r\n\r\nexport const fatalErrorTemplate = () => {\r\n    if (hasError() && error.status == 403)\r\n        return Theme.fatalErrorTemplate403();\r\n\r\n    if (hasError() && error.status == -404)\r\n        return Theme.fatalErrorTemplate404();\r\n};\r\n\r\nexport const dirtyTemplate = (ns: string, details: string = null) => {\r\n    return Theme.dirtyTemplate(ns, details);\r\n};\r\n\r\nexport const unexpectedTemplate = () => {\r\n    return Theme.unexpectedTemplate();\r\n}\r\n\r\nconst setSessionExpired = () => {\r\n    sessionExpired = true;\r\n};\r\n\r\nconst clearSessionExpired = () => {\r\n    sessionExpired = false;\r\n    clearErrors();\r\n};\r\n\r\nconst handleFetch = (response: Response) => {\r\n    if (!response.ok) {\r\n        if (response.status == 304/*Not Modified*/) {\r\n            return null;\r\n        }\r\n        else if (response.status == 401/*Unauthorized (authentication error really - requires user to signin)*/) {\r\n            error.hasError = true;\r\n            error.messages = [\"Not authenticated\"];\r\n            error.status = response.status;\r\n            throw error;\r\n        }\r\n        else if (response.status == 403/*Forbidden (authorization error really)*/) {\r\n            error.hasError = true;\r\n            error.messages = [\"Not authorized\"];\r\n            error.status = response.status;\r\n            throw error;\r\n        }\r\n        else if (response.status != 500/*500 is used for validation error - and it's handled later when json content is available*/) {\r\n            error.hasError = true;\r\n            error.messages = [response.statusText];\r\n            error.status = response.status;\r\n            throw error;\r\n        }\r\n    }\r\n    else {\r\n        if (response.status == 204/*No Content*/) {\r\n            return null;\r\n        }\r\n    }\r\n    return response;\r\n};\r\n\r\nconst parseJson = (response: Response) => {\r\n    if (response == null)\r\n        return null;\r\n\r\n    return response\r\n        .text()\r\n        .then(text => {\r\n            const datetimeFormat = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}/;\r\n            const reviver = function (key, value) {\r\n                if (typeof value === \"string\" && datetimeFormat.test(value)) {\r\n                    return new Date(value);\r\n                }\r\n                return value;\r\n            }\r\n\r\n            if (!text)\r\n                return null;\r\n\r\n            var json = JSON.parse(text, reviver);\r\n            if ((<IException>json).hasError/*Error returned by the api exception handler*/) {\r\n                error.hasError = true;\r\n                error.messages = [(<any>json).message];\r\n                error.status = 500; /*500 is used for validation error*/\r\n                throw error;\r\n            }\r\n            return json;\r\n        });\r\n}\r\n\r\nconst catchFetch = (reason: IException | any) => {\r\n    if (reason.hasError != undefined) {\r\n        //All errors except network failures\r\n        error.hasError = reason.hasError;\r\n        error.messages = reason.messages;\r\n        error.status = reason.status;\r\n\r\n        if (error.status == 401/*Unauthorized (not authenticated or expired)*/) {\r\n            setSessionExpired();\r\n            Auth.redirectToSignin();\r\n        }\r\n    }\r\n    else {\r\n        //\"Failed to fetch\": Network failures or api server is not responding\r\n        error.hasError = true;\r\n        error.messages = [reason.message];\r\n        error.status = -404;\r\n    }\r\n    throw reason;\r\n};\r\n\r\nexport const apiurl = (resource: string) => {\r\n    return `${root}${api}${resource}`;\r\n};\r\n\r\nexport const url = (resource: string) => {\r\n    return `${root}${resource}`;\r\n};\r\n\r\nexport const POST = (url: string, body: any) => {\r\n    return window.fetch(`${root}${api}${url}`,\r\n        {\r\n            method: \"post\",\r\n            headers: { \"Content-type\": \"application/json\", \"Authorization\": Auth.getAuthorization() },\r\n            credentials: \"include\",\r\n            mode: \"cors\",\r\n            body: JSON.stringify(body)\r\n        })\r\n        .then(handleFetch)\r\n        .then(parseJson)\r\n        .catch(catchFetch);\r\n};\r\n\r\nexport const GET = (url: string) => {\r\n    return window.fetch(`${root}${api}${url}`,\r\n        {\r\n            method: \"get\",\r\n            headers: { \"Authorization\": Auth.getAuthorization(), \"Cache-Control\": \"no-cache\", \"Pragma\": \"no-cache\" },\r\n            credentials: \"include\",\r\n            mode: \"cors\",\r\n        })\r\n        .then(handleFetch)\r\n        .then(parseJson)\r\n        .catch(catchFetch);\r\n};\r\n\r\nexport const PUT = (url: string, body: any) => {\r\n    return window.fetch(`${root}${api}${url}`,\r\n        {\r\n            method: \"put\",\r\n            headers: { \"Content-type\": \"application/json\", \"Authorization\": Auth.getAuthorization() },\r\n            credentials: \"include\",\r\n            mode: \"cors\",\r\n            body: JSON.stringify(body)\r\n        })\r\n        .then(handleFetch)\r\n        .then(parseJson)\r\n        .catch(catchFetch);\r\n};\r\n\r\nexport const DELETE = (url: string, body: any) => {\r\n    return window.fetch(`${root}${api}${url}`,\r\n        {\r\n            method: \"delete\",\r\n            headers: { \"Content-type\": \"application/json\", \"Authorization\": Auth.getAuthorization() },\r\n            credentials: \"include\",\r\n            mode: \"cors\",\r\n            body: JSON.stringify(body)\r\n        })\r\n        .then(handleFetch)\r\n        .then(parseJson)\r\n        .catch(catchFetch);\r\n};\r\n\r\nexport const UPLOAD = (url: string, body: any) => {\r\n    return window.fetch(`${root}${api}${url}`,\r\n        {\r\n            method: \"post\",\r\n            headers: { \"Authorization\": Auth.getAuthorization() },\r\n            credentials: \"include\",\r\n            mode: \"cors\",\r\n            body: body\r\n        })\r\n        .then(handleFetch)\r\n        .then(parseJson)\r\n        .catch(catchFetch);\r\n};\r\n\r\nexport const DOWNLOAD = (url: string) => {\r\n    return window.fetch(`${root}${api}${url}`,\r\n        {\r\n            method: \"get\",\r\n            headers: { \"Authorization\": Auth.getAuthorization() },\r\n            credentials: \"include\",\r\n            mode: \"cors\",\r\n        })\r\n        .then(handleFetch)\r\n        .then(response => response.blob())\r\n        .catch(catchFetch);\r\n};\r\n\r\nexport const download = (url: string, name: string, event: Event) => {\r\n    if (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n    }\r\n\r\n    let anchor = document.createElement(\"a\");\r\n    document.body.appendChild(anchor);\r\n\r\n    DOWNLOAD(url)\r\n        .then(blob => {\r\n            if (window.navigator.msSaveBlob != undefined) {\r\n                window.navigator.msSaveBlob(blob, name);\r\n            }\r\n            else {\r\n                let objectUrl = window.URL.createObjectURL(blob);\r\n                anchor.href = objectUrl;\r\n                anchor.rel = \"noopener\";\r\n                anchor.download = name;\r\n                anchor.click();\r\n                setTimeout(_ => { window.URL.revokeObjectURL(objectUrl) }, 1000);\r\n            }\r\n        })\r\n        .catch(render);\r\n\r\n    return false;\r\n};\r\n\r\nexport const view = (url: string, name: string, event: Event) => {\r\n    if (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n    }\r\n\r\n    let anchor = document.createElement(\"a\");\r\n    document.body.appendChild(anchor);\r\n\r\n    DOWNLOAD(url)\r\n        .then(blob => {\r\n            if (window.navigator.msSaveOrOpenBlob != undefined) {\r\n                window.navigator.msSaveOrOpenBlob(blob, name);\r\n            }\r\n            else {\r\n                let objectUrl = window.URL.createObjectURL(blob);\r\n                window.open(objectUrl, \"_blank\");\r\n                setTimeout(_ => { window.URL.revokeObjectURL(objectUrl) }, 1000);\r\n            }\r\n        })\r\n        .catch(render);\r\n\r\n    return false;\r\n};\r\n\r\nexport const getPageState = (ns: string, key: string, defaultValue: any) => {\r\n    let uid = Auth.getUID();\r\n    let id = `pages-state:${uid}`;\r\n    let pageState = JSON.parse(localStorage.getItem(id));\r\n\r\n    if (pageState == undefined || pageState[ns] == undefined || pageState[ns][key] == undefined)\r\n        return defaultValue;\r\n\r\n    return pageState[ns][key];\r\n}\r\n\r\nexport const setPageState = (ns: string, key: string, value: any) => {\r\n    let uid = Auth.getUID();\r\n    let id = `pages-state:${uid}`;\r\n    let pageState = JSON.parse(localStorage.getItem(id));\r\n\r\n    if (pageState == undefined)\r\n        pageState = {};\r\n\r\n    if (pageState[ns] == undefined)\r\n        pageState[ns] = {};\r\n\r\n    pageState[ns][key] = value;\r\n\r\n    localStorage.setItem(id, JSON.stringify(pageState));\r\n    return value;\r\n}\r\n","\"use strict\"\r\n\r\ninterface IRoute {\r\n    url: string\r\n    callback: (params?: string[]) => void\r\n}\r\n\r\nlet reverting = false;\r\nlet resumeTo: string;\r\nlet dirtyExit: () => boolean;\r\nlet onHashChange: (hash: string) => void;\r\n\r\nexport const reload = () => {\r\n    dirtyExit = null;\r\n    location.reload(true);\r\n};\r\n\r\nexport const registerDirtyExit = (dirtyExitFunction: () => boolean) => {\r\n    dirtyExit = dirtyExitFunction;\r\n};\r\n\r\nexport const registerHashChanged = (hashChangeFunction: (hash: string) => void) => {\r\n    onHashChange = hashChangeFunction;\r\n};\r\n\r\nexport const addRoute = (url: string, callback?: (params?: string[]) => void) => {\r\n    router.push(<IRoute>{ url, callback });\r\n};\r\n\r\nexport const goto = (url: string, delay = 0, thenReload = false) => {\r\n    dirtyExit = null;\r\n    if (delay == 0) {\r\n        if (url == \"\" || url == \"/\") url = \"#/\";\r\n\r\n        if (window.location.hash != url)\r\n            (<any>document).location = url;\r\n        else\r\n            hashChange();\r\n\r\n        if (thenReload)\r\n            reload();\r\n    }\r\n    else {\r\n        setTimeout(() => { goto(url, 0, thenReload); }, delay);\r\n    }\r\n};\r\n\r\nexport const gotoCurrent = (delay = 0) => {\r\n    if (delay == 0)\r\n        hashChange();\r\n    else\r\n        setTimeout(() => { gotoCurrent(0); }, delay);\r\n};\r\n\r\nexport const goBackOrResume = (isDirty: boolean) => {\r\n    if (isDirty)\r\n        goto(resumeTo);\r\n    else\r\n        history.back();\r\n};\r\n\r\nconst hashChange = () => {\r\n    let hash = window.location.hash;\r\n    if (hash.length == 0)\r\n        hash = \"#/\";\r\n    const route = router.filter(one => hash.match(new RegExp(one.url)))[0];\r\n    if (route) {\r\n        if (!reverting) {\r\n            if (dirtyExit != undefined) {\r\n                let warning = dirtyExit();\r\n                if (warning != undefined && warning) {\r\n                    reverting = true;\r\n                    resumeTo = hash;\r\n                    history.back();\r\n                    return;\r\n                }\r\n            }\r\n            if (onHashChange)\r\n                onHashChange(hash);\r\n\r\n            if (route.callback) {\r\n                let parameters = new RegExp(route.url).exec(hash);\r\n                if (parameters.length < 2 || parameters[1] == undefined)\r\n                    route.callback([]);\r\n                else\r\n                    route.callback(parameters[1].split(\"/\"));\r\n            }\r\n        }\r\n        reverting = false;\r\n    }\r\n};\r\n\r\nlet router: IRoute[] = [];\r\n\r\nwindow.addEventListener('hashchange', hashChange);\r\nwindow.addEventListener('DOMContentLoaded', hashChange);\r\n","\"use strict\"\r\n\r\ndeclare const moment: any;\r\ndeclare const Toastify: any;\r\ndeclare const i18n: any;\r\n\r\nlet ESC_MAP = {\r\n    \"&\": \"&amp;\",\r\n    \"<\": \"&lt;\",\r\n    \">\": \"&gt;\",\r\n    '\"': \"&quot;\",\r\n    \"'\": \"&#39;\"\r\n};\r\nlet tolerance = 0.00012; //for lat/lng fields\r\n\r\nexport const escapeHTML = (text: string, forAttribute = true) => {\r\n    return text.replace((forAttribute ? /[&<>'\"]/g : /[&<>]/g), function (c) { return ESC_MAP[c]; });\r\n}\r\n\r\nexport const keepAttr = (id: string, bsAttr: string) => {\r\n    let element = document.getElementById(id);\r\n    if (element == undefined) return `id=\"${id}\"`;\r\n    return `id=\"${id}\" ${bsAttr}=\"${element.getAttribute(bsAttr)}\"`;\r\n};\r\n\r\nexport const keepClass = (id: string, myClass: string, bsClass: string) => {\r\n    let element = document.getElementById(id);\r\n    if (element == undefined) return `id=\"${id}\" class=\"${myClass}\"`;\r\n    let exist = element.classList.contains(bsClass);\r\n    return `id=\"${id}\" class=\"${myClass} ${exist ? bsClass : \"\"}\"`;\r\n};\r\n\r\nexport const clone = (state: any) => {\r\n    let cloned = {};\r\n    Object.keys(state).forEach(key => {\r\n        if (state.hasOwnProperty(key)) {\r\n            if (state[key] == null) {\r\n                cloned[key] = null\r\n            }\r\n            else if (typeof state[key].getTime === \"function\") {\r\n                cloned[key] = new Date(state[key].getTime());\r\n            }\r\n            else if (Array.isArray(state[key])) {\r\n                cloned[key] = [];\r\n                (state[key] as any[]).forEach(one => cloned[key].push(clone(one)))\r\n            }\r\n            else if (typeof state[key] == \"object\") {\r\n                cloned[key] = clone(state[key]);\r\n            }\r\n            else {\r\n                cloned[key] = state[key];\r\n            }\r\n        }\r\n    });\r\n    return cloned;\r\n};\r\n\r\nexport const same = (state1: any, state2: any) => {\r\n    let isSame = true;\r\n    Object.keys(state1).forEach(key => {\r\n        if (isSame && state1.hasOwnProperty(key) && key.charAt(0) != \"_\") {\r\n            let value1 = state1[key];\r\n            let value2 = state2[key];\r\n            let isPrimitiveType = false;\r\n            //console.log(`key=${key} value1=${value1}, value2=${value2}`)\r\n\r\n            if (value1 != undefined) {\r\n                if (typeof value1.getTime === \"function\") {\r\n                    value1 = value1.getTime();\r\n                    isPrimitiveType = true;\r\n                }\r\n                else if (Array.isArray(value1)) {\r\n                    for (let ix = 0; ix < value1.length; ix++) {\r\n                        isSame = isSame && value2 && same(value1[ix], value2[ix]);\r\n                        if (!isSame)\r\n                            return false;\r\n                    }\r\n                }\r\n                else if (typeof value1 === \"object\") {\r\n                    isSame = isSame && value2 && same(value1, value2);\r\n                }\r\n                else {\r\n                    isPrimitiveType = true;\r\n                }\r\n            }\r\n\r\n            if (value2 != undefined) {\r\n                if (typeof value2.getTime === \"function\") {\r\n                    value2 = value2.getTime();\r\n                    isPrimitiveType = true;\r\n                }\r\n                else if (Array.isArray(value2)) {\r\n                    for (let ix = 0; ix < value2.length; ix++) {\r\n                        isSame = isSame && value1 && same(value2[ix], value1[ix]);\r\n                        if (!isSame)\r\n                            return false;\r\n                    }\r\n                }\r\n                else if (typeof value2 === \"object\") {\r\n                    isSame = isSame && value1 && same(value2, value1);\r\n                }\r\n                else {\r\n                    isPrimitiveType = true;\r\n                }\r\n            }\r\n\r\n            if (isPrimitiveType) {\r\n                if (key == \"lat\" || key == \"lng\") {\r\n                    if (Math.abs(value1 - value2) > tolerance)\r\n                        isSame = false;\r\n                }\r\n                else if (value1 !== value2) {\r\n                    //console.log(`*****NOT SAME ${key}`)\r\n                    isSame = false;\r\n                }\r\n            }\r\n\r\n            if (!isSame)\r\n                return false;\r\n        }\r\n    });\r\n    return isSame;\r\n};\r\n\r\nexport const changes = (state1: any, state2: any) => {\r\n    let names: string[] = [];\r\n    Object.keys(state1).forEach(key => {\r\n        if (key != \"xtra\" && key != \"perm\") {\r\n            let value1 = state1[key];\r\n            let value2 = state2[key];\r\n            if (value1 != null && typeof value1.getTime === \"function\")\r\n                value1 = value1.getTime();\r\n            if (value2 != null && typeof value2.getTime === \"function\")\r\n                value2 = value2.getTime();\r\n            if (value1 !== value2) {\r\n                let wrong = true;\r\n                if ((key == \"lat\" || key == \"lng\") && Math.abs(value1 - value2) < tolerance)\r\n                    wrong = false;\r\n                if (wrong) {\r\n                    let translated = i18n(key.toUpperCase());\r\n                    names.push(translated);\r\n                    console.log(`${key}[${translated}] BEFORE=${state1[key]}, AFTER=${state2[key]}`);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    if (names.length == 0)\r\n        return null;\r\n    return `Fields: [${names.join(\", \")}]`;\r\n};\r\n\r\nexport const toInputText = (value: any) => {\r\n    return (value == undefined ? \"\" : escapeHTML(value.toString()));\r\n};\r\n\r\nexport const fromInputText = (id: string, defValue: string = null) => {\r\n    let element = <HTMLInputElement>document.getElementById(id);\r\n    return (element == undefined ? defValue : element.value);\r\n};\r\n\r\nexport const fromInputTextNullable = (id: string, defValue: string = null) => {\r\n    let element = <HTMLInputElement>document.getElementById(id);\r\n    return (element == undefined ? defValue : element.value == \"\" ? null : element.value);\r\n};\r\n\r\nexport const toInputNumber = (value: number) => {\r\n    return (value == undefined ? \"\" : value.toString());\r\n};\r\n\r\nexport const fromInputNumber = (id: string, defValue: number = null) => {\r\n    let element = <HTMLInputElement>document.getElementById(id);\r\n    return (element == undefined ? defValue : +element.value);\r\n};\r\n\r\nexport const fromInputNumberNullable = (id: string, defValue: number = null) => {\r\n    let element = <HTMLInputElement>document.getElementById(id);\r\n    return (element == undefined ? defValue : element.value == \"\" ? null : +element.value);\r\n};\r\n\r\nexport const toInputDate = (value: Date) => {\r\n    if (value == undefined || value.toString().toLowerCase() == \"invalid date\")\r\n        return \"\";\r\n    return moment(value).format(\"YYYY-MM-DD\");\r\n};\r\n\r\nexport const fromInputDate = (id: string, defValue: Date = null) => {\r\n    let element = <HTMLInputElement>document.getElementById(id);\r\n    if (element == undefined)\r\n        return defValue;\r\n    var parts = element.value.split(\"-\");\r\n\r\n    if (defValue == null)\r\n        return new Date(+parts[0], +parts[1] - 1, +parts[2], 0, 0, 0, 0);\r\n\r\n    try {\r\n        let date = new Date(defValue.getTime());\r\n        date.setFullYear(+parts[0], +parts[1] - 1, +parts[2]);\r\n        return date;\r\n    }\r\n    catch (error) {\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const fromInputDateNullable = (id: string, defValue: Date = null) => {\r\n    let element = <HTMLInputElement>document.getElementById(id);\r\n    if (element == undefined)\r\n        return defValue;\r\n    if (element.value == \"\")\r\n        return null;\r\n\r\n    var parts = element.value.split(\"-\");\r\n    if (defValue == null)\r\n        return new Date(+parts[0], +parts[1] - 1, +parts[2], 0, 0, 0, 0);\r\n\r\n    try {\r\n        let date = new Date(defValue.getTime());\r\n        date.setFullYear(+parts[0], +parts[1] - 1, +parts[2]);\r\n        return date;\r\n    }\r\n    catch (error) {\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const fromInputTime = (id: string, defValue: Date = null) => {\r\n    let element = <HTMLInputElement>document.getElementById(id);\r\n    if (element == undefined)\r\n        return defValue;\r\n\r\n    var parts = element.value.split(\":\");\r\n    if (defValue == null) {\r\n        let date = new Date();\r\n        date.setHours(+parts[0]);\r\n        date.setMinutes(+parts[1]);\r\n        return date;\r\n    }\r\n\r\n    try {\r\n        let date = new Date(defValue.getTime());\r\n        date.setHours(+parts[0]);\r\n        date.setMinutes(+parts[1]);\r\n        return date;\r\n    }\r\n    catch (error) {\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const fromInputTimeComboNullable = (id: string, defValue: Date = null) => {\r\n    if (defValue == null)\r\n        return null;\r\n\r\n    return fromInputTimeNullable(id, defValue);\r\n};\r\n\r\nexport const fromInputTimeNullable = (id: string, defValue: Date = null) => {\r\n    let element = <HTMLInputElement>document.getElementById(id);\r\n    if (element == undefined)\r\n        return defValue;\r\n    if (element.value == \"\")\r\n        return defValue;\r\n\r\n    var parts = element.value.split(\":\");\r\n    if (defValue == null) {\r\n        let date = new Date();\r\n        date.setHours(+parts[0]);\r\n        date.setMinutes(+parts[1]);\r\n        return date;\r\n    }\r\n\r\n    try {\r\n        let date = new Date(defValue.getTime());\r\n        date.setHours(+parts[0]);\r\n        date.setMinutes(+parts[1]);\r\n        return date;\r\n    }\r\n    catch (error) {\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const toInputCheckbox = (value: boolean) => {\r\n    return value.toString();\r\n};\r\n\r\nexport const fromInputCheckbox = (id: string, defValue: boolean = null) => {\r\n    let element = <HTMLInputElement>document.getElementById(id);\r\n    return (element == undefined ? defValue : element.checked);\r\n};\r\n\r\nexport const fromInputCheckboxMask = (name: string, defValue: number = null) => {\r\n    let elements = document.getElementsByName(name);\r\n    if (elements == undefined || elements.length == 0)\r\n        return defValue;\r\n    let value = 0;\r\n    for (let ix = 0; ix < elements.length; ix++) {\r\n        let element = <HTMLInputElement>elements[ix];\r\n        value += (element.checked ? +element.dataset.mask : 0);\r\n    }\r\n    return value;\r\n};\r\n\r\nexport const toStaticText = (value: any) => {\r\n    return (value == undefined ? \"\" : value);\r\n};\r\n\r\nexport const toStaticTextNA = (value: string) => {\r\n    return (value == undefined ? \"n/a\" : value.replace(/\\n/g, \"<br>\"));\r\n};\r\n\r\nexport const toStaticNumber = (value: number) => {\r\n    return (value == undefined ? \"\" : value.toString());\r\n};\r\n\r\nexport const toStaticNumberNA = (value: number) => {\r\n    return (value == undefined ? \"n/a\" : value.toString());\r\n};\r\n\r\nexport const toStaticNumberDecimal = (value: number, places: number, forced = false) => {\r\n    if (value == undefined)\r\n        return \"\";\r\n\r\n    let scale = Math.pow(10, places);\r\n    if (forced)\r\n        return (Math.fround(value * scale) / scale).toFixed(places);\r\n    else\r\n        return (Math.fround(value * scale) / scale).toString();\r\n};\r\n\r\nexport const toStaticMoney = (value: number) => {\r\n    return \"$\" + (value ?? 0).toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\r\n};\r\n\r\nexport const toStaticDateTime = (value: Date) => {\r\n    return (value != undefined ? moment(value).format(\"LLL\") : \"\");\r\n};\r\n\r\nexport const toStaticDateTimeNA = (value: Date) => {\r\n    return (value != undefined ? moment(value).format(\"LLL\") : \"n/a\");\r\n};\r\n\r\nexport const toStaticDate = (value: Date) => {\r\n    return (value != undefined ? moment(value).format(\"LL\") : \"\");\r\n};\r\n\r\nexport const toStaticDateNA = (value: Date) => {\r\n    return (value != undefined ? moment(value).format(\"LL\") : \"n/a\");\r\n};\r\n\r\nexport const toStaticCheckbox = (value: boolean) => {\r\n    //return (value ? \"<i class='far fa-check-square js-static-checkbox'></i>\" : \"<i class='far fa-square js-static-checkbox'></i>\");\r\n    return (value ? '<i class=\"fal fa-check-square\"></i>' : '<span style=\"opacity: 0.25\"><i class=\"fal fa-square\"></i></span>');\r\n}\r\n\r\nexport const toStaticCheckboxYesNo = (value: boolean) => {\r\n    return (value == undefined ? \"n/a\" : value ? i18n(\"YES\") : i18n(\"NO\"));\r\n}\r\n\r\nexport const filesizeText = (filesize: number) => {\r\n    if (filesize == 0)\r\n        return \"n/a\";\r\n\r\n    var i = -1;\r\n    var byteUnits = [' kB', ' MB', ' GB', ' TB', 'PB', 'EB', 'ZB', 'YB'];\r\n    do {\r\n        filesize = filesize / 1024;\r\n        i++;\r\n    } while (filesize > 1024);\r\n\r\n    return Math.max(filesize, 0.1).toFixed(1) + byteUnits[i];\r\n};\r\n\r\nexport const fromSelectNumber = (id: string, defValue: number = null) => {\r\n    let select = <HTMLSelectElement>document.getElementById(id);\r\n    if (select == undefined || select.selectedIndex == -1)\r\n        return defValue;\r\n    let value = select.options[select.selectedIndex].value;\r\n    return (value.length > 0 ? +value : null);\r\n};\r\n\r\nexport const fromSelectText = (id: string, defValue: string = null) => {\r\n    let select = <HTMLSelectElement>document.getElementById(id);\r\n    if (select == undefined || select.selectedIndex == -1)\r\n        return defValue;\r\n    let value = select.options[select.selectedIndex].value;\r\n    return (value.length > 0 ? value : null);\r\n};\r\n\r\nexport const fromSelectBoolean = (id: string, defValue: boolean = null) => {\r\n    let select = <HTMLSelectElement>document.getElementById(id);\r\n    if (select == undefined || select.selectedIndex == -1)\r\n        return defValue;\r\n    let value = select.options[select.selectedIndex].value;\r\n    return (value.length > 0 ? (value == \"true\") : null);\r\n};\r\n\r\nexport const fromRadioNumber = (id: string, defValue: number = null) => {\r\n    let radios = document.getElementsByName(id);\r\n    if (radios == undefined || radios.length == 0)\r\n        return defValue;\r\n    for (let ix = 0; ix < radios.length; ix++) {\r\n        let radio = <HTMLInputElement>radios[ix];\r\n        if (radio.checked) {\r\n            let value = radio.dataset.value;\r\n            return (value.length > 0 ? +value : null);\r\n        }\r\n    }\r\n};\r\n\r\nexport const fromRadioString = (id: string, defValue: string = null) => {\r\n    let radios = document.getElementsByName(id);\r\n    if (radios == undefined || radios.length == 0)\r\n        return defValue;\r\n    for (let ix = 0; ix < radios.length; ix++) {\r\n        let radio = <HTMLInputElement>radios[ix];\r\n        if (radio.checked) {\r\n            let value = radio.dataset.value;\r\n            return (value.length > 0 ? value : null);\r\n        }\r\n    }\r\n};\r\n\r\nexport const fromAutocompleteNumber = (id: string, defValue: number = null) => {\r\n    let input = <HTMLInputElement>document.getElementById(id);\r\n    if (input == undefined)\r\n        return defValue;\r\n    let key = input.dataset[\"key\"];\r\n    if (key === \"undefined\")\r\n        return defValue;\r\n    if (key.length == 0)\r\n        return null;\r\n    return +key;\r\n}\r\n\r\nexport const fromAutocompleteText = (id: string, defValue: string = null) => {\r\n    let input = <HTMLInputElement>document.getElementById(id);\r\n    if (input == undefined)\r\n        return defValue;\r\n    let key = input.dataset[\"key\"];\r\n    if (key === \"undefined\")\r\n        return defValue;\r\n    if (key.length == 0)\r\n        return null;\r\n    return key;\r\n}\r\n\r\nexport const toastSuccess = (text: string) => {\r\n    let div = document.createElement(\"div\");\r\n    div.classList.add(\"js-toast\");\r\n    div.style.display = \"none\";\r\n    document.body.appendChild(div);\r\n    let style = getComputedStyle(div);\r\n    let bgcolor = style.backgroundColor;\r\n    div.parentNode.removeChild(div);\r\n\r\n    Toastify({\r\n        text: text,\r\n        className: \"js-toast\",\r\n        backgroundColor: bgcolor,\r\n        position: \"left\",\r\n    }).showToast();\r\n}\r\n\r\nexport const toastSuccessSave = () => {\r\n    toastSuccess(i18n(\"Data was saved successfully\"));\r\n}\r\n\r\nexport const toastSuccessUpload = () => {\r\n    toastSuccess(i18n(\"File was uploaded successfully\"));\r\n}\r\n\r\nexport const toastFailure = (text = \"Your last action failed to execute\", duration = 15000) => {\r\n    let div = document.createElement(\"div\");\r\n    div.classList.add(\"js-toast-bad\");\r\n    div.style.display = \"none\";\r\n    document.body.appendChild(div);\r\n    let style = getComputedStyle(div);\r\n    let bgcolor = style.backgroundColor;\r\n    div.parentNode.removeChild(div);\r\n\r\n    Toastify({\r\n        text: `<i class=\"far fa-frown\" style=\"opacity:0.5\"></i>&nbsp;${text}`,\r\n        className: \"js-toast-bad\",\r\n        backgroundColor: bgcolor,\r\n        position: \"center\",\r\n        gravity: \"top\",\r\n        duration: duration,\r\n        close: true\r\n    }).showToast();\r\n}\r\n\r\nexport const blameText = (obj: any) => {\r\n    return `Last updated on ${toStaticDateTime(obj.updatedUtc)} by ${obj.by}`;\r\n}\r\n\r\n\r\nexport const toInputTimeHHMM = (date: Date) => {\r\n    if (date == undefined)\r\n        return \"\";\r\n\r\n    var hours = date.getHours();\r\n    var minutes = date.getMinutes();\r\n    return `${hours < 10 ? \"0\" + hours : hours}:${minutes < 10 ? \"0\" + minutes : minutes}`;\r\n};\r\n\r\nexport const toInputTimeHHMMSS = (date: Date) => {\r\n    if (date == undefined)\r\n        return \"\";\r\n\r\n    var hours = date.getHours();\r\n    var minutes = date.getMinutes();\r\n    let secs = date.getSeconds();\r\n    return `${hours < 10 ? \"0\" + hours : hours}:${minutes < 10 ? \"0\" + minutes : minutes}:${secs < 10 ? \"0\" + secs : secs}`;\r\n};\r\n\r\nexport const toInputDateTime_2rows = (date: Date) => {\r\n    var hours = date.getHours();\r\n    var minutes = date.getMinutes();\r\n    let secs = date.getSeconds();\r\n    var ampm = (hours < 12 ? \"AM\" : \"PM\");\r\n    hours = hours % 12;\r\n    hours = (hours ? hours : 12);\r\n    let time = `${hours < 10 ? \"0\" + hours : hours}:${minutes < 10 ? \"0\" + minutes : minutes}:${secs < 10 ? \"0\" + secs : secs} ${ampm}`;\r\n\r\n    return `${toInputDate(date)}<br/>${time}`;\r\n};\r\n\r\nexport const toInputDateTime_hhmm_2rows = (date: Date) => {\r\n    var hours = date.getHours();\r\n    var minutes = date.getMinutes();\r\n    var ampm = (hours < 12 ? \"AM\" : \"PM\");\r\n    hours = hours % 12;\r\n    hours = (hours ? hours : 12);\r\n    let time = `${hours < 10 ? \"0\" + hours : hours}:${minutes < 10 ? \"0\" + minutes : minutes} ${ampm}`;\r\n\r\n    return `${toInputDate(date)}<br/>${time}`;\r\n};\r\n\r\nexport const toInputDateTime_hhmm = (date: Date) => {\r\n    if (date == undefined)\r\n        return \"\";\r\n    return toInputDateTime_hhmm_2rows(date).replace(\"<br/>\", \"&nbsp;\");\r\n};\r\n\r\nexport const toInputDateTime_hhmmssNA = (date: Date) => {\r\n    if (date == undefined)\r\n        return \"n/a\";\r\n\r\n    var hours = date.getHours();\r\n    var minutes = date.getMinutes();\r\n    var seconds = date.getSeconds();\r\n    var ampm = (hours < 12 ? \"AM\" : \"PM\");\r\n    hours = hours % 12;\r\n    hours = (hours ? hours : 12);\r\n    let time = `${hours < 10 ? \"0\" + hours : hours}:${minutes < 10 ? \"0\" + minutes : minutes}:${seconds < 10 ? \"0\" + seconds : seconds} ${ampm}`;\r\n    return `${toInputDate(date)}&nbsp;${time}`;\r\n};\r\n\r\nexport const toInputDateTime_hhmm24 = (date: Date) => {\r\n    if (date == undefined)\r\n        return \"\";\r\n    var hours = date.getHours();\r\n    var minutes = date.getMinutes();\r\n    let time = `${hours < 10 ? \"0\" + hours : hours}:${minutes < 10 ? \"0\" + minutes : minutes}`;\r\n\r\n    return `${toInputDate(date)} ${time}`;\r\n};\r\n\r\nexport const formatYYYYMMDD = (date: Date, separator = \"/\") => {\r\n    let month = \"\" + (date.getMonth() + 1);\r\n    let day = \"\" + date.getDate();\r\n    let year = date.getFullYear();\r\n\r\n    if (month.length < 2) month = \"0\" + month;\r\n    if (day.length < 2) day = \"0\" + day;\r\n\r\n    return [year, month, day].join(separator);\r\n};\r\n\r\nexport const formatYYYYMMDDHHMM = (date: Date) => {\r\n    let year = date.getFullYear();\r\n    let month = \"\" + (date.getMonth() + 1);\r\n    let day = \"\" + date.getDate();\r\n    let hour = \"\" + date.getHours();\r\n    let minute = \"\" + date.getMinutes();\r\n\r\n    if (month.length < 2) month = \"0\" + month;\r\n    if (day.length < 2) day = \"0\" + day;\r\n    if (hour.length < 2) hour = \"0\" + hour;\r\n    if (minute.length < 2) minute = \"0\" + minute;\r\n\r\n    return [year, month, day, hour, minute].join(\"\");\r\n};\r\n\r\nexport const formatMMDDYYYY = (date: Date, separator = \"/\") => {\r\n    let month = \"\" + (date.getMonth() + 1);\r\n    let day = \"\" + date.getDate();\r\n    let year = date.getFullYear();\r\n\r\n    if (month.length < 2) month = \"0\" + month;\r\n    if (day.length < 2) day = \"0\" + day;\r\n\r\n    return [month, day, year].join(separator);\r\n};\r\n\r\nexport const parseYYYYMMDD = (text: string) => {\r\n    return new Date(text);\r\n};\r\n\r\nexport const parseYYYYMMDD_number = (dateNumber: number) => {\r\n    let yy = Math.floor(dateNumber / 10000);\r\n    let mm = Math.floor((dateNumber - 10000 * yy) / 100) - 1;\r\n    let dd = dateNumber % 100;\r\n    return new Date(yy, mm, dd, 0, 0, 0, 0);\r\n};\r\n\r\nexport const dateOnly = (date: Date) => {\r\n    return new Date(formatYYYYMMDD(date));\r\n};\r\n\r\nexport const previousDate = (date: Date) => {\r\n    var newDate = new Date(date);\r\n    newDate.setDate(newDate.getDate() - 1);\r\n    return newDate;\r\n};\r\n\r\nexport const nextDate = (date: Date) => {\r\n    var newDate = new Date(date);\r\n    newDate.setDate(newDate.getDate() + 1);\r\n    return newDate;\r\n};\r\n\r\nexport const formatDuration = (startTime: Date, endTime: Date) => {\r\n    let diff = Math.floor((endTime.getTime() - startTime.getTime()) / 1000);\r\n    let sec = diff % 60;\r\n    let min = Math.floor(diff / 60);\r\n    if (min == 0)\r\n        return `${sec} sec`;\r\n\r\n    min = min % 60;\r\n    let hour = Math.floor(diff / (60 * 60));\r\n    if (hour == 0)\r\n        return `${min}m ${sec}s`;\r\n\r\n    return `${hour}h ${min}m ${sec}s`;\r\n};\r\n\r\nexport const isDateInstance = (d: any) => {\r\n    return !isNaN(d) && d instanceof Date;\r\n}\r\n\r\nexport const isValidDateString = (dateString: string) => {\r\n    if (!dateString.match(/^\\d{4}-\\d{2}-\\d{2}$/))\r\n        return false;\r\n    var date = new Date(dateString);\r\n    var time = date.getTime();\r\n    if (!time && time != 0)\r\n        return false;\r\n    return date.toISOString().slice(0, 10) == dateString;\r\n}\r\n\r\nexport const isValidTimeString = (timeString: string) => {\r\n    let regs = timeString.match(/^(\\d{1,2}):(\\d{2})([ap]m)?$/);\r\n    if (!regs)\r\n        return false;\r\n    return (!(+regs[1] > 23 || +regs[2] > 59))\r\n}\r\n\r\n\r\n\r\nexport const formatLatLong = (latlon: number) => {\r\n    if (latlon == undefined)\r\n        return \"\";\r\n\r\n    let deg = Math.trunc(latlon);\r\n    let min = Math.trunc(60 * (latlon - deg));\r\n    let sec = Math.round(60 * 60 * (latlon - (deg + min / 60)));\r\n\r\n    if (sec == 60) {\r\n        sec = 0;\r\n        min++;\r\n    }\r\n    if (min == 60) {\r\n        min = 0;\r\n        deg++;\r\n    }\r\n\r\n    return `${deg < 10 ? \"0\" + deg : deg}°&nbsp;${min < 10 ? \"0\" + min : min}′&nbsp;${sec < 10 ? \"0\" + sec : sec}″`;\r\n}\r\n\r\nexport const toInputLatLong = (latlon: number) => {\r\n    if (latlon == undefined)\r\n        return \"\";\r\n\r\n    let deg = Math.trunc(latlon);\r\n    let min = Math.trunc(60 * (latlon - deg));\r\n    let sec = Math.round(60 * 60 * (latlon - (deg + min / 60)));\r\n\r\n    if (sec == 60) {\r\n        sec = 0;\r\n        min++;\r\n    }\r\n    if (min == 60) {\r\n        min = 0;\r\n        deg++;\r\n    }\r\n\r\n    return `${deg < 10 ? \"0\" + deg : deg}° ${min < 10 ? \"0\" + min : min}′ ${sec < 10 ? \"0\" + sec : sec}″`;\r\n}\r\n\r\nexport const toInputLatLongDDMMCC = (latlon: number) => {\r\n    if (latlon == undefined)\r\n        return \"\";\r\n\r\n    let deg = Math.trunc(latlon);\r\n    let min = 60 * (latlon - deg);\r\n\r\n    if (min == 60) {\r\n        min = 0;\r\n        deg++;\r\n    }\r\n\r\n    return `${deg < 10 ? \"0\" + deg : deg}° ${min < 10 ? \"0\" + min.toFixed(2) : min.toFixed(2)}′`;\r\n}\r\n\r\nexport const fromInputLatLong = (id: string, defValue: number = null) => {\r\n    let element = <HTMLInputElement>document.getElementById(id);\r\n    if (element == undefined)\r\n        return defValue;\r\n\r\n    if (element.dataset.isddmmcc == \"true\") {\r\n        let text = element.value.replace(\"°\", \"\").replace(\"′\", \"\");\r\n        let dmc = text.split(\" \");\r\n        if (dmc.length != 2)\r\n            return defValue;\r\n\r\n        let deg = +dmc[0]; if (isNaN(deg)) return defValue;\r\n        let min = +dmc[1]; if (isNaN(min) || min > 59) return defValue;\r\n\r\n        return deg + min / 60;\r\n    }\r\n    else {\r\n        let text = element.value.replace(\"°\", \"\").replace(\"′\", \"\").replace(\"″\", \"\");\r\n        let dms = text.split(\" \");\r\n        if (dms.length != 3)\r\n            return defValue;\r\n\r\n        let deg = +dms[0]; if (isNaN(deg)) return defValue;\r\n        let min = +dms[1]; if (isNaN(min) || min > 59) return defValue;\r\n        let sec = +dms[2]; if (isNaN(sec) || sec > 59) return defValue;\r\n\r\n        return deg + min / 60 + sec / 3600;\r\n    }\r\n}\r\n\r\nexport const fromInputLatLongNullable = (id: string, defValue: number = null) => {\r\n    let element = <HTMLInputElement>document.getElementById(id);\r\n\r\n    if (element == undefined)\r\n        return defValue;\r\n    if (element.value == \"\")\r\n        return null;\r\n\r\n    return fromInputLatLong(id, defValue);\r\n};\r\n\r\nexport const getLatLongFullPrecision = (latlon: number) => {\r\n    if (latlon == undefined)\r\n        return latlon;\r\n\r\n    // I used to recompute the value from its DDMMSS representation to make sure it wouldn't be considered dirty when exiting a page.\r\n    // It's not necessary anymore because I'm using a tolerance when comparing before and after lat/lng values.\r\n    // This change in methodology became necessary when adding support for DDMMCC.\r\n    return latlon;\r\n}\r\n\r\nexport const createWhite = (formState, props: string[]) => {\r\n    return props.reduce((acc, key) => { { acc[key] = formState[key]; return acc; }; }, {})\r\n}\r\n\r\nexport const createBlack = (formState, props: string[]) => {\r\n    var cloned = clone(formState)\r\n    props.forEach(prop => delete cloned[prop])\r\n    return cloned;\r\n}\r\n","\"use strict\"\r\n\r\nexport const closest = function (element: Element | HTMLElement, tagName: string) {\r\n    let el = element;\r\n    let tagname = tagName.toLowerCase();\r\n    if (el.tagName && el.tagName.toLowerCase() == tagname)\r\n        return el;\r\n\r\n    while (el && el.parentElement) {\r\n        el = el.parentElement;\r\n        if (el.tagName && el.tagName.toLowerCase() == tagname) {\r\n            return el;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nexport const closestByClassName = function (element: Element | HTMLElement, className: string) {\r\n    let el = element;\r\n    if (el.classList.contains(className))\r\n        return el;\r\n\r\n    while (el && el.parentElement) {\r\n        el = el.parentElement;\r\n        if (el.classList.contains(className)) {\r\n            return el;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nexport const live = (eventType: string, className: string, callback) => {\r\n    document.addEventListener(eventType, function (event) {\r\n        var el = <HTMLElement>event.target;\r\n        var found = false;\r\n        while (el) {\r\n            found = (el.classList && el.classList.contains(className));\r\n            if (found) break;\r\n            el = el.parentElement;\r\n        }\r\n        if (found) callback.call(el, event);\r\n    });\r\n}\r\n\r\nexport const setCookie = function (cname: string, cvalue: string, exdays: number = 0) {\r\n    if (exdays > 0) {\r\n        var d = new Date();\r\n        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n        document.cookie = cname + \"=\" + cvalue + \";expires=\" + d.toUTCString() + \";path=/\";\r\n    }\r\n    else {\r\n        document.cookie = cname + \"=\" + cvalue + \";path=/\";\r\n    }\r\n}\r\n\r\nexport const getCookie = function (cname: string) {\r\n    var name = cname + \"=\";\r\n    var ca = document.cookie.split(\";\");\r\n    for (var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0) == \" \") {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) == 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n\r\nexport const duplicateEntity = function (targetElement: Element) {\r\n    let newElement = document.createElement(targetElement.tagName);\r\n    for (let i = 0; i < targetElement.attributes.length; i++) {\r\n        let attr = targetElement.attributes[i];\r\n        newElement.setAttribute(attr.name, attr.value);\r\n    }\r\n    return newElement;\r\n}\r\n\r\nexport const getElementPosition = (el: HTMLElement) => {\r\n    var xPos = 0;\r\n    var yPos = 0;\r\n\r\n    while (el) {\r\n        if (el.tagName == \"BODY\") {\r\n            var xScroll = el.scrollLeft || document.documentElement.scrollLeft;\r\n            var yScroll = el.scrollTop || document.documentElement.scrollTop;\r\n\r\n            xPos += (el.offsetLeft - xScroll + el.clientLeft);\r\n            yPos += (el.offsetTop - yScroll + el.clientTop);\r\n        }\r\n        else {\r\n            xPos += (el.offsetLeft - el.scrollLeft + el.clientLeft);\r\n            yPos += (el.offsetTop - el.scrollTop + el.clientTop);\r\n        }\r\n\r\n        el = <HTMLElement>el.offsetParent;\r\n    }\r\n    return {\r\n        x: xPos,\r\n        y: yPos\r\n    };\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"./core/app\"\r\nimport * as Router from \"./core/router\"\r\nimport * as Misc from \"./lib-ts/misc\"\r\nimport * as domlib from \"./lib-ts/domlib\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_Auth\";\r\n\r\ninterface LoginData {\r\n    token: string\r\n    user: UserCaps\r\n    expiry: number\r\n}\r\n\r\nexport interface UserCaps {\r\n    uid: number\r\n    cie: number\r\n    year: number\r\n    email: string\r\n    name: string\r\n    roles: number[]\r\n    permissions: number[]\r\n}\r\n\r\nvar loginData = <LoginData>{};\r\n\r\ninterface IState {\r\n    email: string\r\n    password: string\r\n    cie: number\r\n}\r\n\r\nlet state = <IState>{};\r\nlet returnUrl = \"/\";\r\nlet storage: Storage;\r\n\r\nenum steps {\r\n    normal,\r\n    forgotten,\r\n    reminded,\r\n    invited,\r\n    resetted\r\n}\r\nlet currentStep = steps.normal;\r\n\r\nconst formTemplate = (item: IState) => {\r\n    let enablePasswordChange = (<any>window).APP.portalbag.feature.enableEmail ?? false;\r\n\r\n    return `\r\n<form onsubmit=\"App_Auth.signin(); return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"App_Auth_dummy_submit\">\r\n    <div class=\"has-text-centered js-help\">\r\n        <h2>\r\n            ${i18n(\"Sign in to start your session\")}\r\n        </h2>\r\n    </div>\r\n    <div class=\"field\">\r\n        <div class=\"control has-icons-left\">\r\n            <input type=\"email\" class=\"input\" id=\"App_Auth_email\" placeholder=\"${i18n(\"EMAIL\")}\" value=\"${Misc.toInputText(item.email)}\" required>\r\n            <span class=\"icon is-small is-left\">\r\n                <i class=\"fas fa-envelope\"></i>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    <div class=\"field\">\r\n        <div class=\"control has-icons-left\">\r\n            <input type=\"password\" class=\"input\" id=\"App_Auth_password\" placeholder=\"${i18n(\"PASSWORD\")}\" required>\r\n            <span class=\"icon is-small is-left\">\r\n                <i class=\"fas fa-lock\"></i>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    <button type=\"submit\" class=\"button is-block is-primary is-fullwidth\">\r\n        <i class=\"fas fa-sign-in-alt\"></i>&nbsp;${i18n(\"Sign In\")}\r\n    </button>\r\n${enablePasswordChange ? `\r\n    <div class=\"has-text-right js-submenu\">\r\n        <button type=\"button\" class=\"button is-text is-italic is-white\" onclick=\"App_Auth.setCurrentStep(${steps.forgotten})\">\r\n            ${i18n(\"I need a new password!\")}\r\n        </button>\r\n    </div>\r\n` : ``}\r\n</form>\r\n`;\r\n}\r\n\r\nconst formForgottenTemplate = (item: IState) => {\r\n    return `\r\n<form onsubmit=\"App_Auth.forgotPassword(); return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"App_Auth_dummy_submit\">\r\n    <div class=\"has-text-centered js-help\">\r\n        <h2>\r\n            ${i18n(\"Let's fix that!\")}\r\n        </h2>\r\n        <div class=\"content\">\r\n            <p>\r\n                ${i18n(\"Enter your email address below. You will receive an email with a link to allow you to enter a new password\")}\r\n            </p>\r\n            <p>\r\n                ${i18n(\"The email link will expire in one week\")}\r\n            </p>\r\n        </div>\r\n    </div>\r\n    <div class=\"field\">\r\n        <div class=\"control has-icons-left\">\r\n            <input type=\"email\" class=\"input\" id=\"App_Auth_email\" placeholder=\"${i18n(\"EMAIL\")}\" value=\"${Misc.toInputText(item.email)}\" required>\r\n            <span class=\"icon is-small is-left\">\r\n                <i class=\"fas fa-lock\"></i>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    <button type=\"submit\" class=\"button is-block is-primary is-fullwidth\">\r\n        <i class=\"fas fa-envelope\"></i>&nbsp;${i18n(\"Send Email\")}\r\n    </button>\r\n    <div class=\"has-text-left js-submenu\">\r\n        <button type=\"button\" class=\"button is-text is-italic is-white\" onclick=\"App_Auth.setCurrentStep(${steps.normal})\">\r\n            ${i18n(\"Cancel that, I remember my password now!\")}\r\n        </button>\r\n    </div>\r\n</form>\r\n`;\r\n}\r\n\r\nconst formRemindedTemplate = (item: IState) => {\r\n    return `\r\n<form onsubmit=\"App_Auth.forgotPassword(); return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"App_Auth_dummy_submit\">\r\n    <div class=\"has-text-centered js-help\">\r\n        <div class=\"section\">\r\n            <p class=\"has-text-success\">\r\n                <span class=\"fa-stack fa-2x\">\r\n                    <i class=\"far fa-circle fa-stack-2x\"></i>\r\n                    <i class=\"fa fa-check fa-stack-1x\"></i>\r\n                </span>\r\n            </p>\r\n        </div>\r\n        <h2>\r\n            ${i18n(\"Password reset email sent\")}\r\n        </h2>\r\n        <div class=\"content\">\r\n            <p>\r\n                ${i18n(\"An email has been sent to\")} <b>${item.email}</b>\r\n            </p>\r\n            <p>\r\n                ${i18n(\"Check out the spam folder if you don't see the email in your inbox within 5 minutes\")}\r\n            </p>\r\n        </div>\r\n        <button type=\"button\" class=\"button is-text is-white\" onclick=\"App_Auth.setCurrentStep(${steps.normal})\">${i18n(\"Done\")}</a>\r\n    </div>\r\n</form>\r\n`;\r\n}\r\n\r\nconst formNewPasswordTemplate = (item: IState, step: steps) => {\r\n    return `\r\n<form onsubmit=\"App_Auth.signin(${step}); return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"App_Auth_dummy_submit\">\r\n    <div class=\"has-text-centered js-help\">\r\n        <h2>\r\n            ${i18n(\"Now, let's set your password\")}\r\n        </h2>\r\n        <div class=\"content\">\r\n            <p>\r\n                ${i18n(\"You need to enter your password twice below\")}\r\n            </p>\r\n        </div>\r\n    </div>\r\n    <div class=\"field\">\r\n        <div class=\"control has-icons-left\">\r\n            <input type=\"email\" class=\"input\" id=\"App_Auth_email\" placeholder=\"${i18n(\"EMAIL\")}\" value=\"${Misc.toInputText(item.email)}\">\r\n            <span class=\"icon is-small is-left\">\r\n                <i class=\"fas fa-envelope\"></i>\r\n            </span>\r\n        </div>\r\n    </div>\r\n<!--\r\n    <div style=\"margin: 1rem;\">\r\n        <p style=\"margin: 1rem;\">Passwords must meet the following complexity requirements:</p>\r\n        <ul style=\"padding-left: 5rem; list-style: disc;\">\r\n            <li>8 characters minimum</li>\r\n            <li>At least one lower case character</li>\r\n            <li>At least one upper case character</li>\r\n            <li>At least one special character</li>\r\n        </ul>\r\n    </div>\r\n-->\r\n    <div class=\"field\">\r\n        <div class=\"control has-icons-left\">\r\n            <input type=\"password\" class=\"input\" id=\"App_Auth_password\" placeholder=\"${i18n(\"PASSWORD\")}\" onkeyup=\"App_Auth.ensurePasswordMatch()\" required>\r\n            <span class=\"icon is-small is-left\">\r\n                <i class=\"fas fa-lock\"></i>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    <div class=\"field\">\r\n        <div class=\"control has-icons-left\">\r\n            <input type=\"password\" class=\"input\" id=\"App_Auth_password2\" placeholder=\"${i18n(\"ENTER PASSWORD AGAIN\")}\" onkeyup=\"App_Auth.ensurePasswordMatch()\" required>\r\n            <span class=\"icon is-small is-left\">\r\n                <i class=\"fas fa-lock\"></i>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    <button type=\"submit\" class=\"button is-block is-primary is-fullwidth\">\r\n        <i class=\"fas fa-sign-in-alt\"></i>&nbsp;${i18n(\"Sign In\")}\r\n    </button>\r\n</form>\r\n`;\r\n}\r\n\r\nconst pageTemplate = (item: IState, form: string, alert: string) => {\r\n    return `\r\n<section class=\"is-fullheight\">\r\n    <div class=\"container\">\r\n        <div class=\"column is-4 is-offset-4\">\r\n        <div class=\"box\">\r\n            <h1 class=\"has-text-centered has-text-dark\">${i18n(\"APP WELCOME\")}</h1>\r\n            <div id=\"js_signin_box\">\r\n                <figure>\r\n                    <img>\r\n                </figure>\r\n            </div>\r\n${alert}\r\n${form}\r\n        </div>\r\n        </div>\r\n    </div>\r\n</section>`;\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    returnUrl = \"/\";\r\n    if (params != undefined && params.length > 0) {\r\n        returnUrl = decodeURIComponent(params[0]);\r\n    }\r\n    App.prepareRender(NS, i18n(\"Signin\"));\r\n    Router.registerDirtyExit(null);\r\n    App.render();\r\n};\r\n\r\nexport const fetchInvitation = (params: string[]) => {\r\n    returnUrl = \"/\";\r\n    let guid = params[0];\r\n    App.prepareRender(NS, i18n(\"Signin\"));\r\n    App.GET(`/auth/accept-invitation/${guid}`)\r\n        .then(json => {\r\n            currentStep = steps.invited;\r\n            state = <IState>json;\r\n            App.render();\r\n        })\r\n        .catch(App.render);\r\n};\r\n\r\nexport const fetchReset = (params: string[]) => {\r\n    returnUrl = \"/\";\r\n    let guid = params[0];\r\n    App.prepareRender(NS, i18n(\"Signin\"));\r\n    App.GET(`/auth/reset-password/${guid}`)\r\n        .then(json => {\r\n            currentStep = steps.resetted;\r\n            state = <IState>json;\r\n            App.render();\r\n        })\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined) return (App.serverError() ? pageTemplate(null, \"\", App.warningTemplate()) : \"\");\r\n\r\n    let form: string;\r\n    switch (currentStep) {\r\n        case steps.normal:\r\n            form = formTemplate(state);\r\n            break;\r\n        case steps.forgotten:\r\n            form = formForgottenTemplate(state);\r\n            break;\r\n        case steps.reminded:\r\n            form = formRemindedTemplate(state);\r\n            break;\r\n        case steps.invited:\r\n            form = formNewPasswordTemplate(state, steps.invited);\r\n            break;\r\n        case steps.resetted:\r\n            form = formNewPasswordTemplate(state, steps.resetted);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    const alert = App.warningTemplate();\r\n    return pageTemplate(state, form, alert);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!App.inContext(NS)) return;\r\n};\r\n\r\nconst getFormState = () => {\r\n    return <IState>{\r\n        email: Misc.fromInputText(\"App_Auth_email\"),\r\n        password: Misc.fromInputText(\"App_Auth_password\"),\r\n        cie: App.cie\r\n    };\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    if (formState.email.length == 0)\r\n        App.setError(\"Email is required\");\r\n    if (formState.password && formState.password.length == 0)\r\n        App.setError(\"Password is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(\"App_Auth_dummy_submit\").click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const ensurePasswordMatch = () => {\r\n    let password = <HTMLInputElement>document.getElementById(\"App_Auth_password\");\r\n    let password2 = <HTMLInputElement>document.getElementById(\"App_Auth_password2\");\r\n    if (password.value != password2.value)\r\n        password2.setCustomValidity(i18n(\"Passwords don't match\"));\r\n    else if (!ensureComplexityRequirement(password.value))\r\n        password2.setCustomValidity(\"Password doesn't meet complexity requirement\");\r\n    else\r\n        password2.setCustomValidity(\"\");\r\n}\r\n\r\nconst ensureComplexityRequirement = (password: string) => {\r\n    return password.length > 0;\r\n    //if (password.length < 8) return false;\r\n    //if (password == password.toUpperCase()) return false;\r\n    //if (password == password.toLowerCase()) return false;\r\n    //return /[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(password);\r\n}\r\n\r\nexport const signin = (step: number = 0) => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    let kind = (step == steps.invited ? \"invited\" : step == steps.resetted ? \"resetted\" : \"signin\");\r\n    App.transitionUI();\r\n    App.POST(`/auth/${kind}`, formState)\r\n        .then(json => {\r\n            createLoginData(json.token);\r\n            persistLoginData();\r\n            currentStep = steps.normal;\r\n            Router.goto(returnUrl, 1, true);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const signout = () => {\r\n    App.transitionUI();\r\n    App.POST(\"/auth/signout\", null)\r\n        .then(json => {\r\n            destroyLoginData();\r\n            returnUrl = \"/\";\r\n            Router.goto(returnUrl, 10);\r\n        })\r\n        .catch(App.render);\r\n};\r\n\r\nexport const forgotPassword = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.transitionUI();\r\n    App.POST(\"/auth/request-password-reset\", formState)\r\n        .then(_ => {\r\n            state = formState;\r\n            currentStep = steps.reminded;\r\n            App.render();\r\n        })\r\n        .catch(App.render);\r\n};\r\n\r\nexport const setCurrentStep = (step: steps) => {\r\n    state = getFormState();\r\n    currentStep = step;\r\n    App.render();\r\n}\r\n\r\nexport const getAuthorization = () => {\r\n    if (!hasLoginData())\r\n        return \"\";\r\n    if (loginData == undefined || loginData.token == undefined)\r\n        return \"\";\r\n    if (new Date().getTime() / 1000 > loginData.expiry)\r\n        return \"\";\r\n    return \"Bearer \" + loginData.token;\r\n}\r\n\r\nexport const getEmail = () => {\r\n    if (loginData == undefined || loginData.user == undefined)\r\n        return null;\r\n    return loginData.user.email;\r\n}\r\n\r\nexport const getName = () => {\r\n    if (loginData == undefined || loginData.user == undefined)\r\n        return null;\r\n    return loginData.user.name;\r\n}\r\n\r\nexport const getUID = () => {\r\n    if (loginData == undefined || loginData.user == undefined)\r\n        return null;\r\n    return loginData.user.uid;\r\n}\r\n\r\nexport const getCie = () => {\r\n    if (loginData == undefined || loginData.user == undefined)\r\n        return null;\r\n    return loginData.user.cie;\r\n}\r\n\r\nexport const getCurrentYear = () => {\r\n    if (loginData == undefined || loginData.user == undefined)\r\n        return null;\r\n    return loginData.user.year;\r\n}\r\n\r\nexport const getPermissions = () => {\r\n    if (loginData == undefined || loginData.user == undefined)\r\n        return [];\r\n    return loginData.user.permissions || [];\r\n}\r\n\r\nexport const hasPerm = (permissionID: number) => {\r\n    return (getPermissions().indexOf(permissionID) != -1);\r\n}\r\n\r\nexport const getRoles = () => {\r\n    if (loginData == undefined || loginData.user == undefined)\r\n        return [];\r\n    return loginData.user.roles || [];\r\n}\r\n\r\nexport const hasRole = (roleID: number) => {\r\n    return (getRoles().indexOf(roleID) != -1);\r\n}\r\n\r\nexport const getUserCaps = () => {\r\n    if (loginData == undefined || loginData.user == undefined)\r\n        return null;\r\n    return loginData.user;\r\n}\r\n\r\nexport const requireAuthentication = () => {\r\n    let logging = (window.location.hash.indexOf(\"#/signin/\") == 0) ||\r\n        (window.location.hash.indexOf(\"#/accept-invitation/\") == 0) ||\r\n        (window.location.hash.indexOf(\"#/reset-password/\") == 0);\r\n    return !(logging || isAuthenticated());\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n    return getAuthorization().length > 0;\r\n};\r\n\r\nexport const redirectToSignin = () => {\r\n    destroyLoginData();\r\n    let url = window.location.hash;\r\n    Router.goto(`#/signin/${encodeURIComponent(url)}`, 100);\r\n}\r\n\r\nexport const refreshLoginData = () => {\r\n    return App.POST(\"/auth/refresh\", null)\r\n        .then(json => {\r\n            createLoginData(json.token);\r\n            persistLoginData();\r\n            Router.reload();\r\n        })\r\n}\r\n\r\nconst createLoginData = (token: string) => {\r\n    let payloadBase64 = token.split('.')[1].replace(/-/g, '+').replace(/_/g, '/');\r\n    let payloadUTF8 = b64DecodeUnicode(payloadBase64);\r\n    let payload = JSON.parse(payloadUTF8);\r\n\r\n    let perms: number | number[] = payload[\"perms\"] || [];\r\n    if (!Array.isArray(perms)) {\r\n        perms = [perms];\r\n    }\r\n\r\n    let role: number | number[] = payload[\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"]\r\n    if (!Array.isArray(role)) {\r\n        role = [role];\r\n    }\r\n\r\n    loginData = <LoginData>{};\r\n    loginData.token = token;\r\n    loginData.user = <UserCaps>{\r\n        email: payload[\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\"],\r\n        name: payload[\"name\"],\r\n        permissions: perms,\r\n        roles: role,\r\n        uid: +payload[\"uid\"],\r\n        cie: +payload[\"cie\"],\r\n    };\r\n    loginData.expiry = payload[\"exp\"];\r\n}\r\n\r\nconst b64DecodeUnicode = (b64: string) => {\r\n    return decodeURIComponent(Array.prototype.map.call(atob(b64), function (c) {\r\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)\r\n    }).join(''))\r\n}\r\n\r\nconst persistLoginData = () => {\r\n    storage.setItem(\"signin\", JSON.stringify(loginData));\r\n}\r\n\r\nconst restoreLoginData = () => {\r\n    loginData = JSON.parse(storage.getItem(\"signin\")) as LoginData;\r\n}\r\n\r\nconst destroyLoginData = () => {\r\n    storage.removeItem(\"signin\");\r\n    loginData = <LoginData>{};\r\n}\r\n\r\nconst hasLoginData = () => {\r\n    return storage.getItem(\"signin\") != undefined;\r\n}\r\n\r\n\r\n//\r\n// Restore loginData from storage on startup\r\n//\r\nstorage = sessionStorage;\r\nrestoreLoginData();\r\n","\r\n\"use strict\"\r\n\r\nimport * as Auth from \"./auth\"\r\n\r\n\r\nexport const buttonTemplate = (pageid: number) => {\r\n    return `\r\n<a class=\"button\" href=\"#/page/${pageid}\" style=\"margin-left: 4px;\">\r\n    <span class=\"icon is-small\">\r\n        <i class=\"fa fa-lock\"></i>\r\n    </span>\r\n</a>`;\r\n}\r\n\r\nexport const isAdmin = () => { return (Auth.getRoles().indexOf(1) != -1); }\r\n\r\nexport let pageTODO = -1;\r\n//\r\n","\"use strict\"\r\n\r\nimport * as App from \"./core/app\"\r\nimport * as Router from \"./core/router\"\r\nimport * as Perm from \"./permission\"\r\n\r\n\r\nexport const NS = \"App_Home\";\r\n\r\n\r\nexport const fetch = () => {\r\n    App.prepareRender(NS, \"Home\");\r\n    Router.registerDirtyExit(null);\r\n    App.render();\r\n};\r\n\r\nexport const render = () => {\r\n    if (!App.inContext(NS)) return \"\";\r\n    return \"\";\r\n}\r\n\r\nexport const postRender = () => {\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"./core/app\"\r\nimport * as Perm from \"./permission\"\r\nimport * as Auth from \"./auth\"\r\n\r\n\r\n//\r\n// Modules rendered\r\n// Use these in both render() and postRender()\r\n//\r\nimport * as Home from \"./home\"\r\n\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const render = () => {\r\n    return `\r\n${renderHeader()}\r\n${renderMenu()}\r\n${Home.render()}\r\n${renderFooter()}\r\n`;\r\n}\r\n\r\nexport const postRender = () => {\r\n    Home.postRender();\r\n}\r\n\r\nconst renderHeader = () => {\r\n    return ``;\r\n}\r\n\r\nconst renderMenu = () => {\r\n    return ``;\r\n}\r\n\r\nconst renderFooter = () => {\r\n    return ``;\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"./core/app\"\r\nimport * as Router from \"./core/router\"\r\nimport * as Auth from \"./auth\"\r\n\r\nexport { ITheme } from \"./core/app\"\r\nexport { ILayout } from \"./core/app\"\r\n\r\n\r\n//\r\n// Global references to application objects\r\n// These must match the \"NS\" values defined in modules\r\n// Mainly used for event handlers\r\n//\r\n(<any>window).App_Auth = Auth;\r\n\r\n\r\n// Routing table\r\nRouter.addRoute(\"^#/signin/(.*)$\", params => { Auth.fetch(params); });\r\nRouter.addRoute(\"^#/signout/?$\", Auth.signout);\r\nRouter.addRoute(\"^#/accept-invitation/(.*)$\", Auth.fetchInvitation);\r\nRouter.addRoute(\"^#/reset-password/(.*)$\", Auth.fetchReset);\r\n\r\n\r\n\r\nconst checkAuthenticationExpiryLoop = () => {\r\n    const updater = () => {\r\n        if (App.requireAuthentication()) {\r\n            console.log(\"Authentication required\")\r\n            Router.reload();\r\n        }\r\n    };\r\n    setInterval(updater, 2000);\r\n}\r\n\r\nexport const startup = (hasPublicHomePage: boolean, layout: App.ILayout, theme: App.ITheme) => {\r\n    App.initialize(hasPublicHomePage, layout, theme);\r\n\r\n    // We need to wait before the caller initializes its routes before Router.gotoCurrent()\r\n    setTimeout(() => {\r\n        checkAuthenticationExpiryLoop();\r\n        Router.gotoCurrent();\r\n    }, 0);\r\n\r\n    return {\r\n        app: App,\r\n        router: Router\r\n    };\r\n}\r\n","\"use strict\"\r\n\r\nexport const en_CA = {\r\n    values: {\r\n        \"EMAIL\": \"Email\",\r\n        \"PASSWORD\": \"Password\"\r\n    }\r\n};\r\n","\"use strict\"\r\n\r\nimport * as Misc from \"../lib-ts/misc\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport interface IPager<IF> {\r\n    pageNo: number\r\n    pageSize: number\r\n    rowCount: number\r\n    sortColumn: string\r\n    sortDirection: string\r\n    searchText: string\r\n    filter: IF\r\n}\r\n\r\nexport interface IPagedList<T, IF> {\r\n    pager: IPager<IF>\r\n    list: Array<T>\r\n}\r\n\r\nexport const NullPager: IPager<any> = { pageNo: 1, pageSize: 1000, rowCount: 0, searchText: \"\", sortColumn: \"\", sortDirection: \"\", filter: {} };\r\n\r\n\r\nexport const render = (pager: IPager<any>, ns: string, sizes: number[], searchHtml: string = null, customHtml: string = null) => {\r\n    let rowFirst = ((pager.pageNo - 1) * pager.pageSize) + 1;\r\n    if (pager.rowCount == 0) rowFirst = 0;\r\n    let rowLast = Math.min(rowFirst + pager.pageSize - 1, pager.rowCount);\r\n    let pageCount = Math.floor((Math.max(pager.rowCount - 1, 0) / pager.pageSize) + 1);\r\n    let firstPage = `${ns}.goto(1, ${pager.pageSize})`;\r\n    let prevPage = `${ns}.goto(${pager.pageNo - 1}, ${pager.pageSize})`;\r\n    let nextPage = `${ns}.goto(${pager.pageNo + 1}, ${pager.pageSize})`;\r\n    let lastPage = `${ns}.goto(${pageCount}, ${pager.pageSize})`;\r\n    let allSizes = \"\";\r\n    if (sizes.length > 0) {\r\n        allSizes = sizes.reduce((html: string, size: number) => {\r\n            return html + `\r\n            <a class=\"dropdown-item\" href=\"#\" onclick=\"${ns}.goto(1, ${size});return false;\">\r\n                <span class=\"fa fa-check\" style=\"width: 15px; ${size != pager.pageSize ? \"visibility: hidden\" : \"\"}\"></span>\r\n                ${i18n(\"%n Records per Page\", size)}\r\n            </a>`;\r\n        }, ``);\r\n    }\r\n\r\n    return `\r\n<div class=\"level\">\r\n    <div class=\"level-left\">\r\n        <div class=\"field is-horizontal\">\r\n            <div class=\"field-body\">\r\n                ${searchHtml != undefined && searchHtml.length > 0 ? searchHtml : \"\"}\r\n                ${customHtml != undefined && customHtml.length > 0 ? customHtml : \"\"}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"level-right\">\r\n        <div class=\"field is-grouped\">\r\n            <div class=\"dropdown is-right is-hoverable\" xx-js-skip-render-class=\"is-active\">\r\n                <div class=\"dropdown-trigger\">\r\n                    <button class=\"button\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu\" title=\"${i18n(\"Options\")}\">\r\n                        <span>${i18n(\"%{rowFirst}-%{rowLast} of %{rowCount} Records\", { rowFirst: rowFirst, rowLast: rowLast, rowCount: pager.rowCount })}</span>\r\n                        <span class=\"icon is-small\"><i class=\"fas fa-angle-down\" aria-hidden=\"true\"></i></span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\r\n                    <div class=\"dropdown-content\">\r\n                        <a class=\"dropdown-item\" href=\"#\" onclick=\"${firstPage};return false;\">\r\n                            <span class=\"far fa-fast-backward\" style=\"width: 15px;\"></span>\r\n                            ${i18n(\"Go To First Page\")}\r\n                        </a>\r\n                        <a class=\"dropdown-item\" href=\"#\" onclick=\"${lastPage};return false;\">\r\n                            <span class=\"far fa-fast-forward\" style=\"width: 15px;\"></span>\r\n                            ${i18n(\"Go To Last Page\")}\r\n                        </a>\r\n                        <hr class=\"dropdown-divider\">\r\n                        ${allSizes}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"buttons has-addons\" style=\"margin-left: 4px;\">\r\n                <button type=\"button\" class=\"button\" ${pager.pageNo == 1 ? \"disabled\" : \"\"} onclick=\"${firstPage}\"><i class=\"fal fa-fast-backward\"></i></button>\r\n                <button type=\"button\" class=\"button\" ${pager.pageNo == 1 ? \"disabled\" : \"\"} onclick=\"${prevPage}\"><i class=\"fal fa-step-backward\"></i></button>\r\n                <button type=\"button\" class=\"button\" ${pager.pageNo == pageCount ? \"disabled\" : \"\"} onclick=\"${nextPage}\"><i class=\"fal fa-step-forward\"></i></button>\r\n                <button type=\"button\" class=\"button\" ${pager.pageNo == pageCount ? \"disabled\" : \"\"} onclick=\"${lastPage}\"><i class=\"fal fa-fast-forward\"></i></button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>`;\r\n};\r\n\r\nexport const renderStatic = (pager: IPager<any>) => {\r\n    return `\r\n<div class=\"js-container\">\r\n    <div class=\"js-filter-column\"></div>\r\n    <div class=\"js-control\">\r\n        <span><em>${pager.rowCount} records found</strong></em>\r\n    </div>\r\n</div>`;\r\n};\r\n\r\nexport const sortableHeaderLink = (pager: IPager<any>, ns: string, linkText: string, columnName: string, defaultDirection: string /*\"ASC\"*/, style = \"\") => {\r\n    var indicator = \"\";\r\n    var sorting = \"\";\r\n    var nextDir = defaultDirection;\r\n    if (columnName.toUpperCase() == pager.sortColumn.toUpperCase())\r\n        nextDir = (pager.sortDirection == \"ASC\" ? \"DESC\" : \"ASC\");\r\n\r\n    if (columnName.toUpperCase() == pager.sortColumn.toUpperCase()) {\r\n        indicator = `&nbsp;<i class=\"fa ${pager.sortDirection == \"DESC\" ? \"fa-sort-down\" : \"fa-sort-up\"}\"></i>`;\r\n        sorting = \" class=\\\"js-sorting\\\"\";\r\n    }\r\n\r\n    if (indicator.length == 0)\r\n        indicator = '&nbsp;<i class=\"fa fa-sort-down\" style=\"visibility: hidden;\"></i>';\r\n\r\n    return `<th${sorting} ${style ? `style=\"${style}\"` : \"\"}><a href=\"#\" onclick=\"${ns}.sortBy('${columnName}', '${nextDir}');return false;\">${linkText}${indicator}</a></th>`;\r\n};\r\n\r\nexport const headerLink = (linkText: string) => {\r\n    return `<th class=\"js-no-sorting\">${linkText}</th>`;\r\n};\r\n\r\nexport const rowNumber = (pager: IPager<any>, index: number) => {\r\n    return 1 + index + ((pager.pageNo - 1) * pager.pageSize);\r\n};\r\n\r\nexport const asParams = (pager: IPager<any>) => {\r\n    let searchText = (pager.searchText != undefined ? encodeURIComponent(pager.searchText) : \"\");\r\n    let params = `pn=${pager.pageNo}&ps=${pager.pageSize}&sc=${pager.sortColumn}&sd=${pager.sortDirection}&st=${searchText}`;\r\n    if (pager.filter != undefined) {\r\n        Object.keys(pager.filter).forEach(key => {\r\n            if (pager.filter[key] != undefined) {\r\n                let value = pager.filter[key];\r\n                if (value != null && typeof value.getTime === \"function\") {\r\n                    let text = JSON.stringify(value).replace(/\"/g, \"\");\r\n                    params += `&${key}=${text}`;\r\n                }\r\n                else if (Array.isArray(value)) {\r\n                    params += `&${key}=${value.join(\",\")}`;\r\n                }\r\n                else {\r\n                    params += `&${key}=${value}`;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return params;\r\n}\r\n\r\nexport const searchTemplate = (pager: IPager<any>, ns: string, xtra?: string) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <label class=\"label\">${i18n(\"SEARCH\")}</label>\r\n        <div class=\"control has-icons-left\" style=\"width:125px;\">\r\n            <input class=\"input\" type=\"text\" placeholder=\"${i18n(\"SEARCH\")}\" value=\"${Misc.toInputText(pager.searchText)}\" xonchange=\"${ns}.search(this)\" onkeydown=\"if (event.keyCode == 13) ${ns}.search(event.target)\" ${xtra || \"\"}>\r\n            <span class=\"icon is-small is-left\">\r\n                <i class=\"fas fa-search\"></i>\r\n            </span>\r\n        </div>\r\n    </div>`;\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"../core/app\"\r\nimport { IPagedList } from \"./pager\"\r\n\r\ndeclare const i18n: any\r\n\r\nexport interface IOption {\r\n    keyTemplate: (one: any) => string\r\n    valueTemplate: (one: any) => string\r\n    detailTemplate: (one: any) => string\r\n}\r\n\r\nexport class Autocomplete {\r\n    id: string\r\n    private initialKey: string\r\n    private initialText: string\r\n    private key: string\r\n    private text: string\r\n    pagedList: IPagedList<any, any>\r\n    options: IOption\r\n    isActive = false\r\n    disabled = false\r\n    private input_id: string\r\n    private typingTimer\r\n    private blurTimer\r\n\r\n    constructor (public ns: string, public propName: string, public required = false) {\r\n        this.input_id = `${this.ns}_${this.propName}`\r\n        this.id = `${this.ns}_${this.propName}Autocomplete`\r\n        window[this.id] = this\r\n    }\r\n\r\n    public setState(key: string, text: string) {\r\n        this.initialKey = this.key = key\r\n        this.initialText = this.text = text\r\n    }\r\n\r\n    public render = () => {\r\n        let hasIndex = this.pagedList.list.reduce((selected: boolean, one) => one.selected ? true : selected, false);\r\n        if (!hasIndex) {\r\n            let index = (this.required || this.text == undefined || this.text.length == 0 ? 0 : 1)\r\n            if (this.pagedList.list.length > index)\r\n                this.pagedList.list[index].selected = true;\r\n        }\r\n\r\n        let opt = this.options\r\n        let textRows = this.pagedList.list.map((one, index) => {\r\n            let key = opt.keyTemplate(one);\r\n            let value = opt.valueTemplate(one).replace(/\"/g, \"&quot;\");\r\n            let active = (one.selected ? \"is-active\" : \"\");\r\n            let detail = opt.detailTemplate(one);\r\n            return `<a href=\"#\" data-key=\"${key}\" data-value=\"${value}\" data-index=\"${index}\" onclick=\"${this.handle('a.onclick')}; return false;\" class=\"dropdown-item ${active}\"><p>${detail}</p></a>`\r\n        })\r\n        let text = textRows.join('<hr class=\"dropdown-divider\">')\r\n\r\n        let html = `\r\n<div class=\"dropdown-menu\">\r\n    <div class=\"dropdown-content\">\r\n        ${text}\r\n${textRows.length > 0 ? `\r\n        <div class=\"dropdown-item\">\r\n            <div>&nbsp;\r\n                <div class=\"is-pulled-right has-text-grey-light\">${textRows.length} out of ${this.pagedList.pager.rowCount} results</div>\r\n            </div>\r\n        </div>\r\n` : `\r\n        <div class=\"dropdown-item\">\r\n            <div>&nbsp;\r\n                <div class=\"is-pulled-right has-text-grey-light\">${i18n(\"No results\")}</div>\r\n            </div>\r\n        </div>\r\n`}\r\n    </div>\r\n</div>\r\n`;\r\n        return html;\r\n    }\r\n\r\n    public postRender = () => {\r\n    }\r\n\r\n    public handle = (eventName: string) => {\r\n        return `${this.id}.on(this, '${eventName}')`\r\n    }\r\n\r\n    public on = (element: HTMLInputElement | HTMLAnchorElement, eventName: string) => {\r\n        if (eventName == 'onfocus') {\r\n            this.isActive = true\r\n            this.text = (<HTMLInputElement>element).value\r\n            window[this.ns].onautocomplete(this.id)\r\n        }\r\n        else if (eventName == 'onkeydown') {\r\n            let kevent = <KeyboardEvent>event\r\n            if (kevent.key == \"ArrowUp\") {\r\n                event.preventDefault()\r\n                let index = this.pagedList.list.findIndex(one => one.selected)\r\n                if (index > 0) {\r\n                    this.pagedList.list[index].selected = false\r\n                    this.pagedList.list[index - 1].selected = true\r\n                    App.render()\r\n                }\r\n            }\r\n            else if (kevent.key == \"ArrowDown\") {\r\n                event.preventDefault()\r\n                let index = this.pagedList.list.findIndex(one => one.selected)\r\n                if (index < this.pagedList.list.length - 1) {\r\n                    this.pagedList.list[index].selected = false\r\n                    this.pagedList.list[index + 1].selected = true\r\n                    App.render()\r\n                }\r\n            }\r\n            else if (this.isActive && [\"Tab\", \"Enter\", \"Escape\"].indexOf(kevent.key) > -1) {\r\n                event.preventDefault()\r\n                clearTimeout(this.blurTimer)\r\n\r\n                let one = this.pagedList.list.find(one => one.selected)\r\n                let key = this.options.keyTemplate(one)\r\n                let text = this.options.valueTemplate(one).replace(/\"/g, \"&quot;\")\r\n                this.setState(key, text)\r\n                this.isActive = false\r\n\r\n                let input = document.getElementById(this.input_id)\r\n                input.dataset[\"key\"] = this.key\r\n                input.blur()\r\n                window[this.ns].onchange(input)\r\n            }\r\n            else {\r\n                clearTimeout(this.typingTimer)\r\n                this.typingTimer = setTimeout(_ => {\r\n                    this.isActive = true\r\n                    this.text = (<HTMLInputElement>element).value\r\n                    window[this.ns].onautocomplete(this.id)\r\n                }, 50)\r\n            }\r\n        }\r\n        else if (eventName == \"a.onclick\") {\r\n            clearTimeout(this.blurTimer)\r\n\r\n            let key = element.dataset[\"key\"]\r\n            let text = element.dataset[\"value\"]\r\n            this.setState(key, text)\r\n            this.isActive = false\r\n\r\n            let input = document.getElementById(this.input_id)\r\n            input.dataset[\"key\"] = this.key\r\n            window[this.ns].onchange(input)\r\n        }\r\n        else if (eventName == \"onblur\") {\r\n            this.blurTimer = setTimeout(_ => {\r\n                this.isActive = false\r\n                let required = element.hasAttribute(\"required\")\r\n                if (required) {\r\n                    this.setState(this.initialKey, this.initialText)\r\n                    App.render()\r\n                }\r\n                else {\r\n                    let value = (<HTMLInputElement>element).value.trim()\r\n                    if (value.length == 0 || value != this.initialText) {\r\n                        this.setState(null, null)\r\n                        element.dataset[\"key\"] = this.key\r\n                        window[this.ns].onchange(element)\r\n                    }\r\n                    else {\r\n                        App.render()\r\n                    }\r\n                }\r\n            }, 500)\r\n        }\r\n    }\r\n\r\n    public get keyValue() {\r\n        return this.key\r\n    }\r\n\r\n    public get textValue(): string {\r\n        return this.text\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"../core/app\"\r\nimport * as Misc from \"../lib-ts/misc\"\r\n\r\n\r\nlet days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\r\nlet months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\r\n\r\n\r\n/*\r\n    WATCH OUT!\r\n\r\n    new Date(“1995-01-01”) => Sat Dec 31 1994 19:00:00 GMT-0500 (Eastern Standard Time)\r\n    new Date(1995, 0, 1) => Sun Jan 01 1995 00:00:00 GMT-0500 (Eastern Standard Time)\r\n\r\n*/\r\n\r\nexport class Calendar {\r\n    id: string\r\n    initialDate: Date\r\n    isNullDate = false\r\n    //\r\n    selectedYear: number\r\n    selectedMonth: number // Jan == 1\r\n    selectedDay: number\r\n    selectedHour: number\r\n    selectedMinute: number\r\n    //\r\n    displayedYear: number\r\n    displayedMonth: number\r\n    //\r\n    viewName = \"jscal-days\"\r\n    hidden = true\r\n    hasButtons = true;\r\n    //\r\n    forcedYear: number\r\n    minValue: Date\r\n    maxValue: Date\r\n    public isValid = true\r\n    public disableDate = false\r\n\r\n\r\n    constructor (private input_id: string, public required = false, public alwaysOpened = false, private asFilter = false, public hasTime = false, public hasChanger = false, public hasToday = false) {\r\n        this.id = this.input_id + \"Calendar\"\r\n        this.hidden = !alwaysOpened;\r\n        this.hasButtons = !alwaysOpened && !asFilter;\r\n    }\r\n\r\n    public setState = (date: Date, forcedYear?: number, min?: Date, max?: Date) => {\r\n        if (date != undefined) {\r\n            this.selectedYear = this.displayedYear = date.getFullYear()\r\n            this.selectedMonth = this.displayedMonth = date.getMonth() + 1\r\n            this.selectedDay = date.getDate()\r\n            this.selectedHour = date.getHours();\r\n            this.selectedMinute = date.getMinutes();\r\n\r\n            this.initialDate = new Date(date.getTime())\r\n            this.isNullDate = false\r\n        }\r\n        else {\r\n            let now = new Date()\r\n            this.selectedYear = this.displayedYear = (forcedYear != undefined ? forcedYear : now.getFullYear())\r\n            this.selectedMonth = this.displayedMonth = now.getMonth() + 1\r\n            this.selectedDay = now.getDate()\r\n            this.selectedHour = 0;\r\n            this.selectedMinute = 0;\r\n\r\n            this.initialDate = null\r\n            this.isNullDate = true\r\n        }\r\n\r\n        if (min != undefined)\r\n            this.min = min;\r\n\r\n        if (max != undefined)\r\n            this.max = max;\r\n\r\n        if (forcedYear) {\r\n            this.forcedYear = forcedYear;\r\n            this.min = new Date(forcedYear, 0, 1);\r\n            this.max = new Date(forcedYear, 11, 31);\r\n        }\r\n    }\r\n\r\n    public render = () => {\r\n        let date = new Date(this.displayedYear, this.displayedMonth - 1, 1, 0, 0, 0, 0)\r\n        let year = date.getFullYear()\r\n        let month = date.getMonth()\r\n        \r\n        let firstDate = new Date(date)\r\n        //\r\n        while (true) {\r\n            while (firstDate.getDay() != 0)\r\n                firstDate.setDate(firstDate.getDate() - 1)\r\n            if (firstDate.getMonth() != month || firstDate.getDate() == 1) break;\r\n            firstDate.setDate(firstDate.getDate() - 1)\r\n        }\r\n    \r\n        let lastDate = new Date(date)\r\n        let lastOfMonth = new Date(year, month + 1, 0)\r\n        //\r\n        while (true) {\r\n            while (lastDate.getDay() != 6)\r\n                lastDate.setDate(lastDate.getDate() + 1)\r\n            if (lastDate.getMonth() != month || lastDate.getTime() == lastOfMonth.getTime()) break;\r\n            lastDate.setDate(lastDate.getDate() + 1)\r\n        }\r\n    \r\n        let selectedDate = new Date(this.selectedYear, this.selectedMonth - 1, this.selectedDay, 0, 0, 0, 0)\r\n        var tr = \"\";\r\n        while (true) {\r\n            tr += \"<tr>\";\r\n            for (var iday = 0; iday < 7; iday++) {\r\n                let selected = (firstDate.getTime() == selectedDate.getTime())\r\n                let other = (firstDate.getMonth() != month)\r\n                let outside = ((this.minValue && firstDate < this.minValue) || (this.maxValue && firstDate > this.maxValue))\r\n                let dateText = [firstDate.getFullYear(), firstDate.getMonth() + 1, firstDate.getDate()].join(\"/\");\r\n                let classes = []\r\n                if (selected) classes.push(\"selected\")\r\n                if (other) classes.push(\"other\")\r\n                if (outside) classes.push(\"outside\")\r\n                tr += `<td ${classes.length ? `class=\"${classes.join(\" \")}\"` : \"\"} data-select=\"${dateText}\">${firstDate.getDate()}</td>`\r\n                firstDate.setDate(firstDate.getDate() + 1)\r\n            }\r\n            tr += \"</tr>\";\r\n            if (firstDate.getTime() >= lastDate.getTime()) break;\r\n        }\r\n    \r\n        let prevMonth = this.displayedMonth - 1\r\n        let prevYear = this.displayedYear\r\n        if (prevMonth == 0) {\r\n            prevMonth = 12\r\n            prevYear--\r\n        }\r\n    \r\n        let nextMonth = this.displayedMonth + 1\r\n        let nextYear = this.displayedYear\r\n        if (nextMonth == 13) {\r\n            nextMonth = 1\r\n            nextYear++\r\n        }\r\n    \r\n        let trMonths = months.reduce((html, item, index) => {\r\n            let month = index +1\r\n            let name = item.substr(0, 3)\r\n            return html + `<div data-month=\"${month}\"${this.displayedMonth == month ? \" class='selected'\" : \"\"}>${name}</div>`\r\n        }, \"\")\r\n    \r\n        let trYears = \"\"\r\n        for (var ix = 0; ix < 9; ix++) {\r\n            let year = this.displayedYear - 4 + ix\r\n            trYears += `<div ${this.displayedYear == year ? \"class='selected'\" : \"\"}>${year}</div>`\r\n        }\r\n    \r\n        return `\r\n    <div id=\"${this.id}\" class=\"jscal-container ${this.hidden ? \"js-display-none\" : \"\"}\">\r\n    \r\n    <div class=\"jscal-banner\">\r\n        <div class=\"jscal-day\">\r\n            ${days[selectedDate.getDay()]}\r\n        </div>\r\n        <div class=\"jscal-date\" data-date=\"${this.selectedYear}/${this.selectedMonth}/${this.selectedDay}\" data-time=\"${this.selectedHour}:${this.selectedMinute}\">\r\n            <div>${(\"0\" + selectedDate.getDate()).slice(-2)}</div>\r\n            <div>\r\n                <div>${months[selectedDate.getMonth()].substr(0, 3)}</div>\r\n                <div>${selectedDate.getFullYear()}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"jscal-nav\">\r\n        <a class=\"previous\" data-display=\"${prevYear}/${prevMonth}\"><i class=\"fas fa-chevron-left\"></i></a>\r\n        <div>\r\n            <a class=\"select-month\">${months[date.getMonth()]}</a>\r\n            <a class=\"select-year\">${year}</a>\r\n        </div>\r\n        <a class=\"next\" data-display=\"${nextYear}/${nextMonth}\"><i class=\"fas fa-chevron-right\"></i></a>\r\n    </div>\r\n    <div class=\"jscal-years ${this.viewName != \"jscal-years\" ? \"js-hidden\" : \"\"}\">\r\n        <a class=\"previous\"><i class=\"fas fa-chevron-left\"></i></a>\r\n        <div>\r\n            ${trYears}\r\n        </div>\r\n        <a class=\"next\"><i class=\"fas fa-chevron-right\"></i></a>\r\n    </div>\r\n    <div class=\"jscal-months ${this.viewName != \"jscal-months\" ? \"js-hidden\" : \"\"}\">\r\n        ${trMonths}\r\n    </div>\r\n    <div class=\"jscal-days ${this.viewName != \"jscal-days\" ? \"js-hidden\" : \"\"}\">\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>Sun</th> <th>Mon</th> <th>Tue</th> <th>Wed</th> <th>Thu</th> <th>Fri</th> <th>Sat</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                ${tr}\r\n            </tbody>\r\n        </table>\r\n        <hr>\r\n\r\n${this.hasButtons ? `\r\n        <div class=\"buttons\">\r\n            <button class=\"button cancel\"><span>Cancel</span></button>\r\n${!this.required ? `\r\n            <button class=\"button clear\"><span>Clear</span></button>\r\n` : ``}\r\n${this.hasToday ? `\r\n            <button class=\"button today is-primary\"><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>Today</span></button>\r\n` : ``}\r\n            <button class=\"button ok is-primary\" ${!this.hasValidYear ? \"disabled\" : \"\"}><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>Select</span></button>\r\n        </div>\r\n` : ``}\r\n\r\n    </div>\r\n    \r\n    </div>`\r\n    }\r\n    \r\n    public postRender = () => {\r\n        let wrapperElem = document.getElementById(this.input_id + \"_wrapper\")\r\n        if (wrapperElem == undefined) return\r\n\r\n        // Remove event listeners\r\n        wrapperElem.outerHTML = wrapperElem.outerHTML\r\n        wrapperElem = document.getElementById(this.id)\r\n\r\n\r\n        wrapperElem.querySelector(\".jscal-container tbody\").addEventListener(\"click\", event => {\r\n            var td = <HTMLTableCellElement>event.target\r\n            if (td.dataset.select == undefined) return\r\n\r\n            let parts = td.dataset.select.split(\"/\")\r\n            let selectedYear = +parts[0]\r\n            let selectedMonth = +parts[1]\r\n            let selectedDay = +parts[2]\r\n            let newDate = new Date(selectedYear, selectedMonth - 1, selectedDay, 0, 0, 0, 0)\r\n            if (this.minValue && newDate < this.minValue) return\r\n            if (this.maxValue && newDate > this.maxValue) return\r\n\r\n            this.selectedYear = selectedYear\r\n            this.selectedMonth = selectedMonth\r\n            this.selectedDay = selectedDay\r\n            this.isNullDate = false\r\n            if (!this.asFilter) {\r\n                App.render()\r\n            }\r\n            else {\r\n                this.initialDate = this.dateValue\r\n                this.hidden = (true && !this.alwaysOpened)\r\n                //\r\n                let parts = this.input_id.split(\"_\")\r\n                let ns = parts.slice(0, -1).join(\"_\")\r\n                let name = parts[parts.length - 1]\r\n                window[ns].oncalendar_filter(name, this.dateValue)\r\n            }\r\n        })\r\n    \r\n        wrapperElem.querySelector(\".jscal-container .jscal-nav .previous\").addEventListener(\"click\", event => {\r\n            let element = (<HTMLElement>event.target).closest(\"a\")\r\n            let parts = element.dataset.display.split(\"/\")\r\n            this.displayedYear = +parts[0]\r\n            this.displayedMonth = +parts[1]\r\n            App.render()\r\n        })\r\n    \r\n        wrapperElem.querySelector(\".jscal-container .jscal-nav .next\").addEventListener(\"click\", event => {\r\n            let element = (<HTMLElement>event.target).closest(\"a\")\r\n            let parts = element.dataset.display.split(\"/\")\r\n            this.displayedYear = +parts[0]\r\n            this.displayedMonth = +parts[1]\r\n            App.render()\r\n        })\r\n    \r\n        wrapperElem.querySelector(\".jscal-container .jscal-date\").addEventListener(\"click\", event => {\r\n            let element = <HTMLDivElement>(<HTMLElement>event.target).closest(\".jscal-date\")\r\n            let parts = element.dataset.date.split(\"/\")\r\n            this.selectedYear = this.displayedYear = +parts[0]\r\n            this.selectedMonth = this.displayedMonth = +parts[1]\r\n            this.selectedDay = +parts[2]\r\n            this.viewName = \"jscal-days\"\r\n            App.render()\r\n        })\r\n    \r\n        wrapperElem.querySelector(\".jscal-container .jscal-months\").addEventListener(\"click\", event => {\r\n            let element = <HTMLTableCellElement>event.target;\r\n            this.displayedMonth = +element.dataset.month\r\n            this.viewName = \"jscal-days\"\r\n            App.render()\r\n        })\r\n    \r\n        wrapperElem.querySelector(\".jscal-container .jscal-years div\").addEventListener(\"click\", event => {\r\n            let element = <HTMLTableCellElement>event.target;\r\n            this.displayedYear = +element.innerText\r\n            this.viewName = \"jscal-days\"\r\n            App.render()\r\n        })\r\n    \r\n        wrapperElem.querySelector(\".jscal-container .jscal-years .previous\").addEventListener(\"click\", event => {\r\n            this.displayedYear = this.displayedYear - 4\r\n            App.render()\r\n        })\r\n    \r\n        wrapperElem.querySelector(\".jscal-container .jscal-years .next\").addEventListener(\"click\", event => {\r\n            this.displayedYear = this.displayedYear + 4\r\n            App.render()\r\n        })\r\n    \r\n        wrapperElem.querySelector(\".jscal-container .select-month\").addEventListener(\"click\", event => {\r\n            this.viewName = \"jscal-months\"\r\n            App.render()\r\n        })\r\n    \r\n        wrapperElem.querySelector(\".jscal-container .select-year\").addEventListener(\"click\", event => {\r\n            this.viewName = \"jscal-years\"\r\n            App.render()\r\n        })\r\n\r\n        if (this.hasButtons) {\r\n            wrapperElem.querySelector(\".jscal-container .cancel\").addEventListener(\"click\", event => {\r\n                this.setState(this.initialDate)\r\n                this.hidden = (true && !this.alwaysOpened);\r\n                App.render()\r\n            })\r\n\r\n            wrapperElem.querySelector(\".jscal-container .ok\").addEventListener(\"click\", event => {\r\n                this.initialDate = this.dateValue\r\n                this.hidden = (true && !this.alwaysOpened);\r\n                //\r\n                //App.render()\r\n                let dateElem = <HTMLInputElement>document.getElementById(this.input_id)\r\n                let parts = this.input_id.split(\"_\")\r\n                let ns = parts.slice(0, -1).join(\"_\")\r\n                let name = parts[parts.length - 1]\r\n                window[ns].onchange(dateElem)\r\n            })\r\n\r\n            if (!this.required) {\r\n                wrapperElem.querySelector(\".jscal-container .clear\")?.addEventListener(\"click\", event => {\r\n                    this.isNullDate = true\r\n                    App.render()\r\n                })\r\n            }\r\n\r\n            if (this.hasToday) {\r\n                wrapperElem.querySelector(\".jscal-container .today\")?.addEventListener(\"click\", event => {\r\n                    let today = new Date(new Date().setHours(0, 0, 0, 0))\r\n                    this.setState(today)\r\n                    this.hidden = (true && !this.alwaysOpened);\r\n                    //\r\n                    //App.render()\r\n                    let dateElem = <HTMLInputElement>document.getElementById(this.input_id)\r\n                    dateElem.value = Misc.toInputDate(today)\r\n                    let parts = this.input_id.split(\"_\")\r\n                    let ns = parts.slice(0, -1).join(\"_\")\r\n                    let name = parts[parts.length - 1]\r\n                    window[ns].onchange(dateElem)\r\n                })\r\n            }\r\n        }\r\n\r\n\r\n        //\r\n        // Date input\r\n        //\r\n        let dateElem = <HTMLInputElement>document.getElementById(this.input_id)\r\n        if (dateElem) {\r\n            dateElem.addEventListener(\"focus\", event => {\r\n                dateElem.value = dateElem.value.replace(/\\D+/g, \"\")\r\n                try {\r\n                    if (this.forcedYear) {\r\n                        dateElem.setSelectionRange(4, 8);\r\n                    }\r\n                    else {\r\n                        dateElem.select()\r\n                    }\r\n                }\r\n                catch (error) { }\r\n                dateElem.type = \"number\";\r\n            })\r\n\r\n            const ondatechange = (event: Event) => {\r\n                let text = \"00000000\" + dateElem.value.replace(/\\D+/g, \"\");\r\n                let dd = text.slice(-2);\r\n                let mm = text.slice(-4, -2);\r\n                let yy = (this.forcedYear != undefined ? this.forcedYear : text.slice(-8, -4));\r\n                text = `${yy}-${mm}-${dd}`;\r\n                dateElem.type = \"text\";\r\n                dateElem.value = text;\r\n                dateElem.setAttribute(\"value\", text);\r\n\r\n                let date = new Date(text);\r\n                let min = dateElem.dataset.min;\r\n                let max = dateElem.dataset.max;\r\n                let outside = ((min != undefined) && date < (new Date(min))) || ((max != undefined) && date > (new Date(max)));\r\n\r\n                if (Misc.isValidDateString(text) && !outside) {\r\n                    dateElem.style.borderColor = \"\";\r\n                    dateElem.style.zIndex = \"\";\r\n                    this.isValid = true;\r\n                    //\r\n                    date = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), this.selectedHour, this.selectedMinute, 0, 0)\r\n                    this.setState(date, this.forcedYear, this.min, this.max)\r\n                    //\r\n                    let parts = this.input_id.split(\"_\")\r\n                    let ns = parts.slice(0, -1).join(\"_\")\r\n                    let name = parts[parts.length - 1]\r\n                    if (!this.asFilter) {\r\n                        window[ns].onchange(dateElem)\r\n                    }\r\n                    else {\r\n                        window[ns].oncalendar_filter(name, this.dateValue)\r\n                    }\r\n                    return true;\r\n                }\r\n\r\n                dateElem.style.borderColor = \"red\";\r\n                dateElem.style.zIndex = \"1\";\r\n                this.isValid = false;\r\n            }\r\n\r\n            dateElem.addEventListener(\"change\", ondatechange)\r\n\r\n            dateElem.addEventListener(\"blur\", (event: Event) => {\r\n                if (isNaN(+dateElem.value)) //return if formatted yyyy-mm-dd\r\n                    return;\r\n                ondatechange(event);\r\n            })\r\n        }\r\n\r\n\r\n        //\r\n        // Time input\r\n        //\r\n        let timeElem = <HTMLInputElement>document.getElementById(this.input_id + \"_time\")\r\n        if (timeElem) {\r\n            timeElem.addEventListener(\"focus\", event => {\r\n                timeElem.value = timeElem.value.replace(/\\D+/g, \"\")\r\n                timeElem.select()\r\n                timeElem.type = \"number\";\r\n            })\r\n\r\n            const ontimechange = (event: Event) => {\r\n                let text = \"0000\" + timeElem.value.replace(/\\D+/g, \"\");\r\n                let mm = text.slice(-2);\r\n                let hh = text.slice(-4, -2);\r\n                text = `${hh}:${mm}`;\r\n                timeElem.type = \"text\";\r\n                timeElem.value = text;\r\n                timeElem.setAttribute(\"value\", text);\r\n\r\n                if (Misc.isValidTimeString(text)) {\r\n                    timeElem.style.borderColor = \"\";\r\n                    timeElem.style.zIndex = \"\";\r\n                    this.isValid = true;\r\n                    //\r\n                    let date = new Date(this.dateValue)\r\n                    date.setHours(+hh);\r\n                    date.setMinutes(+mm);\r\n                    this.setState(date, this.forcedYear, this.min, this.max)\r\n                    //\r\n                    let parts = this.input_id.split(\"_\")\r\n                    let ns = parts.slice(0, -1).join(\"_\")\r\n                    let name = parts[parts.length - 1]\r\n                    window[ns].onchange(timeElem)\r\n                    return true;\r\n                }\r\n\r\n                timeElem.style.borderColor = \"red\";\r\n                timeElem.style.zIndex = \"1\";\r\n                this.isValid = false;\r\n            }\r\n\r\n            timeElem.addEventListener(\"change\", ontimechange)\r\n\r\n            timeElem.addEventListener(\"blur\", (event: Event) => {\r\n                if (isNaN(+timeElem.value)) //return if formatted hh:mm\r\n                    return;\r\n                ontimechange(event);\r\n            })\r\n        }\r\n\r\n\r\n        //\r\n        // Clear button\r\n        //\r\n        let clearElem = <HTMLInputElement>document.getElementById(this.input_id + \"_clear\")\r\n        if (clearElem) {\r\n            clearElem.addEventListener(\"click\", event => {\r\n                this.isNullDate = true\r\n                //\r\n                let parts = this.input_id.split(\"_\")\r\n                let ns = parts.slice(0, -1).join(\"_\")\r\n                let name = parts[parts.length - 1]\r\n                if (!this.asFilter) {\r\n                    window[ns].onchange(dateElem)\r\n                }\r\n                else {\r\n                    window[ns].oncalendar_filter(name, this.dateValue)\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n        //\r\n        // Popup button\r\n        //\r\n        let popupElem = <HTMLInputElement>document.getElementById(this.input_id + \"_popup\")\r\n        if (popupElem) {\r\n            popupElem.addEventListener(\"click\", event => {\r\n                this.toggle()\r\n            })\r\n        }\r\n\r\n\r\n        //\r\n        // Previous button\r\n        //\r\n        let previousElem = <HTMLInputElement>document.getElementById(this.input_id + \"_previous\")\r\n        if (previousElem) {\r\n            previousElem.addEventListener(\"click\", event => {\r\n                let prevDay = new Date(this.dateValue.getTime());\r\n                prevDay.setDate(prevDay.getDate() - 1);\r\n\r\n                this.setState(prevDay, this.forcedYear, this.min, this.max)\r\n                dateElem.setAttribute(\"value\", Misc.toInputDate(this.dateValue));\r\n                //\r\n                let parts = this.input_id.split(\"_\")\r\n                let ns = parts.slice(0, -1).join(\"_\")\r\n                let name = parts[parts.length - 1]\r\n                if (!this.asFilter) {\r\n                    window[ns].onchange(dateElem)\r\n                }\r\n                else {\r\n                    window[ns].oncalendar_filter(name, this.dateValue)\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n        //\r\n        // Next button\r\n        //\r\n        let nextElem = <HTMLInputElement>document.getElementById(this.input_id + \"_next\")\r\n        if (nextElem) {\r\n            nextElem.addEventListener(\"click\", event => {\r\n                let nextDay = new Date(this.dateValue.getTime());\r\n                nextDay.setDate(nextDay.getDate() + 1);\r\n\r\n                this.setState(nextDay, this.forcedYear, this.min, this.max)\r\n                dateElem.setAttribute(\"value\", Misc.toInputDate(this.dateValue));\r\n                //\r\n                let parts = this.input_id.split(\"_\")\r\n                let ns = parts.slice(0, -1).join(\"_\")\r\n                let name = parts[parts.length - 1]\r\n                if (!this.asFilter) {\r\n                    window[ns].onchange(dateElem)\r\n                }\r\n                else {\r\n                    window[ns].oncalendar_filter(name, this.dateValue)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    public toggle = () => {\r\n        this.hidden = (!this.hidden && !this.alwaysOpened);\r\n        App.render()\r\n    }\r\n\r\n    public get dateValue() {\r\n        if (this.isNullDate)\r\n            return null\r\n        return new Date(this.selectedYear, this.selectedMonth -1, this.selectedDay, this.selectedHour, this.selectedMinute, 0, 0)\r\n    }\r\n\r\n    public get year() {\r\n        return this.dateValue.getFullYear();\r\n    }\r\n\r\n    get hasValidYear() {\r\n        if (this.isNullDate)\r\n            return false\r\n        return this.forcedYear == undefined || this.year == this.forcedYear;\r\n    }\r\n\r\n    public set min(date: Date) {\r\n        this.minValue = date\r\n    }\r\n\r\n    public set max(date: Date) {\r\n        this.maxValue = date\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const eventMan = (ns: string, dateElem: HTMLInputElement, eventname: string) => {\r\n\r\n    const ondatechange = () => {\r\n        if (!dateElem.getAttribute(\"required\") && dateElem.value.length == 0) {\r\n            window[ns].onchange(dateElem)\r\n            return true; \r\n        }\r\n\r\n        let text = \"00000000\" + dateElem.value.replace(/\\D+/g, \"\");\r\n        let dd = text.slice(-2);\r\n        let mm = text.slice(-4, -2);\r\n        let yy = text.slice(-8, -4);\r\n        text = `${yy}-${mm}-${dd}`;\r\n        dateElem.type = \"text\";\r\n        dateElem.value = text;\r\n        dateElem.setAttribute(\"value\", text);\r\n\r\n        let date = new Date(text);\r\n        let min = dateElem.dataset.min;\r\n        let max = dateElem.dataset.max;\r\n        let outside = ((min != undefined) && date < (new Date(min))) || ((max != undefined) && date > (new Date(max)));\r\n\r\n        if (Misc.isValidDateString(text) && !outside) {\r\n            dateElem.style.borderColor = \"\";\r\n            dateElem.style.zIndex = \"\";\r\n            //\r\n            date = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0, 0)\r\n            //\r\n            window[ns].onchange(dateElem)\r\n            return true;\r\n        }\r\n\r\n        dateElem.style.borderColor = \"red\";\r\n        dateElem.style.zIndex = \"1\";\r\n    }\r\n\r\n    if (eventname == \"focus\") {\r\n        dateElem.value = dateElem.value.replace(/\\D+/g, \"\")\r\n        try {\r\n            dateElem.select()\r\n        }\r\n        catch (error) { }\r\n        dateElem.type = \"number\";\r\n    }\r\n    else if (eventname == \"change\") {\r\n        ondatechange();\r\n    }\r\n    else if (eventname == \"blur\") {\r\n        if (isNaN(+dateElem.value)) //return if formatted yyyy-mm-dd\r\n            return;\r\n        ondatechange();\r\n    }\r\n}","\"use strict\"\r\n\r\nexport const NS = \"App_LatLong\";\r\n\r\n\r\n\r\nexport const onfocusLatLon = (element: HTMLInputElement) => {\r\n    if (element.dataset.isddmmcc == \"true\") {\r\n        element.value = element.value.replace(\"°\", \"\").replace(\"′\", \"\").replace(\" \", \"\");\r\n        element.type = \"number\";\r\n        element.select()\r\n    }\r\n    else {\r\n        element.value = element.value.replace(/\\D+/g, \"\")\r\n        element.type = \"number\";\r\n        element.select()\r\n    }\r\n}\r\n\r\nexport const onchangeLatLon = (element: HTMLInputElement) => {\r\n    if (element.dataset.isddmmcc == \"true\") {\r\n        let isLongitude = (element.dataset.islongitude == \"true\");\r\n        let text = \"0000000\" + (+element.value).toFixed(2);\r\n        let cc = text.slice(-2);\r\n        let mm = text.slice(-5, -3);\r\n        let dd = text.slice((isLongitude ? -8 : -7), -5);\r\n        text = `${dd}° ${mm}.${cc}′`;\r\n        if (text[0] == \"0\")\r\n            text = text.slice(1);\r\n        element.type = \"text\";\r\n        element.value = text;\r\n        element.setAttribute(\"value\", text);\r\n    }\r\n    else {\r\n        let isLongitude = (element.dataset.islongitude == \"true\");\r\n        let text = \"0000000\" + element.value;\r\n        let ss = text.slice(-2);\r\n        let mm = text.slice(-4, -2);\r\n        let dd = text.slice((isLongitude ? -7 : -6), -4);\r\n        text = `${dd}° ${mm}′ ${ss}″`;\r\n        if (text[0] == \"0\")\r\n            text = text.slice(1);\r\n        element.type = \"text\";\r\n        element.value = text;\r\n        element.setAttribute(\"value\", text);\r\n    }\r\n}\r\n\r\nexport const onblurLatLon = (element: HTMLInputElement) => {\r\n    if (isNaN(+element.value))\r\n        return;\r\n    onchangeLatLon(element);\r\n}\r\n","\"use strict\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const renderActionButtons = (ns: string, isNew: boolean, addUrl: string, buttons: string[] = null, updateOnly = false) => {\r\n    let buttonsHtml = (buttons && buttons.length > 0 ? buttons.join(\"&nbsp;\") : \"\");\r\n    return `\r\n    <div class=\"level js-actions\">\r\n        <div class=\"level-left\">\r\n            <div class=\"level-item\">\r\n                <div class=\"buttons\">\r\n                    ${buttonsHtml}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"level-right\">\r\n            <div class=\"level-item\">\r\n                <div class=\"buttons\">\r\n                    <button class=\"button is-outlined\" onclick=\"${ns}.cancel()\"><!--<span class=\"icon\"><i class=\"fa fa-reply\"></i></span>--><span>${i18n(\"Cancel\")}</span></button>\r\n${isNew && !updateOnly ? `\r\n                    <button class=\"button is-primary is-outlined\" onclick=\"${ns}.create()\"><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>${i18n(\"Insert\")}</span></button>\r\n` : `\r\n${!updateOnly ? `\r\n                    <button class=\"button is-danger is-outlined\" onclick=\"App_Theme.openModal('modalDelete_${ns}')\"><span class=\"icon\"><i class=\"fa fa-times\"></i></span><span>${i18n(\"Delete\")}</span></button>\r\n                    <a class=\"button is-primary is-outlined\" href=\"${addUrl}\"><span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>${i18n(\"Add New\")}</span></a>\r\n` : ``}\r\n                    <button class=\"button is-primary is-outlined\" onclick=\"${ns}.save()\"><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>${i18n(\"Update\")}</span></button>\r\n                    <button class=\"button is-primary is-outlined\" onclick=\"${ns}.save(true)\"><span class=\"icon\"><i class=\"fa fa-reply\"></i></span><span>${i18n(\"Done\")}</span></button>\r\n                </div>\r\n            </div>\r\n`}\r\n        </div>\r\n    </div>\r\n`;\r\n}\r\n\r\nexport const renderActionButtons2 = (ns: string, isNew: boolean, addUrl: string, buttons: string[] = null, canDelete = true, canAdd = true) => {\r\n    let buttonsHtml = (buttons && buttons.length > 0 ? buttons.join(\"\") : \"\");\r\n    return `\r\n    <div class=\"buttons\">\r\n        ${buttonsHtml}\r\n        <button class=\"button\" onclick=\"${ns}.cancel()\"><!--<span class=\"icon\"><i class=\"fa fa-reply\"></i></span>--><span>${i18n(\"Cancel\")}</span></button>\r\n${isNew && canAdd ? `\r\n        <button class=\"button is-primary\" onclick=\"${ns}.create()\"><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>${i18n(\"Insert\")}</span></button>\r\n` : `\r\n        ${canDelete ? `\r\n                <button class=\"button is-danger\" onclick=\"App_Theme.openModal('modalDelete_${ns}')\"><span class=\"icon\"><i class=\"fa fa-times\"></i></span><span>${i18n(\"Delete\")}</span></button>\r\n        ` : ``}\r\n        ${canAdd ? `\r\n                <a class=\"button is-primary\" href=\"${addUrl}\"><span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>${i18n(\"Add New\")}</span></a>\r\n        ` : ``}\r\n        <button class=\"button is-primary\" onclick=\"${ns}.save()\"><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>${i18n(\"Update\")}</span></button>\r\n        <button class=\"button is-primary\" onclick=\"${ns}.save(true)\"><span class=\"icon\"><i class=\"fa fa-reply\"></i></span><span>${i18n(\"Done\")}</span></button>\r\n`}\r\n    </div>\r\n`;\r\n}\r\n\r\nexport const renderButtons = (buttons: string[]) => {\r\n    let buttonsHtml = (buttons && buttons.length > 0 ? buttons.join(\"\") : \"\");\r\n    return `\r\n    <div class=\"buttons\">\r\n        ${buttonsHtml}\r\n    </div>\r\n`;\r\n}\r\n\r\nexport const renderButtonsInline = (buttons: string[]) => {\r\n    let buttonsHtml = (buttons && buttons.length > 0 ? buttons.join(\"\") : \"\");\r\n    return `\r\n    <div class=\"js-actions js-flex-end\">\r\n        <div class=\"buttons are-small\">\r\n            ${buttonsHtml}\r\n        </div>\r\n    </div>\r\n`;\r\n}\r\n\r\nexport const renderInlineActionButtons = (ns: string, isNew: boolean, disableDelete: boolean, disableAddNew: boolean, disableUpdate: boolean) => {\r\n    return `\r\n    <div class=\"js-actions js-flex-end\">\r\n        <div class=\"buttons are-small\">\r\n            <button class=\"button is-outlined\" onclick=\"${ns}.undo()\"><span class=\"icon\"><i class=\"fa fa-undo\"></i></span><span>${i18n(\"Undo\")}</span></button>\r\n${!disableDelete ? `\r\n            <a class=\"button is-danger is-outlined\" ${disableDelete ? \"disabled\" : `onclick=\"${ns}.drop()\"`}><span class=\"icon\"><i class=\"fa fa-times\"></i></span><span>${i18n(\"Delete\")}</span></a>\r\n` : ``}\r\n${!disableAddNew ? `\r\n            <a class=\"button is-primary is-outlined\" ${disableAddNew ? \"disabled\" : `onclick=\"${ns}.addNew()\"`}><span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>${i18n(\"Add New\")}</span></a>\r\n` : ``}\r\n${isNew && !disableUpdate ? `\r\n            <a class=\"button is-primary is-outlined\" ${disableUpdate ? \"disabled\" : `onclick=\"${ns}.create()\"`}><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>${i18n(\"Insert\")}</span></a>\r\n` : `\r\n${!disableUpdate ? `\r\n            <a class=\"button is-primary is-outlined\" ${disableUpdate ? \"disabled\" : `onclick=\"${ns}.save()\"`}><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>${i18n(\"Update\")}</span></a>\r\n` : ``}\r\n`}\r\n        </div>\r\n    </div>\r\n`;\r\n}\r\n\r\n\r\nexport const buttonCancelInline = (ns: string) => {\r\n    return `<button class=\"button is-outlined\" onclick=\"${ns}.undo()\"><span class=\"icon\"><i class=\"fa fa-undo\"></i></span><span>${i18n(\"Undo\")}</span></button>`;\r\n}\r\n\r\nexport const buttonInsertInline = (ns: string) => {\r\n    return `<a class=\"button is-primary is-outlined\" onclick=\"${ns}.create()><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>${i18n(\"Insert\")}</span></a>`;\r\n}\r\n\r\nexport const buttonDeleteInline = (ns: string) => {\r\n    return `<a class=\"button is-danger is-outlined\" onclick=\"${ns}.drop()\"><span class=\"icon\"><i class=\"fa fa-times\"></i></span><span>${i18n(\"Delete\")}</span></a>`;\r\n}\r\n\r\nexport const buttonAddNewInline = (ns: string, addUrl: string) => {\r\n    return `<a class=\"button is-primary is-outlined\" onclick=\"${ns}.addNew()\"><span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>${i18n(\"Add New\")}</span></a>`;\r\n}\r\n\r\nexport const buttonUpdateInline = (ns: string) => {\r\n    return `<a class=\"button is-primary is-outlined\" onclick=\"${ns}.save()\"><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>${i18n(\"Update\")}</span></a>`;\r\n}\r\n\r\n\r\nexport const renderListActionButtons = (ns: string, label: string, buttons: string[] = null) => {\r\n    let buttonsHtml = (buttons && buttons.length > 0 ? buttons.join(\"&nbsp;\") : \"\");\r\n    return `\r\n    <div class=\"level js-actions\">\r\n        <div class=\"level-left\">\r\n            ${buttonsHtml}\r\n        </div>\r\n${label != null ? `\r\n        <div class=\"level-right\">\r\n            <div class=\"level-item\">\r\n                <div class=\"buttons\">\r\n                    <button class=\"button is-primary is-outlined\" onclick=\"${ns}.create()\"><span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>${label}</span></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n` : ``}\r\n    </div>\r\n    `;\r\n}\r\n\r\nexport const renderListActionButtons2 = (ns: string, label: string, buttons: string[] = null) => {\r\n    let buttonsHtml = (buttons && buttons.length > 0 ? buttons.join(\"&nbsp;\") : \"\");\r\n    return `\r\n    <div class=\"buttons\">\r\n        ${buttonsHtml}\r\n        ${label ? `<button class=\"button is-primary\" onclick=\"${ns}.create()\"><span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>${label}</span></button>` : ``}\r\n    </div>\r\n`;\r\n}\r\n\r\nexport const renderListFloatingActionButtons = (ns: string, label: string) => {\r\n    return `\r\n        <button class=\"button is-primary is-rounded js-floating\" title=\"${label}\" onclick=\"${ns}.create()\"><span class=\"icon\"><i class=\"fa fa-plus\"></i></span></button>\r\n    `;\r\n}\r\n\r\nexport const buttonCancel = (ns: string) => {\r\n    return `<button class=\"button\" onclick=\"${ns}.cancel()\"><span>${i18n(\"Cancel\")}</span></button>`;\r\n}\r\n\r\nexport const buttonInsert = (ns: string, label = \"Insert\") => {\r\n    return `<button class=\"button is-primary\" onclick=\"${ns}.create()\"><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>${i18n(label)}</span></button>`;\r\n}\r\n\r\nexport const buttonDelete = (ns: string) => {\r\n    return `<button class=\"button is-danger\" onclick=\"App_Theme.openModal('modalDelete_${ns}')\"><span class=\"icon\"><i class=\"fa fa-times\"></i></span><span>${i18n(\"Delete\")}</span></button>`;\r\n}\r\n\r\nexport const buttonAddNew = (ns: string, addUrl: string, label: string = null) => {\r\n    return `<a class=\"button is-primary\" href=\"${addUrl}\"><span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>${label ? label : i18n(\"Add New\")}</span></a>`;\r\n}\r\n\r\nexport const buttonUpdate = (ns: string, disabled = false) => {\r\n    return `<button class=\"button is-primary\" ${disabled ? \"disabled\" : \"\"} onclick=\"${ns}.save()\"><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>${i18n(\"Update\")}</span></button>\r\n            <button class=\"button is-primary\" ${disabled ? \"disabled\" : \"\"} onclick=\"${ns}.save(true)\"><span class=\"icon\"><i class=\"fa fa-reply\"></i></span><span>${i18n(\"Done\")}</span></button>\r\n`;\r\n}\r\n\r\nexport const buttonUpdateNoDone = (ns: string, disabled = false) => {\r\n    return `<button class=\"button is-primary\" ${disabled ? \"disabled\" : \"\"} onclick=\"${ns}.save()\"><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>${i18n(\"Update\")}</span></button>\r\n`;\r\n}\r\n\r\nexport const buttonUpload = (ns: string, disabled = false, label = \"Upload File\") => {\r\n    return `<button class=\"button is-primary\" ${disabled ? \"disabled\" : \"\"} onclick=\"${ns}.create()\"><span class=\"icon\"><i class=\"far fa-cloud-upload-alt\"></i></span><span>${i18n(label)}</span></button>`;\r\n}\r\n","\"use strict\"\r\n\r\nimport * as Lookup from \"../admin/lookupdata\"\r\n\r\n\r\n\r\nexport const renderCheckboxField = (ns: string, propName: string, value: boolean, label: string, text?: string, help?: string, disabled = false) => {\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            ${renderCheckboxInline(ns, propName, value, label, (text == undefined ? label : text), help, disabled)}\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderCheckboxInline = (ns: string, propName: string, value: boolean, label = \"\", text = \"\", help?: string, disabled = false) => {\r\n    return `\r\n    <div class=\"field\">\r\n        ${rawCheckbox(ns, propName, value, text, disabled)}\r\n        ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n    </div>`;\r\n}\r\n\r\nexport const renderCheckboxFilter = (ns: string, propName: string, value: boolean, label = \"\", text: string) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <label class=\"label\">${label}</label>\r\n        <div class=\"field-body\">\r\n            <label class=\"checkbox\">\r\n                <input type=\"checkbox\" onchange=\"${ns}.filter_${propName}(this)\" ${value ? \"checked\" : \"\"}> ${text}\r\n            </label>\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderCheckboxListField = (ns: string, propName: string, maskValue: number, label: string, list: Lookup.LookupData[]) => {\r\n    const checkboxTemplate = (entry: Lookup.LookupData) => {\r\n        let selected = (+entry.code & maskValue) != 0;\r\n        return `\r\n        <div>\r\n            <label class=\"checkbox\">\r\n                <input type=\"checkbox\" ${selected ? \"checked\" : \"\"} name=\"${ns}_${propName}\" onchange=\"${ns}.onchange(this)\" data-mask=\"${entry.code}\"> ${entry.description}\r\n            </label>\r\n        </div>`;\r\n    };\r\n\r\n    const checkboxes = list.reduce((html, one, index) => html + checkboxTemplate(one), \"\");\r\n\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label\" for=\"${ns}_${propName}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            <div class=\"field js-checkbox-row\">\r\n                ${checkboxes}\r\n            </div>\r\n        </div>\r\n    </div>\r\n`;\r\n}\r\n\r\n\r\nexport const rawCheckbox = (ns: string, propName: string, value: boolean, text: string, disabled = false) => {\r\n    return `\r\n    <div class=\"control\">\r\n        <label class=\"checkbox ${disabled ? \"js-disabled\" : \"\"}\">\r\n            <input type=\"checkbox\" id=\"${ns}_${propName}\" onchange=\"${ns}.onchange(this)\" ${value ? \"checked\" : \"\"} ${disabled ? \"disabled\" : \"\"}> ${text}\r\n        </label>\r\n    </div>`;\r\n}\r\n\r\nexport const rawToggle = (ns: string, propName: string, value: boolean, text_on: string, text_off: string) => {\r\n    return `\r\n<div class=\"js-toggle\">\r\n    <label for=\"${ns}_${propName}\">${value ? text_on : text_off}</label>\r\n    <input type=\"checkbox\" id=\"${ns}_${propName}\" onchange=\"${ns}.onchange(this)\" ${value ? \"checked\" : \"\"}>\r\n</div>\r\n`;\r\n}\r\n","\"use strict\"\r\n\r\nimport { IOpt } from \"./theme\";\r\nimport * as Lookup from \"../admin/lookupdata\"\r\n\r\n\r\n\r\nexport interface IOptDropdown extends IOpt {\r\n    hoverable: boolean\r\n}\r\n\r\n\r\nexport const renderDropdownField = (ns: string, propName: string, options: string, label: string, required: boolean = false, size: string = \"js-width-50\", help?: string, disabled = false) => {\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label ${required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            <div class=\"field\">\r\n                <div class=\"select ${size}\">\r\n                    ${renderDropdownNaked(ns, propName, options, required, disabled)}\r\n                </div>\r\n                ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n            </div>\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderDropdownInline = (ns: string, propName: string, options: string, required = false, disabled = false) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <div class=\"select\">\r\n            <select id=\"${ns}_${propName}\" \r\nonchange=\"${ns}.onchange(this)\" \r\n${required ? \"required='required'\" : \"\"}\r\n${disabled ? \"disabled tabindex='-1'\" : \"\"}>\r\n                ${options}\r\n            </select>\r\n        </div>\r\n    </div>\r\n`;\r\n}\r\n\r\nexport const renderDropdownExInline = (ns: string, propName: string, text: string, items: string, option: IOptDropdown) => {\r\n    return `\r\n    <div class=\"field\">\r\n<div class=\"dropdown ${option.hoverable ? \"is-hoverable\" : \"\"}\" ${!option.hoverable ? `onclick=\"this.classList.toggle('is-active')\"` : \"\"}>\r\n    <div class=\"dropdown-trigger\">\r\n        <div aria-controls=\"dropdown-menu-${propName}\">\r\n            <span>${text}</span>\r\n            <span class=\"icon is-small\">\r\n                <i class=\"fas fa-angle-down\" aria-hidden=\"true\"></i>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    <div class=\"dropdown-menu\" id=\"dropdown-menu-${propName}\" role=\"menu\">\r\n        <div class=\"dropdown-content\">\r\n            ${items}\r\n        </div>\r\n    </div>\r\n</div>\r\n    </div>\r\n`;\r\n}\r\n\r\nexport const renderDropdownNaked = (ns: string, propName: string, options: string, required = false, disabled = false) => {\r\n    return `\r\n    <select id=\"${ns}_${propName}\" onchange=\"${ns}.onchange(this)\" ${required ? \"required='required'\" : \"\"} ${disabled ? \"disabled tabindex='-1'\" : \"\"}>\r\n        ${options}\r\n    </select>`;\r\n}\r\n\r\nexport const renderDropdownFilter = (ns: string, propName: string, options: string, label: string, required: boolean = false, size: string = \"\", help?: string) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <label class=\"label ${required ? \"js-required\" : \"\"}\">${label}</label>\r\n        <div class=\"control\">\r\n            <div class=\"select\">\r\n                <select onchange=\"${ns}.filter_${propName}(this)\" ${required ? \"required='required'\" : \"\"}>\r\n                    ${options}\r\n                </select>\r\n            </div>\r\n        </div>\r\n        ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n    </div>`;\r\n}\r\n\r\n\r\n\r\n\r\nexport const renderOptions = (list: Lookup.LookupData[], selectedId: number | string, hasEmptyOption: boolean, emptyText = \"\") => {\r\n    return renderOptionsFun(list, selectedId, hasEmptyOption, emptyText, (item) => item.description);\r\n}\r\n\r\nexport const renderOptionsShowCode = (list: Lookup.LookupData[], selectedId: number | string, hasEmptyOption: boolean, emptyText = \"\") => {\r\n    return renderOptionsFun(list, selectedId, hasEmptyOption, emptyText, (item) => item.code);\r\n}\r\n\r\nexport const renderOptionsShowBoth = (list: Lookup.LookupData[], selectedId: number | string, hasEmptyOption: boolean, emptyText = \"\") => {\r\n    return renderOptionsFun(list, selectedId, hasEmptyOption, emptyText, (item) => `${item.code}     ${item.description}`);\r\n}\r\n\r\nexport const renderOptionsFun = (list: Lookup.LookupData[], selectedId: number | string, hasEmptyOption: boolean, emptyText = \"\", fun: (item: Lookup.LookupData) => string) => {\r\n    if (hasEmptyOption) {\r\n        let emptySelected = (selectedId == undefined) || (list.findIndex(one => one.id == selectedId) == -1);\r\n        return list.reduce((html, entry) => {\r\n            let selected = (selectedId != undefined && selectedId == entry.id);\r\n            return html + `<option value=\"${entry.id}\" ${selected ? \"selected\" : \"\"}>${fun(entry)}</option>`;\r\n        }, `<option value=\"\" ${emptySelected ? \"selected\" : \"\"}>${emptyText}</option>`);\r\n    }\r\n    else\r\n        return list.reduce((html, entry, index) => {\r\n            let selected = (selectedId != undefined && selectedId == entry.id);\r\n            selected = selected || (selectedId == undefined && index == 0);\r\n            return html + `<option value=\"${entry.id}\" ${selected ? \"selected\" : \"\"}>${fun(entry)}</option>`;\r\n        }, \"\");\r\n}\r\n\r\nexport const renderItems = (list: Lookup.LookupData[], selectedId: number | string, hasEmptyOption: boolean, emptyText = \"\") => {\r\n    if (hasEmptyOption) {\r\n        let emptySelected = (selectedId == undefined) || (list.findIndex(one => one.id == selectedId) == -1);\r\n        return list.reduce((html, entry) => {\r\n            let selected = (selectedId != undefined && selectedId == entry.id);\r\n            return html + `<div data-value=\"${entry.id}\" class=\"dropdown-item ${selected ? \"is-active\" : \"\"}\">${entry.description}</div>`;\r\n        }, `<div data-value=\"\" class=\"dropdown-item ${emptySelected ? \"is-active\" : \"\"}\">${emptyText}</div>`);\r\n    }\r\n    else\r\n        return list.reduce((html, entry, index) => {\r\n            let selected = (selectedId != undefined && selectedId == entry.id);\r\n            selected = selected || (selectedId == undefined && index == 0);\r\n            return html + `<div data-value=\"${entry.id}\" class=\"dropdown-item ${selected ? \"is-active\" : \"\"}\">${entry.description}</div>`;\r\n        }, \"\");\r\n}\r\n\r\nexport const renderNullableBooleanOptions = (value: boolean, description: string[]) => {\r\n    return `\r\n    <option value=\"\" ${value == undefined ? \"selected\" : \"\"}>${description[0]}</option>\r\n    <option value=\"true\" ${value != undefined && value ? \"selected\" : \"\"}>${description[1]}</option>\r\n    <option value=\"false\" ${value != undefined && !value ? \"selected\" : \"\"}>${description[2]}</option>\r\n    `;\r\n}\r\n\r\nexport const renderNullableBooleanOptionsReverse = (value: boolean, description: string[]) => {\r\n    return `\r\n    <option value=\"false\" ${value != undefined && !value ? \"selected\" : \"\"}>${description[2]}</option>\r\n    <option value=\"true\" ${value != undefined && value ? \"selected\" : \"\"}>${description[1]}</option>\r\n    <option value=\"\" ${value == undefined ? \"selected\" : \"\"}>${description[0]}</option>\r\n    `;\r\n}\r\n\r\n\r\n\r\n\r\nexport const renderDatalistOptions = (list: Lookup.LookupData[]) => {\r\n    return list.reduce((html, entry) => {\r\n        return html + `<option value=\"${entry.description}\">`;\r\n    }, \"\");\r\n\r\n}\r\n","\"use strict\"\r\n\r\nimport { IOpt } from \"./theme\";\r\n\r\n\r\n\r\nexport interface IOptSelect extends IOpt {\r\n}\r\n\r\n\r\nexport const rawSelect = (ns: string, propName: string, options: string, option: IOptSelect) => {\r\n    return `\r\n<div class=\"control ${option.size || \"\"}\">\r\n    <div class=\"select\" style=\"width:100%\">\r\n        <select id=\"${ns}_${propName}\" style=\"width:100%\" onchange=\"${ns}.onchange(this)\" ${option.required ? \"required='required'\" : \"\"} ${option.disabled ? \"disabled tabindex='-1'\" : \"\"}>\r\n            ${options}\r\n        </select>\r\n    </div>\r\n</div>`;\r\n}\r\n","\"use strict\"\r\n\r\nimport * as Lookup from \"../admin/lookupdata\"\r\n\r\n\r\n\r\nexport const renderRadioField = (radios: string, label: string, disabled = false) => {\r\n    return `\r\n    <div class=\"field is-horizontal js-radio\">\r\n        <div class=\"field-label\"><label class=\"label\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            <div class=\"control ${disabled ? \"js-disabled\" : \"\"}\">\r\n                ${radios}\r\n            </div>\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderRadios = (ns: string, propName: string, list: Lookup.LookupData[], selectedId: number | string, hasEmptyOption: boolean, emptyText = \"\") => {\r\n    if (hasEmptyOption) {\r\n        return list.reduce((html, entry) => {\r\n            let checked = (selectedId != undefined && selectedId == entry.id);\r\n            let disabled = (entry.disabled != undefined && entry.disabled);\r\n            return html + `\r\n            <label class=\"radio ${disabled ? \"js-disabled\" : \"\"}\">\r\n                <input type=\"radio\" name=\"${ns}_${propName}\" data-value=\"${entry.id}\" onchange=\"${ns}.onchange(this)\" ${checked ? \"checked\" : \"\"} ${disabled ? \"disabled\" : \"\"}>\r\n                ${entry.description}\r\n            </label>`;\r\n        }, `<label class=\"radio\">\r\n                <input type=\"radio\" name=\"${ns}_${propName}\" data-value=\"\" onchange=\"${ns}.onchange(this)\" ${selectedId == undefined ? \"checked\" : \"\"}>\r\n                ${emptyText}\r\n            </label>`\r\n        );\r\n    }\r\n    else {\r\n        return list.reduce((html, entry, index) => {\r\n            let checked = (selectedId != undefined && selectedId == entry.id);\r\n            checked = checked || (selectedId == undefined && index == 0);\r\n            let disabled = (entry.disabled != undefined && entry.disabled);\r\n            return html + `\r\n            <label class=\"radio ${disabled ? \"js-disabled\" : \"\"}\">\r\n                <input type=\"radio\" name=\"${ns}_${propName}\" data-value=\"${entry.id}\" onchange=\"${ns}.onchange(this)\" ${checked ? \"checked\" : \"\"} ${disabled ? \"disabled\" : \"\"}>\r\n                ${entry.description}\r\n            </label>`;\r\n        }, \"\");\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport * as Misc from \"../lib-ts/misc\"\r\n\r\n\r\n\r\nexport const renderNumberFilter = (ns: string, propName: string, value: number, label: string = \"\", required: boolean = false, help?: string) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <label class=\"label ${required ? \"js-required\" : \"\"}\">${label}</label>\r\n        <div class=\"control\" style=\"width: 100px\">\r\n            <input type=\"number\" class=\"input\" id=\"${ns}_${propName}\" value=\"${Misc.toInputNumber(value)}\" onchange=\"${ns}.filter_${propName}(this)\" ${required ? \"required='required'\" : \"\"}>\r\n        </div>\r\n        ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n    </div>`;\r\n}\r\n\r\nexport const renderDateFilter = (ns: string, propName: string, value: Date, label: string = \"\", required: boolean = false, help?: string, min: Date = null, max: Date = null) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <label class=\"label ${required ? \"js-required\" : \"\"}\">${label}</label>\r\n        <div class=\"control\">\r\n            <input type=\"date\" class=\"input\"\r\nid=\"${ns}_${propName}\" \r\nvalue=\"${Misc.toInputDate(value)}\" \r\nonchange=\"${ns}.filter_${propName}(this)\" \r\n${required ? \"required='required'\" : \"\"}\r\n${min ? `min=\"${Misc.toInputDate(min)}\"` : \"\"}\r\n${max ? `max=\"${Misc.toInputDate(max)}\"` : \"\"}\r\n${required ? \"required='required'\" : \"\"}>\r\n        </div>\r\n        ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n    </div>`;\r\n}\r\n\r\nexport const renderDateChanger = (ns: string, propName: string, disabled = false) => {\r\n    return `\r\n<div class=\"field\" style=\"margin-left: -0.75rem;\">\r\n    <label class=\"label\">&nbsp;</label>\r\n    <div class=\"buttons has-addons\">\r\n        <button class=\"button\" ${disabled ? \"disabled\" : \"\"} onclick=\"${ns}.filter_${propName}(this, 'previous')\"><i class=\"fas fa-angle-left\"></i></button>\r\n        <button class=\"button\" ${disabled ? \"disabled\" : \"\"} onclick=\"${ns}.filter_${propName}(this, 'next')\"><i class=\"fas fa-angle-right\"></i></button>\r\n    </div>\r\n</div>\r\n`;\r\n}","\"use strict\"\r\n\r\nimport * as Misc from \"../lib-ts/misc\"\r\nimport { IOpt } from \"./theme\";\r\n\r\n\r\n\r\nexport interface IOptNumber extends IOpt {\r\n    min: number\r\n    max: number\r\n    step: number\r\n    places: number\r\n    allowNegative: boolean\r\n}\r\n\r\n\r\nexport const renderNumberField = (ns: string, propName: string, value: number, label: string, required: boolean = false, size: string = \"js-width-10\", help?: string) => {\r\n    return `\r\n<div class=\"field is-horizontal\">\r\n    <div class=\"field-label\"><label class=\"label ${required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n    <div class=\"field-body\">\r\n        <div class=\"field\">\r\n            <div class=\"control ${size}\">\r\n                <input type=\"number\" class=\"input has-text-right\"\r\n                    id=\"${ns}_${propName}\" \r\n                    value=\"${Misc.toInputNumber(value)}\" \r\n                    onchange=\"${ns}.onchange(this)\" \r\n                    ${required ? \"required='required'\" : \"\"}>\r\n            </div>\r\n            ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n        </div>\r\n    </div>\r\n</div>`;\r\n}\r\n\r\nexport const renderNumberInline = (ns: string, propName: string, value: number, required = false, disabled = false) => {\r\n    return `\r\n<div class=\"field\">\r\n    <div class=\"control\">\r\n        <input type=\"number\" class=\"input has-text-right\"\r\n            id=\"${ns}_${propName}\" \r\n            value=\"${Misc.toInputNumber(value)}\" \r\n            onchange=\"${ns}.onchange(this)\" \r\n            min=\"0\"\r\n            ${required ? \"required='required'\" : \"\"}\r\n            ${disabled ? \"tabindex='-1'\" : \"\"}>\r\n    </div>\r\n</div>`;\r\n}\r\n\r\nexport const renderDecimalField = (ns: string, propName: string, value: number, label: string, option: IOptNumber) => {\r\n    return `\r\n<div class=\"field is-horizontal\">\r\n    <div class=\"field-label\"><label class=\"label ${option.required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n    <div class=\"field-body\">\r\n        ${renderDecimalInline(ns, propName, value, option)}\r\n    </div>\r\n</div>`;\r\n}\r\n\r\nexport const renderDecimalInline = (ns: string, propName: string, value: number, option: IOptNumber) => {\r\n    let hasAddonStatic = (option.addonStatic != undefined);\r\n    let hasAddon = (option.addon != undefined);\r\n    return `\r\n<div class=\"field\">\r\n    <div class=\"field ${hasAddon || hasAddonStatic ? \"has-addons\" : \"\"}\" style=\"margin-bottom:0;\">\r\n        <div class=\"control ${option.size ? option.size : \"\"}\">\r\n            <input type=\"text\" class=\"input has-text-right\"\r\n                id=\"${ns}_${propName}\" \r\n                value=\"${Misc.toStaticNumberDecimal(value, option.places, true)}\" \r\n                onchange=\"${ns}.onchange(this)\" \r\n                ${option.required ? \"required='required'\" : \"\"}\r\n                ${option.disabled ? \"disabled tabindex='-1'\" : \"\"}\r\n                ${option.places ? `pattern=\"^${option.allowNegative ? \"(-)?\" : \"\"}[0-9]+(\\\\.[0-9]{0,${option.places}})?$\"` : \"\"}\r\n                ${option.autoselect ? `onfocus=\"this.select()\"` : \"\"} >\r\n        </div>\r\n${hasAddonStatic ? `\r\n        <div class=\"control\">\r\n            <a class=\"button js-static\">\r\n                ${option.addonStatic}\r\n            </a>\r\n        </div>\r\n` : ``}\r\n${hasAddon ? `\r\n        <div class=\"control\">\r\n            ${option.addon}\r\n        </div>\r\n` : ``}\r\n    </div>\r\n    ${option.help != undefined ? `<p class=\"help\">${option.help}</p>` : ``}\r\n</div>`;\r\n}\r\n\r\nexport const renderNumberField2 = (ns: string, propName: string, value: number, label: string, option: IOptNumber) => {\r\n    return `\r\n<div class=\"field is-horizontal\">\r\n    <div class=\"field-label\"><label class=\"label ${option.required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n    <div class=\"field-body\">\r\n        ${renderNumberInline2(ns, propName, value, option)}\r\n    </div>\r\n</div>`;\r\n}\r\n\r\nexport const renderNumberInline2 = (ns: string, propName: string, value: number, option: IOptNumber) => {\r\n    let hasAddonStatic = (option.addonStatic != undefined);\r\n    let hasAddon = (option.addon != undefined);\r\n    return `\r\n<div class=\"field\">\r\n    <div class=\"field ${hasAddon || hasAddonStatic ? \"has-addons\" : \"\"}\" style=\"margin-bottom:0;\">\r\n        <div class=\"control ${option.size ? option.size : \"\"}\">\r\n            <input type=\"number\" class=\"input has-text-right\"\r\n                id=\"${ns}_${propName}\" \r\n                value=\"${Misc.toInputNumber(value)}\"\r\n                onchange=\"${ns}.onchange(this)\"\r\n                ${option.required ? \"required='required'\" : \"\"}\r\n                ${option.min != undefined ? `min=${option.min}` : \"\"}\r\n                ${option.max != undefined ? `max=${option.max}` : \"\"}\r\n                ${option.step ? `step=${option.step}` : \"\"}\r\n                ${option.disabled ? \"disabled tabindex='-1'\" : \"\"}>\r\n        </div>\r\n${hasAddonStatic ? `\r\n        <div class=\"control\">\r\n            <a class=\"button js-static\">\r\n                ${option.addonStatic}\r\n            </a>\r\n        </div>\r\n` : ``}\r\n${hasAddon ? `\r\n        <div class=\"control\">\r\n            ${option.addon}\r\n        </div>\r\n` : ``}\r\n    </div>\r\n    ${option.help != undefined ? `<p class=\"help\">${option.help}</p>` : ``}\r\n</div>`;\r\n}\r\n","\"use strict\"\r\n\r\nimport * as Misc from \"../lib-ts/misc\"\r\nimport { NS } from \"./latlong\"\r\n\r\n\r\n\r\nexport const renderDDMMCC = (ns: string, isDDMMCC: boolean) => {\r\n    return `\r\n<div class=\"field is-horizontal\">\r\n    <div class=\"field-label\">\r\n        <label class=\"label\">&nbsp;</label>\r\n    </div>\r\n    <div class=\"field-body\">\r\n        <div class=\"field\">\r\n            <div class=\"control\">\r\n                <label class=\"checkbox\">\r\n                    <input type=\"checkbox\" onchange=\"${ns}.onDDMMCC(this)\" ${isDDMMCC ? \"checked\" : \"\"}> Enter latitude and longitude using <b>DD MM.CC</b> instead of <b>DD MM SS</b>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n`;\r\n}\r\n\r\nexport const renderLatField = (ns: string, propName: string, value: number, label: string, required: boolean = false, size: string = \"\", help?: string, isDDMMCC = false) => {\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label ${required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            ${renderLatLongInline(ns, propName, value, required, size, help, false, isDDMMCC)}\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderLongField = (ns: string, propName: string, value: number, label: string, required: boolean = false, size: string = \"\", help?: string, isDDMMCC = false) => {\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label ${required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            ${renderLatLongInline(ns, propName, value, required, size, help, true, isDDMMCC)}\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderLatLongInline = (ns: string, propName: string, value: number, required: boolean = false, size: string = \"\", help?: string, isLongitude = false, isDDMMCC = false) => {\r\n    return `\r\n    <div class=\"field has-addons\">\r\n        <div class=\"control ${size}\">\r\n            <input type=\"text\" class=\"input js-no-spinner\"\r\n                id=\"${ns}_${propName}\" \r\n                data-islongitude=\"${isLongitude}\"\r\n                data-isddmmcc=\"${isDDMMCC ? \"true\" : \"false\"}\"\r\n                value=\"${isDDMMCC ? Misc.toInputLatLongDDMMCC(value) : Misc.toInputLatLong(value)}\" \r\n                onfocus=\"${NS}.onfocusLatLon(this)\"\r\n                onchange=\"${NS}.onchangeLatLon(this); ${ns}.onchange(this);\"\r\n                onblur=\"${NS}.onblurLatLon(this)\"\r\n                ${required ? \"required='required'\" : \"\"}\r\n                autocomplete=\"off\">\r\n        </div>\r\n${isDDMMCC ? `\r\n        <div class=\"control\">\r\n            <a class=\"button js-static\">${Misc.toInputLatLong(value)}</a>\r\n        </div>\r\n` : ``}\r\n        ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n    </div>\r\n`;\r\n}\r\n","\"use strict\"\r\n\r\nimport * as Misc from \"../lib-ts/misc\"\r\nimport { IOpt } from \"./theme\";\r\n\r\ndeclare const marked: any;\r\n\r\n\r\nexport interface IOptText extends IOpt {\r\n    max: number\r\n    listid: string\r\n}\r\n\r\n\r\nexport const renderTextField = (ns: string, propName: string, value: string, label: string, maxlength: number, required: boolean = false, size: string = \"\", help?: string) => {\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label ${required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            ${renderTextInline(ns, propName, value, maxlength, required, size, help)}\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderTextField2 = (ns: string, propName: string, value: string, label: string, maxlength: number, option: IOptText) => {\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label ${option.required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            ${renderTextInline2(ns, propName, value, maxlength, option)}\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderTextInline = (ns: string, propName: string, value: string, maxlength: number, required: boolean = false, size: string = \"\", help?: string, datalist?: string) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <div class=\"control ${size}\">\r\n            <input type=\"text\" class=\"input\" id=\"${ns}_${propName}\" value=\"${Misc.toInputText(value)}\" onchange=\"${ns}.onchange(this)\" ${maxlength != undefined ? `maxlength=\"${maxlength}\"` : \"\"} ${required ? \"required='required'\" : \"\"} ${datalist ? `list=\"${datalist}\"` : \"\"}>\r\n        </div>\r\n        ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n    </div>`;\r\n}\r\n\r\nexport const renderTextInline2 = (ns: string, propName: string, value: string, maxlength: number, option: IOptText) => {\r\n    let hasAddonStatic = (option.addonStatic != undefined);\r\n    let hasAddon = (option.addon != undefined);\r\n    let hasAddonHead = (option.addonHead != undefined);\r\n    return `\r\n    <div class=\"field\">\r\n    <div class=\"field ${hasAddon || hasAddonStatic || hasAddonHead ? \"has-addons\" : \"\"}\" style=\"margin-bottom:0;\">\r\n${hasAddonHead ? `\r\n        <p class=\"control\">\r\n            ${option.addonHead}\r\n        </p>\r\n` : ``}\r\n        <div class=\"control ${option.size != undefined ? option.size : \"\"}\">\r\n            <input type=\"text\" class=\"input\" id=\"${ns}_${propName}\" value=\"${Misc.toInputText(value)}\" \r\n                onchange=\"${ns}.onchange(this)\"\r\n                ${maxlength != undefined ? `maxlength=\"${maxlength}\"` : \"\"}\r\n                ${option.required ? \"required='required'\" : \"\"}\r\n                ${option.noautocomplete ? \"autocomplete='off'\" : \"\"}\r\n                ${option.disabled ? \"disabled\" : \"\"}\r\n                ${option.listid ? `list=\"${option.listid}\"` : \"\"}>\r\n        </div>\r\n${hasAddonStatic ? `\r\n        <div class=\"control\">\r\n            <a class=\"button js-static\" ${option.addonHref != undefined ? `href=\"${option.addonHref}\"` : ``}>\r\n                ${option.addonStatic}\r\n            </a>\r\n        </div>\r\n` : ``}\r\n${hasAddon ? `\r\n        <div class=\"control\">\r\n            ${option.addon}\r\n        </div>\r\n` : ``}\r\n    </div>\r\n    ${option.help != undefined ? `<p class=\"help\">${option.help}</p>` : ``}\r\n    </div>`;\r\n}\r\n\r\nexport const renderTextareaField = (ns: string, propName: string, value: string, label: string, maxlength = 0, required = false, help?: string, rows = 2) => {\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label ${required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            ${renderTextareaInline(ns, propName, value, maxlength, required, help, rows)}\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderTextareaField_V = (ns: string, propName: string, value: string, label: string, maxlength = 0, required = false, help?: string, rows = 2, event = \"onchange\") => {\r\n    return `\r\n    <div class=\"field\">\r\n        <label class=\"label ${required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label>\r\n        <div class=\"control\">\r\n            <textarea class=\"textarea\" rows=\"${rows}\" spellcheck=\"false\" id=\"${ns}_${propName}\" ${event}=\"${ns}.${event}(this, event)\" maxlength=\"${maxlength}\" ${required ? \"required='required'\" : \"\"}>${Misc.toInputText(value)}</textarea>\r\n        </div>\r\n        ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n    </div>`;\r\n}\r\n\r\nexport const renderTextareaInline = (ns: string, propName: string, value: string, maxlength = 0, required = false, help?: string, rows = 2) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <div class=\"control\">\r\n            <textarea class=\"textarea\" rows=\"${rows}\" spellcheck=\"false\" id=\"${ns}_${propName}\" onchange=\"${ns}.onchange(this)\" ${maxlength > 0 ? `maxlength=\"${maxlength}\"` : ``} ${required ? \"required='required'\" : \"\"}>${Misc.toInputText(value)}</textarea>\r\n        </div>\r\n        ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n    </div>`;\r\n}\r\n\r\nexport const renderTextareaFieldWithMarkdown = (ns: string, propName: string, value: string, label: string, maxlength = 0, required = false, help?: string, rows = 2, showHtml = false) => {\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label ${required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            <div class=\"field\">\r\n                <div class=\"js-wrap-markdown\" style=\"background-color: yellow; position: relative;\">\r\n                    <div class=\"control\">\r\n                        <textarea class=\"textarea\" rows=\"${rows}\" spellcheck=\"false\" id=\"${ns}_${propName}\" onchange=\"${ns}.onchange(this)\" ${maxlength > 0 ? `maxlength=\"${maxlength}\"` : ``} ${required ? \"required='required'\" : \"\"}>${Misc.toInputText(value)}</textarea>\r\n                    </div>\r\n                    <div style=\"position:absolute; top:0; left:0; width:100%; height:100%; overflow:auto; padding:0 8px; background-color:white; border: 1px solid #e7eaec; ${!showHtml ? `display:none;` : \"\"}\">\r\n                        ${marked(value || \"\")}\r\n                    </div>\r\n                </div>\r\n                ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n            </div>\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\n\r\n\r\nexport const rawText = (ns: string, propName: string, value: string, option: IOptText) => {\r\n    return `\r\n<input type=\"text\" class=\"input ${option.size || \"\"} ${option.class || \"\"}\" ${option.style ? `style=\"${option.style}\"` : \"\"} id=\"${ns}_${propName}\" value=\"${Misc.toInputText(value)}\" onchange=\"${ns}.onchange(this)\" ${option.max != undefined ? `maxlength=\"${option.max}\"` : \"\"} ${option.required ? \"required='required'\" : \"\"}>\r\n`;\r\n}\r\n","\"use strict\"\r\n\r\nimport * as domlib from \"../lib-ts/domlib\"\r\nimport * as Misc from \"../lib-ts/misc\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport { IOpt } from \"./theme\";\r\n\r\n\r\n\r\nexport interface IOptDate extends IOpt {\r\n    min: string\r\n    max: string\r\n}\r\n\r\n\r\nexport const renderDateInline = (ns: string, propName: string, value: Date, option: IOptDate) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <div class=\"control\">\r\n            <input type=\"date\" class=\"input\"\r\nid=\"${ns}_${propName}\" \r\nvalue=\"${Misc.toInputDate(value)}\" \r\n${option.min ? `min=\"${option.min}\"` : \"\"}\r\n${option.max ? `max=\"${option.max}\"` : \"\"}\r\nonchange=\"${ns}.onchange(this)\" \r\n${option.required ? \"required='required'\" : \"\"}\r\n${option.disabled ? \"tabindex='-1' style='pointer-events:none'\" : \"\"}>\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nconst renderDateField = (ns: string, propName: string, value: Date, label: string, option: IOptDate) => {\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label ${option.required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            <div class=\"field\">\r\n                <!--<div class=\"field has-addons\">-->\r\n                <div class=\"field\">\r\n                    <div class=\"control ${option.size ? option.size : \"js-width-20\"}\">\r\n                        <input type=\"date\" class=\"input\" \r\n                            id=\"${ns}_${propName}\" \r\n                            value=\"${Misc.toInputDate(value)}\" \r\n                            onchange=\"${ns}.onchange(this)\" \r\n                            ${option.required ? \"required='required'\" : \"\"}>\r\n                    </div>\r\n<!--\r\n                    <div class=\"control\">\r\n                        <a class=\"button\">\r\n                            <i class=\"far fa-calendar-alt\"></i>\r\n                        </a>\r\n                    </div>\r\n-->\r\n                </div>\r\n                ${option.help ? `<p class=\"help\">${option.help}</p>` : ``}\r\n            </div>\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nconst renderDateTimeField = (ns: string, propName: string, value: Date, label: string, option: IOptDate) => {\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label ${option.required ? \"js-required\" : \"\"}\" for=\"${ns}_${propName}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            <div class=\"field\">\r\n                <div class=\"field\">\r\n                    <div class=\"control\" style=\"display: inline-block;\">\r\n                        <input type=\"date\" class=\"input\" \r\n                            id=\"${ns}_${propName}\" \r\n                            value=\"${Misc.toInputDate(value)}\" \r\n                            ${option.min ? `min=\"${option.min}\"` : \"\"}\r\n                            ${option.max ? `max=\"${option.max}\"` : \"\"}\r\n                            onchange=\"${ns}.onchange(this)\" \r\n                            ${option.required ? \"required='required'\" : \"\"}>\r\n                    </div>\r\n                    <div class=\"control\" style=\"display: inline-block;\">\r\n                        <input type=\"time\" class=\"input\"\r\n                            id=\"${ns}_${propName}_time\" \r\n                            value=\"${Misc.toInputTimeHHMM(value)}\" \r\n                            onchange=\"${ns}.onchange(this)\" \r\n                            ${option.required ? \"required='required'\" : \"\"}>\r\n                    </div>\r\n                </div>\r\n                ${option.help ? `<p class=\"help\">${option.help}</p>` : ``}\r\n            </div>\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\n\r\n\r\nexport const renderDateExInline = (ns: string, propName: string, value: Date, option: IOptDate) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <div class=\"control\" style=\"width: 90px;\">\r\n            <input type=\"text\" class=\"input js-no-spinner\" \r\nid=\"${ns}_${propName}\" \r\nvalue=\"${Misc.toInputDate(value)}\" \r\n${option.min ? `min=\"${option.min}\"` : \"\"}\r\n${option.max ? `max=\"${option.max}\"` : \"\"}\r\nonfocus=\"${ns}.ondate(this, 'focus')\" onchange=\"${ns}.ondate(this, 'change')\" onblur=\"${ns}.ondate(this, 'blur')\" \r\nautocomplete=\"off\"\r\n${option.required ? \"required='required'\" : \"\"}\r\n${option.disabled ? \"tabindex='-1' style='pointer-events:none'\" : \"\"}>\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\n","\"use strict\"\r\n\r\nimport * as Misc from \"../lib-ts/misc\"\r\nimport { Calendar } from \"./calendar\"\r\nimport { IOpt } from \"./theme\";\r\n\r\n\r\nexport interface IOptDateTime extends IOpt {\r\n    changerCaption?: boolean\r\n}\r\n\r\n\r\nexport const renderCalendarField = (ns: string, propName: string, calendar: Calendar, label: string, option: IOptDateTime = {}) => {\r\n    let input_id = `${ns}_${propName}`;\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label ${calendar.required ? \"js-required\" : \"\"}\" for=\"${input_id}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            ${renderCalendarInline(ns, propName, calendar, option)}\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderCalendarFilter = (ns: string, propName: string, calendar: Calendar, label: string, option: IOptDateTime = {}) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <label class=\"label ${option.required ? \"js-required\" : \"\"}\">${label}</label>\r\n${renderCalendarInline(ns, propName, calendar, option)}\r\n    </div>`;\r\n}\r\n\r\nexport const renderCalendarInline = (ns: string, propName: string, calendar: Calendar, option: IOptDateTime) => {\r\n    let input_id = `${ns}_${propName}`;\r\n    return `\r\n    <div id=\"${input_id}_wrapper\" class=\"field-body\">\r\n    <div class=\"field\">\r\n        <div class=\"js-calendar\">\r\n            ${calendar.render()}\r\n        </div>\r\n        <div class=\"field has-addons\">\r\n            <div class=\"control\" style=\"width: 90px;\">\r\n                <input type=\"text\" class=\"input js-no-spinner\" \r\n                    id=\"${input_id}\" \r\n                    value=\"${Misc.toInputDate(calendar.dateValue)}\" \r\n                    ${calendar.minValue ? `data-min=\"${Misc.toInputDate(calendar.minValue)}\"` : \"\"}\r\n                    ${calendar.maxValue ? `data-max=\"${Misc.toInputDate(calendar.maxValue)}\"` : \"\"}\r\n                    autocomplete=\"off\"\r\n                    ${calendar.required ? `required=\"required\"` : \"\"} \r\n                    ${calendar.disableDate ? \"disabled\" : \"\"}>\r\n            </div>\r\n\r\n${calendar.hasTime ? `\r\n            <div class=\"control\" style=\"width: 60px;\">\r\n                <input type=\"text\" class=\"input js-no-spinner\"\r\n                    id=\"${input_id}_time\" \r\n                    value=\"${Misc.toInputTimeHHMM(calendar.dateValue)}\" \r\n                    autocomplete=\"off\"\r\n                    ${calendar.required ? \"required='required'\" : \"\"}\r\n                    ${calendar.isNullDate ? \"disabled\" : \"\"} >\r\n            </div>\r\n` : \"\"}\r\n\r\n${!calendar.required && !calendar.disableDate ? `\r\n            <div class=\"control\">\r\n                <button id=\"${input_id}_clear\" class=\"button\"><i class=\"far fa-times\"></i></button>\r\n            </div>\r\n` : \"\"}\r\n\r\n${!calendar.disableDate ? `\r\n            <div class=\"control\">\r\n                <a id=\"${input_id}_popup\" class=\"button\"><i class=\"far fa-calendar-alt\"></i></a>\r\n            </div>\r\n` : \"\"}\r\n\r\n${calendar.hasChanger ? `\r\n            <div class=\"control\">\r\n                <button id=\"${input_id}_previous\" class=\"button\" ${calendar.isNullDate ? \"disabled\" : \"\"}>\r\n                    <i class=\"fas fa-angle-left\"></i>${option.changerCaption ? \"&nbsp;Previous Day\" : \"\"}\r\n                </button>\r\n            </div>\r\n            <div class=\"control\">\r\n                <button id=\"${input_id}_next\" class=\"button\" ${calendar.isNullDate ? \"disabled\" : \"\"}>\r\n                    <i class=\"fas fa-angle-right\"></i>${option.changerCaption ? \"&nbsp;Next Day\" : \"\"}\r\n                </button>\r\n            </div>\r\n` : \"\"}\r\n\r\n        </div>\r\n        ${option.help ? `<p class=\"help\">${option.help}</p>` : \"\"}\r\n    </div>\r\n    </div>`;\r\n}","\"use strict\"\r\n\r\nimport * as Misc from \"../lib-ts/misc\"\r\nimport { IOpt } from \"./theme\";\r\n\r\n\r\n\r\nexport const renderStaticField = (value: string, label: string, help?: string, required = false) => {\r\n    return `\r\n    <div class=\"field is-horizontal js-field-static\">\r\n        <div class=\"field-label\"><label class=\"label ${required ? \"js-required\" : \"\"}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            <div style=\"width: 100%; height: 2.534em; padding-top: 6px;\">\r\n                ${Misc.toInputText(value)}\r\n                ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n            </div>\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderStaticField2 = (value: string, label: string, option: IOpt) => {\r\n    return `\r\n<div class=\"field is-horizontal js-field-static\">\r\n    <div class=\"field-label\"><label class=\"label\">${label}</label></div>\r\n    <div class=\"field-body\">\r\n        ${renderStaticInline2(value, option)}\r\n    </div>\r\n</div>`;\r\n}\r\n\r\nexport const renderStaticHtmlField = (value: string, label: string, help?: string) => {\r\n    return `\r\n    <div class=\"field is-horizontal js-field-static\">\r\n        <div class=\"field-label\"><label class=\"label\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            <div style=\"width: 100%; padding-top: 6px;\">\r\n                ${value == undefined ? \"\" : value}\r\n                ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n            </div>\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderStaticField_V = (value: string, label: string, help?: string, extraStyle = \"\") => {\r\n    return `\r\n    <div class=\"field\">\r\n        <label class=\"label\">${label}</label>\r\n        <div class=\"control\" style=\"${extraStyle}\">${Misc.toInputText(value)}</div>\r\n        ${help != undefined ? `<p class=\"help\">${help}</p>` : ``}\r\n    </div>`;\r\n}\r\n\r\nexport const renderStaticInline = (value: string) => {\r\n    return `\r\n    <div class=\"field\">\r\n        <div class=\"field-body\"><span>${value}</span></div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderStaticInline2 = (value: string, option: IOpt) => {\r\n    let hasAddonStatic = (option.addonStatic != undefined);\r\n    let hasAddon = (option.addon != undefined);\r\n    return `\r\n<div class=\"field\" ${!hasAddon && !hasAddonStatic ? `style=\"padding-bottom: 6px;\"` : \"\"}>\r\n    <div class=\"field ${hasAddon || hasAddonStatic ? \"has-addons\" : \"\"}\">\r\n        <div class=\"control\">\r\n            <div class=\"field-body\"><span style=\"margin-right: 8px;\">${value}</span></div>\r\n        </div>\r\n${hasAddonStatic ? `\r\n        <div class=\"control\">\r\n            <a class=\"button js-static\">\r\n                ${option.addonStatic}\r\n            </a>\r\n        </div>\r\n` : ``}\r\n${hasAddon ? `\r\n        <div class=\"control\">\r\n            ${option.addon}\r\n        </div>\r\n` : ``}\r\n    </div>\r\n    ${option.help != undefined ? `<p class=\"help\">${option.help}</p>` : ``}\r\n</div>`;\r\n}\r\n","\"use strict\"\r\n\r\n\r\ndeclare const i18n: any;\r\n\r\nexport interface IChoice {\r\n    text: string\r\n    onclick: string\r\n    icon?: string\r\n}\r\n\r\n\r\nexport const renderButtonWithConfirm = (title: string, icon: string, items: string | string[], onclick: string, disabled = false, active = false, hoverable = false, ontoggle: string = null, valid = true) => {\r\n    let uid = new Date().getTime();\r\n    let tag = (disabled ? \"p\" : \"a\");\r\n\r\n    let itemsHtml = \"\";\r\n    if (typeof items === \"string\")\r\n        itemsHtml = `<div class=\"dropdown-item\">${items}</div>`;\r\n    else\r\n        itemsHtml = items.reduce((html, item) => html + `<div class=\"dropdown-item\">${item}</div>`, \"\");\r\n\r\n    return `\r\n<div class=\"dropdown ${active ? \"is-active\" : \"\"} ${hoverable ? \"is-hoverable\" : \"\"}\">\r\n    <div class=\"dropdown-trigger\" onclick=\"${ontoggle != undefined ? ontoggle : \"App_Theme.toggleActive(this)\"}\">\r\n      <button class=\"button\" aria-haspopup=\"true\" aria-controls=\"dropdown-${uid}\" ${disabled ? \"disabled\" : \"\"}>\r\n        ${icon != undefined ? `<span class=\"icon\"><i class=\"${icon}\"></i></span>` : ``}\r\n        <span>${title}</span>\r\n      </button>\r\n    </div>\r\n    <div class=\"dropdown-menu\" id=\"dropdown-${uid}\" role=\"menu\">\r\n      <div class=\"dropdown-content\">\r\n        ${itemsHtml}\r\n        <hr class=\"dropdown-divider\">\r\n${valid ? `\r\n        <${tag} href=\"#\" class=\"dropdown-item\" onclick=\"${onclick};return false;\">\r\n          <span class=\"icon\"><i class=\"fa fa-check\"></i></span> ${i18n(\"Yes, do that\")}\r\n        </${tag}>\r\n` : `\r\n        <p href=\"#\" class=\"dropdown-item\" style=\"opacity:0.5\">\r\n          <span class=\"icon\"><i class=\"fa fa-check\"></i></span> ${i18n(\"Yes, do that\")}\r\n        </p>\r\n`}\r\n      </div>\r\n    </div>\r\n</div>`;\r\n};\r\n\r\nexport const renderButtonWithConfirmChoices = (title: string, icon: string, helpText: string, choices: IChoice[], disabled = false) => {\r\n    let uid = new Date().getTime();\r\n    let tag = (disabled ? \"p\" : \"a\");\r\n\r\n    let choiceTemplate = (item: IChoice) => {\r\n        return `\r\n            <${tag} href=\"#\" class=\"dropdown-item\" onclick=\"${item.onclick};return false;\">\r\n                <span class=\"icon\"><i class=\"${item.icon != undefined ? item.icon : \"far fa-arrow-circle-right\"}\"></i></span> ${item.text}\r\n            </${tag}>`;\r\n    };\r\n    let lines = choices.reduce((html, item) => html + choiceTemplate(item), \"\");\r\n\r\n    return `\r\n<div class=\"dropdown is-up\" onclick=\"App_Theme.toggleActive(this)\">\r\n    <div class=\"dropdown-trigger\">\r\n      <button class=\"button\" aria-haspopup=\"true\" aria-controls=\"dropdown-${uid}\" ${disabled ? \"disabled\" : \"\"}>\r\n        ${icon != undefined ? `<span class=\"icon\"><i class=\"${icon}\"></i></span>` : ``}\r\n        <span>${title}</span>\r\n      </button>\r\n    </div>\r\n    <div class=\"dropdown-menu\" id=\"dropdown-${uid}\" role=\"menu\">\r\n      <div class=\"dropdown-content\">\r\n        <div class=\"dropdown-item\">\r\n            ${helpText}\r\n        </div>\r\n        <hr class=\"dropdown-divider\">\r\n        ${lines}\r\n      </div>\r\n    </div>\r\n</div>`;\r\n};\r\n\r\nexport const renderButton = (title: string, icon: string, onclick: string, disabled = false) => {\r\n    return `\r\n<button class=\"button\" onclick=\"${onclick}\" ${disabled ? \"disabled\" : \"\"}>\r\n    <span class=\"icon\"><i class=\"${icon}\"></i></span>\r\n    <span>${title}</span>\r\n</button>`;\r\n};\r\n","\"use strict\"\r\n\r\nimport * as domlib from \"../lib-ts/domlib\"\r\nimport * as Misc from \"../lib-ts/misc\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const renderModalDelete = (id: string, onclick: string) => {\r\n    return `\r\n<div class=\"modal js-modal-delete\" id=\"${id}\" js-skip-render-class=\"is-active\">\r\n    <div class=\"modal-background\" onclick=\"App_Theme.closeModal(this);\"></div>\r\n    <div class=\"modal-card\">\r\n<div>\r\n        <header class=\"modal-card-head\">\r\n            <p class=\"modal-card-title\">${i18n(\"Confirm Delete\")}</p>\r\n            <button class=\"delete\" onclick=\"App_Theme.closeModal(this);\"></button>\r\n        </header>\r\n        <section class=\"modal-card-body\">\r\n            <div class=\"level\">\r\n                <div class=\"level-item has-text-centered\">\r\n                    <div>\r\n                        <p class=\"heading has-text-weight-bold\">${i18n(\"Are you sure you want to delete this item?\")}</p>\r\n                        <p class=\"heading\">${i18n(\"This operation cannot be undone.\")}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <footer class=\"modal-card-foot\">\r\n            <button class=\"button\" onclick=\"App_Theme.closeModal(this);\">\r\n                <span>${i18n(\"CANCEL\")}</span>\r\n            </button>\r\n            <button class=\"button is-danger\" onclick=\"App_Theme.closeModal(this);${onclick}\">\r\n                <span class=\"icon\"><i class=\"fa fa-times\"></i></span> <span>${i18n(\"Yes, Delete\")}</span>\r\n            </button>\r\n        </footer>\r\n</div>\r\n    </div>\r\n</div>`;\r\n};\r\n\r\nexport const openModal = (id: string) => {\r\n    document.getElementById(id).classList.add(\"is-active\");\r\n};\r\n\r\nexport const closeModal = (element: Element) => {\r\n    domlib.closestByClassName(element, \"modal\").classList.remove(\"is-active\");\r\n};\r\n","\"use strict\"\r\n\r\nimport * as Misc from \"../lib-ts/misc\"\r\nexport { renderActionButtons, renderActionButtons2, renderInlineActionButtons, renderListActionButtons, renderListActionButtons2, renderListFloatingActionButtons, renderButtons, buttonCancel, buttonInsert, buttonUpload, buttonAddNew, buttonDelete, buttonUpdate, buttonUpdateNoDone, renderButtonsInline, buttonCancelInline, buttonInsertInline, buttonAddNewInline, buttonDeleteInline, buttonUpdateInline } from \"./theme-action\"\r\nexport { rawCheckbox, renderCheckboxField, renderCheckboxInline, renderCheckboxFilter, renderCheckboxListField, rawToggle } from \"./theme-checkbox\"\r\nexport { IOptDropdown, renderDropdownField, renderDropdownInline, renderDropdownExInline, renderDropdownNaked, renderDropdownFilter, renderOptions, renderItems, renderOptionsFun, renderOptionsShowBoth, renderOptionsShowCode, renderNullableBooleanOptions, renderNullableBooleanOptionsReverse, renderDatalistOptions } from \"./theme-dropdown\"\r\nexport { IOptSelect, rawSelect } from \"./theme-select\"\r\nexport { renderRadios, renderRadioField } from \"./theme-radio\"\r\nexport { renderNumberFilter, renderDateFilter, renderDateChanger } from \"./theme-filter\"\r\nexport { IOptNumber, renderNumberField, renderNumberField2, renderNumberInline, renderDecimalField, renderDecimalInline, renderNumberInline2 } from \"./theme-number\"\r\nexport { renderLatField, renderLongField, renderLatLongInline, renderDDMMCC } from \"./theme-latlong\"\r\nexport { IOptText, rawText, renderTextField, renderTextField2, renderTextInline, renderTextInline2, renderTextareaField, renderTextareaField_V, renderTextareaInline, renderTextareaFieldWithMarkdown } from \"./theme-text\"\r\nexport { IOptDate, renderDateInline, renderDateExInline } from \"./theme-date\"\r\nexport { IOptDateTime, renderCalendarField, renderCalendarInline, renderCalendarFilter } from \"./theme-calendar\"\r\nexport { renderStaticField, renderStaticField2, renderStaticHtmlField, renderStaticField_V, renderStaticInline } from \"./theme-static\"\r\nexport { renderButtonWithConfirm, renderButtonWithConfirmChoices, renderButton } from \"./theme-button\"\r\nexport { renderAutocompleteField, renderAutocompleteInline } from \"./theme-autocomplete\"\r\nexport { renderModalDelete, openModal, closeModal } from \"./theme-modal\"\r\n\r\n\r\ndeclare const i18n: any;\r\n\r\nexport const NS = \"App_Theme\";\r\n\r\n\r\nexport interface IOpt {\r\n    required?: boolean\r\n    size?: string\r\n    help?: string\r\n    addonStatic?: string\r\n    addonHref?: string\r\n    addonHead?: string\r\n    addon?: string\r\n    noautocomplete?: boolean\r\n    disabled?: boolean\r\n    autoselect?: boolean\r\n    class?: string\r\n    style?: string\r\n}\r\n\r\n\r\n\r\nexport const toggleActive = (element: Element) => {\r\n    element.classList.toggle(\"is-active\");\r\n};\r\n\r\nexport const wrapContent = (contentClass: string, html: string) => {\r\n    if (html != undefined && html.length > 0)\r\n        return `<div class=\"content ${contentClass}\">${html}</div>`;\r\n    return \"\";\r\n};\r\n\r\nexport const warningTemplate = (errorMessages: string[]) => {\r\n    return errorMessages.reduce((text, error) => text +\r\n    `<div class=\"notification is-danger\">\r\n        <i class=\"fa fa-exclamation-triangle\"></i>&nbsp;${error}\r\n    </div>`,\r\n    \"\");\r\n};\r\n\r\nexport const fatalErrorTemplate403 = () => {\r\n    return `\r\n    <div class=\"notification is-danger\">\r\n        <h3><i class=\"fas fa-skull-crossbones\"></i>&nbsp;${i18n(\"Unauthorized\")}</h3>\r\n        ${i18n(\"You don't have the required permission for this operation\")}\r\n    </div>`;\r\n};\r\n\r\nexport const fatalErrorTemplate404 = () => {\r\n    return `\r\n    <div class=\"notification is-danger\">\r\n        <h3><i class=\"fas fa-skull-crossbones\"></i>&nbsp;${i18n(\"Failed to fetch page data\")}</h3>\r\n        ${i18n(\"You don't have the required permission for this operation\")}\r\n    </div>`;\r\n};\r\n\r\nexport const dirtyTemplate = (ns: string, details: string = null) => {\r\n    return `\r\n    <div class=\"notification is-warning\">\r\n        <i class=\"fa fa-exclamation-triangle\"></i>\r\n        <div style=\"display:inline-table;\">You have changes that are not saved. Click Update to save your changes or ${ns != undefined ? `<a onclick=\"${ns}.cancel(); return false;\">continue</a> without saving` : \"Cancel\"}.\r\n        ${details != undefined ? `<br>${details}` : \"\"}</div>\r\n    </div>`;\r\n};\r\n\r\nexport const unexpectedTemplate = () => {\r\n    return `<div class=\"notification is-danger\">\r\n        <i class=\"fa fa-exclamation-triangle\"></i>&nbsp;UNEXPECTED ERROR\r\n    </div>`;\r\n};\r\n\r\nexport const inConstruction = (text = \"In Construction\") => {\r\n    return `\r\n    <div class=\"notification is-size-4 has-text-centered\">\r\n        <span class=\"icon\"><i class=\"fas fa-wrench\"></i></span> ${text}\r\n    </div>\r\n    `;\r\n};\r\n\r\nexport const onburger = (element: HTMLElement) => {\r\n    let target = document.getElementById(element.dataset.target);\r\n    element.classList.toggle(\"is-active\");\r\n    target.classList.toggle(\"is-active\");\r\n}\r\n\r\nexport const renderBlame = (obj: any, isNew: boolean) => {\r\n    if (isNew || obj == undefined || obj.updated == undefined || obj.by == undefined) return \"\";\r\n    return `\r\n    <div class=\"has-text-right js-blame\">\r\n        <span>Last updated on ${Misc.toStaticDateTime(obj.updated)}${obj.by ? ` by ${obj.by}` : ``}</span>\r\n    </div>\r\n`;\r\n}\r\n\r\nexport const renderFileUpload = (ns: string, propName: string, label: string, accept = \"image/*\", isBusy = false) => {\r\n    if (!isBusy)\r\n        return `\r\n<div class=\"level-item\">\r\n    <div class=\"file\">\r\n        <label class=\"file-label\">\r\n            <input class=\"file-input\" type=\"file\" id=\"${ns}_${propName}\" name=\"${ns}_${propName}\" accept=\"${accept}\" onchange=\"${ns}.fileUpload(this)\">\r\n            <span class=\"file-cta\">\r\n                <span class=\"file-icon\">\r\n                    <i class=\"fas fa-upload\"></i>\r\n                </span>\r\n                <span class=\"file-label\">\r\n                    ${label}…\r\n                </span>\r\n            </span>\r\n        </label>\r\n    </div>\r\n</div>\r\n    `;\r\n\r\n    return `\r\n<div class=\"level-item\">\r\n    <a class=\"button is-loading\">Upoading</a>\r\n</div>\r\n    `;\r\n}\r\n\r\n\r\n\r\nexport const renderStyleForFixedWidthTable = (id: string, widths: number[]) => {\r\n    let table_width = widths.reduce((sum, width) => sum + width, 0);\r\n\r\n    let thead = widths.reduce((html, width, index) => {\r\n        return html + `#${id} thead th:nth-child(${index + 1}) { width: ${width}px; min-width: ${width}px; }`;\r\n    }, \"\");\r\n\r\n    let tbody = widths.reduce((html, width, index) => {\r\n        return html + `#${id} tbody td:nth-child(${index + 1}) { width: ${width}px; min-width: ${width}px; }`;\r\n    }, \"\");\r\n\r\n    return `\r\n<style>\r\n    #${id} table { width: ${table_width}px; }\r\n    ${thead}\r\n    ${tbody}\r\n</style>\r\n`;\r\n}\r\n\r\nexport const renderStyleForScrollableTable = (id: string, rows: number, widths: number[]) => {\r\n    let table_width = widths.reduce((sum, width) => sum + width, 0);\r\n    let table_th_height = 32;\r\n    let scrollbar_width = 16 + 4;\r\n    let scrollbar_height = 16;\r\n    let height = 32 * (rows + 1);\r\n\r\n    let thead = widths.reduce((html, width, index) => {\r\n        return html + `#${id} thead th:nth-child(${index + 1}) { min-width: ${width + (index == widths.length - 1 ? scrollbar_width : 0)}px; }`;\r\n    }, \"\");\r\n\r\n    let tbody = widths.reduce((html, width, index) => {\r\n        return html + `#${id} tbody td:nth-child(${index + 1}) { width: ${width}px; min-width: ${width}px; }`;\r\n    }, \"\");\r\n\r\n    return `\r\n<style>\r\n    #${id} { overflow: hidden; }\r\n    #${id} table thead { display: block; }\r\n    #${id} table tbody { display: block; overflow: auto; scroll-behavior: smooth; }\r\n\r\n    #${id} { height: ${height + scrollbar_height}px; }\r\n    #${id} table { width: ${table_width + scrollbar_width}px; }\r\n    #${id} tbody { height: ${height - table_th_height}px; }\r\n\r\n    ${thead}\r\n    ${tbody}\r\n</style>\r\n`;\r\n}\r\n\r\n\r\n\r\nexport const wrapFieldset = (legend: string, content: string, actions: string = null) => {\r\n    var id = legend.split(\" \").join(\"\");\r\n    return `\r\n<fieldset id=\"${id}\">\r\n    <legend class=\"js-legend\"><span>${legend}</span>${actions ? `<div>${actions}</div>` : \"\"}</legend>\r\n    ${content}\r\n</fieldset>\r\n`;\r\n}\r\n\r\nexport const float_menu_button = (title: string, id?: string) => {\r\n    return `<button class=\"button is-text\" onclick=\"${NS}.scrollTo('${id || title}')\">${title}</button>`\r\n}\r\n\r\nexport const scrollTo = (anchor: string) => {\r\n    var id = anchor.replace(/ /g, \"\");\r\n    var fieldset = <HTMLElement>document.getElementById(id);\r\n    //\r\n    fieldset.scrollIntoView();\r\n    setTimeout(function () { window.scrollBy(0, -180); }, 10);\r\n}\r\n\r\n\r\n\r\nexport const field = (label: string, controls: string | string[], required = false, cssclass?: string) => {\r\n    let html: string;\r\n    if (typeof controls === \"string\")\r\n        html = `<div class=\"field\">` + controls + \"</div>\"\r\n    else\r\n        html = `<div class=\"field js-addons\">` + (<string[]>controls).reduce((html, one) => html + one, \"\") + \"</div>\"\r\n\r\n    return `\r\n<div class=\"field is-horizontal ${cssclass || \"\"}\">\r\n    <div class=\"field-label\"><label class=\"label ${required ? \"js-required\" : \"\"}\">${label}</label></div>\r\n    <div class=\"field-body\">\r\n        ${html}\r\n    </div>\r\n</div>`;\r\n}\r\n","\"use strict\"\r\n\r\nimport * as Misc from \"../lib-ts/misc\"\r\nimport { Autocomplete } from \"./autocomplete\"\r\nimport { IOpt } from \"./theme\";\r\n\r\n\r\nexport const renderAutocompleteField = (ns: string, propName: string, autocomplete: Autocomplete, label: string, option: IOpt) => {\r\n    let input_id = `${ns}_${propName}`;\r\n    return `\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label ${option.required ? \"js-required\" : \"\"}\" for=\"${input_id}\">${label}</label></div>\r\n        <div class=\"field-body\">\r\n            ${renderAutocompleteInline(ns, propName, autocomplete, option)}\r\n        </div>\r\n    </div>`;\r\n}\r\n\r\nexport const renderAutocompleteInline = (ns: string, propName: string, autocomplete: Autocomplete, option: IOpt) => {\r\n    let hasAddonStatic = (option.addonStatic != undefined);\r\n    let hasAddon = (option.addon != undefined);\r\n    let hasAddonHead = (option.addonHead != undefined);\r\n    let input_id = `${ns}_${propName}`;\r\n    return `\r\n    <div class=\"field\">\r\n    <div class=\"field js-autocomplete\" id=\"${autocomplete.id}\">\r\n        <div class=\"dropdown ${autocomplete.isActive ? \"is-active\" : \"\"} ${option.size ? option.size : \"js-width-25\"}\">\r\n            <div class=\"control has-icons-right\">\r\n                <input type=\"text\" class=\"input\"\r\n                    id=\"${input_id}\" \r\n                    data-key=\"${autocomplete.keyValue}\"\r\n                    value=\"${Misc.toStaticText(autocomplete.textValue)}\" \r\n                    onfocus=\"${autocomplete.handle('onfocus')}\"\r\n                    onkeydown=\"${autocomplete.handle('onkeydown')}\"\r\n                    onblur=\"${autocomplete.handle('onblur')}\"\r\n                    ${autocomplete.required ? \"required='required'\" : \"\"}\r\n                    ${autocomplete.disabled ? \"disabled\" : \"\"}\r\n                    autocomplete=\"off\">\r\n                    \r\n                <span class=\"icon is-small is-right\">\r\n                    <i class=\"fas fa-search\"></i>\r\n                </span>\r\n            </div>\r\n            ${autocomplete.render()}\r\n        </div>\r\n${hasAddonStatic ? `\r\n        <div class=\"control\" style=\"display:inline-block\">\r\n            <a class=\"button js-static\" ${option.addonHref != undefined ? `href=\"${option.addonHref}\"` : ``}>\r\n                ${option.addonStatic}\r\n            </a>\r\n        </div>\r\n` : ``}\r\n${hasAddon ? `\r\n        <div class=\"control\" style=\"display:inline-block\">\r\n            ${option.addon}\r\n        </div>\r\n` : ``}\r\n    </div>\r\n    ${option.help != undefined ? `<p class=\"help\">${option.help}</p>` : ``}\r\n    </div>`;\r\n}\r\n","\"use strict\"\r\n\r\nexport const fr_CA = {\r\n    values: {\r\n        \"HOME\": \"Accueil\",\r\n        \"Sign out\": \"Déconnexion\",\r\n        \"CANCEL\": \"Annuler\",\r\n        \"EMAIL\": \"Courriel\",\r\n        \"PASSWORD\": \"Mot de passe\",\r\n        \"APP WELCOME\": \"Bienvenue\",\r\n        \"ENTER PASSWORD AGAIN\": \"Entrer votre mot de passe de nouveau\",\r\n        \"Sign In\": \"Se connecter\",\r\n        \"Sign in to start your session\": \"Commencez votre session\",\r\n        \"I need a new password!\": \"J'ai besoin d'un nouveau mot de passe!\",\r\n        \"Let's fix that!\": \"Réparons ce problème!\",\r\n        \"Enter your email address below. You will receive an email with a link to allow you to enter a new password\": \"Entrez votre adresse courriel ici. Vous recevrez un courriel avec un lien pour entrer un nouveau mot de passe\",\r\n        \"The email link will expire in one week\": \"Le lien dans le courriel expire dans une semaine\",\r\n        \"Send Email\": \"Envoyer mon courriel\",\r\n        \"Cancel that, I remember my password now!\": \"Annulez ma requête, je me souviens du mot de passe!\",\r\n        \"Password reset email sent\": \"Le courriel pour un nouveau mot de passe est envoyé\",\r\n        \"An email has been sent to\": \"Un courriel a été envoyé à\",\r\n        \"Check out the spam folder if you don't see the email in your inbox within 5 minutes\": \"Vérifier votre boîte de pourriel si vous n'avez pas reçu de courriel d'ici 5 minutes\",\r\n        \"Done\": \"Complété\",\r\n        \"Now, let's set your password\": \"Il est temps d'entrer votre mot de passe\",\r\n        \"You need to enter your password twice below\": \"Vous devez entrer votre mot de passe deux fois ici\",\r\n        \"Go To First Page\": \"Aller à la première page\",\r\n        \"Go To Last Page\": \"Aller à la dernière page\",\r\n        \"SEARCH\": \"Recherche\",\r\n    }\r\n};\r\n/*\r\n        \"\": \"\",\r\n*/","\"use strict\"\r\n\r\nimport * as Auth from \"../_BaseApp/src/auth\"\r\nexport { getEmail, getName, getUID, getRoles, getCurrentYear, refreshLoginData } from \"../_BaseApp/src/auth\"\r\nimport { cie } from \"../_BaseApp/src/core/app\"\r\n\r\n\r\nconst ROLE_SUPPORT = 1;\r\nlet default_cie: number;\r\n\r\n\r\nexport const isSupport = () => { return (Auth.getRoles().indexOf(ROLE_SUPPORT) != -1); }\r\nconst hasPermission = (permid: number) => { return (Auth.getPermissions().indexOf(permid) != -1) || isSupport(); }\r\n\r\n\r\n// Default cie\r\nexport const getCie = (params: string[]) => {\r\n    if (isSupport() && params && params.length && params[0].startsWith(\"?cie=\"))\r\n        default_cie = +params[0].substr(5);\r\n\r\n    return default_cie ?? cie;\r\n}\r\n\r\n// Block 100\r\nexport const canDoThis = () => hasPermission(101);\r\nexport const canDoThat = () => hasPermission(102);\r\n\r\n\r\nclass Feature {\r\n    feat: any = {};\r\n    public assignFeature(feature: any) { this.feat = feature }\r\n    public get private107(): string[] { return this.feat.private107 ?? []; }\r\n    public get private208(): string[] { return this.feat.private208 ?? []; }\r\n    public get private110(): string[] { return this.feat.private110 ?? []; }\r\n}\r\nconst feature = new Feature();\r\n\r\nexport const assignFeature = (newFeature) => feature.assignFeature(newFeature);\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\n\r\n\r\nexport interface LookupData {\r\n    id: number | string\r\n    cie: number\r\n    groupe: string\r\n    parentgroupe: string\r\n    code: string\r\n    description: string\r\n    value1: string\r\n    value2: string\r\n    value3: string\r\n    started: number | Date\r\n    ended: number | Date\r\n    sortOrder: number\r\n    disabled: boolean\r\n}\r\n\r\n\r\nconst yearFilter = (one: LookupData, year: number) => year >= one.started && (one.ended == undefined || year <= one.ended);\r\nconst dateFilter = (one: LookupData, date: Date) => date >= one.started && (one.ended == undefined || date <= one.ended);\r\n\r\n\r\nexport let authrole: LookupData[];\r\nexport const fetch_authrole = () => {\r\n    return function (data: any) {\r\n        if (authrole != undefined && authrole.length > 0)\r\n            return;\r\n        return App.GET(`/account/role`).then(json => { authrole = json; });\r\n    }\r\n}\r\n\r\nlet permmeta_groupe: LookupData[];\r\nexport const fetch_permmeta_groupe = () => {\r\n    return function (data: any) {\r\n        if (permmeta_groupe != undefined && permmeta_groupe.length > 0)\r\n            return;\r\n        return App.GET(`/permmeta/lookup_groupe`).then(json => { permmeta_groupe = json; });\r\n    }\r\n}\r\nexport const get_permmeta_groupe = (year: number) => permmeta_groupe;\r\n\r\nlet permmeta_parent: LookupData[];\r\nexport const fetch_permmeta_parent = () => {\r\n    return function (data: any) {\r\n        if (permmeta_parent != undefined && permmeta_parent.length > 0)\r\n            return;\r\n        return App.GET(`/permmeta/lookup_parent`).then(json => { permmeta_parent = json; });\r\n    }\r\n}\r\nexport const get_permmeta_parent = (year: number) => permmeta_parent;\r\n\r\nlet editLut: LookupData[];\r\nexport const fetch_editLut = () => {\r\n    return function (data: any) {\r\n        if (editLut != undefined && editLut.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/edit.lut`).then(json => {\r\n            editLut = json;\r\n            editLut.forEach(one => one.id = one.parentgroupe)\r\n        });\r\n    }\r\n}\r\nexport const get_editLut = (year: number) => editLut;\r\n\r\n\r\n\r\nlet cIE: LookupData[];\r\nexport const fetch_cIE = () => {\r\n    return function (data: any) {\r\n        if (cIE != undefined && cIE.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/cie`).then(json => { cIE = json; });\r\n    }\r\n}\r\nexport const get_cIE = (year: number) => cIE;\r\n\r\nlet sortOrderKeys: LookupData[];\r\nexport const fetch_sortOrderKeys = () => {\r\n    return function (data: any) {\r\n        const fill = (id: number, description: string) => {\r\n            return <LookupData>{\r\n                id: id,\r\n                description: description\r\n            }\r\n        }\r\n        sortOrderKeys = [\r\n            fill(1, \"Nom fournisseur\"),\r\n            fill(2, \"No chèque/paiement, Type de facture, Nom fournisseur\"),\r\n            fill(3, \"No fournisseur\"),\r\n            fill(4, \"No facture\")\r\n        ]\r\n    }\r\n}\r\nexport const get_sortOrderKeys = (year: number) => sortOrderKeys;\r\n\r\nlet pays: LookupData[];\r\nexport const fetch_pays = () => {\r\n    return function (data: any) {\r\n        if (pays != undefined && pays.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/pays`).then(json => { pays = json; });\r\n    }\r\n}\r\nexport const get_pays = (year: number) => pays;\r\n\r\nlet institutionBanquaire: LookupData[];\r\nexport const fetch_institutionBanquaire = () => {\r\n    return function (data: any) {\r\n        if (institutionBanquaire != undefined && institutionBanquaire.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/institutionBanquaire`).then(json => { institutionBanquaire = json; });\r\n    }\r\n}\r\nexport const get_institutionBanquaire = (year: number) => institutionBanquaire;\r\n\r\nlet compte: LookupData[];\r\nexport const fetch_compte = () => {\r\n    return function (data: any) {\r\n        if (compte != undefined && compte.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/compte`).then(json => { compte = json; });\r\n    }\r\n}\r\nexport const get_compte = (year: number) => compte;\r\n\r\nlet autreFournisseur: LookupData[];\r\nexport const fetch_autreFournisseur = () => {\r\n    return function (data: any) {\r\n        if (autreFournisseur != undefined && autreFournisseur.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/autreFournisseur`).then(json => { autreFournisseur = json; });\r\n    }\r\n}\r\nexport const get_autreFournisseur = (year: number) => autreFournisseur;\r\n\r\nlet lot: LookupData[];\r\nexport const fetch_lot = () => {\r\n    return function (data: any) {\r\n        if (lot != undefined && lot.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/lot`).then(json => { lot = json; });\r\n    }\r\n}\r\nexport const get_lot = (year: number) => lot;\r\n\r\nlet canton: LookupData[];\r\nexport const fetch_canton = () => {\r\n    return function (data: any) {\r\n        if (canton != undefined && canton.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/canton`).then(json => { canton = json; });\r\n    }\r\n}\r\nexport const get_canton = (year: number) => canton;\r\n\r\nlet municipalite: LookupData[];\r\nexport const fetch_municipalite = () => {\r\n    return function (data: any) {\r\n        if (municipalite != undefined && municipalite.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/municipalite`).then(json => { municipalite = json; });\r\n    }\r\n}\r\nexport const get_municipalite = (year: number) => municipalite;\r\n\r\nlet proprietaire: LookupData[];\r\nexport const fetch_proprietaire = () => {\r\n    return function (data: any) {\r\n        if (proprietaire != undefined && proprietaire.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/proprietaire`).then(json => { proprietaire = json; });\r\n    }\r\n}\r\nexport const get_proprietaire = (year: number) => proprietaire;\r\n\r\nlet contingent: LookupData[];\r\nexport const fetch_contingent = () => {\r\n    return function (data: any) {\r\n        if (contingent != undefined && contingent.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/contingent`).then(json => { contingent = json; });\r\n    }\r\n}\r\nexport const get_contingent = (year: number) => contingent;\r\n\r\nlet droit_coupe: LookupData[];\r\nexport const fetch_droit_coupe = () => {\r\n    return function (data: any) {\r\n        if (droit_coupe != undefined && droit_coupe.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/droit_coupe`).then(json => { droit_coupe = json; });\r\n    }\r\n}\r\nexport const get_droit_coupe = (year: number) => droit_coupe;\r\n\r\nlet entente_paiement: LookupData[];\r\nexport const fetch_entente_paiement = () => {\r\n    return function (data: any) {\r\n        if (entente_paiement != undefined && entente_paiement.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/entente_paiement`).then(json => { entente_paiement = json; });\r\n    }\r\n}\r\nexport const get_entente_paiement = (year: number) => entente_paiement;\r\n\r\nlet zone: LookupData[];\r\nexport const fetch_zone = () => {\r\n    return function (data: any) {\r\n        if (zone != undefined && zone.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/zone`).then(json => { zone = json; });\r\n    }\r\n}\r\nexport const get_zone = (year: number) => zone;\r\n\r\nlet region: LookupData[];\r\nexport const fetch_region = () => {\r\n    return function (data: any) {\r\n        if (region != undefined && region.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/region`).then(json => { region = json; });\r\n    }\r\n}\r\nexport const get_region = (year: number) => region;\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet office: LookupData[];\r\nexport const fetch_office = () => {\r\n    return function (data: any) {\r\n        if (office != undefined && office.length > 0)\r\n            return;\r\n        return App.GET(`/office/lookup`).then(json => { office = json; });\r\n    }\r\n}\r\nexport const get_office = (year: number) => office;\r\n\r\nlet job: LookupData[];\r\nexport const fetch_job = () => {\r\n    return function (data: any) {\r\n        if (job != undefined && job.length > 0)\r\n            return;\r\n        return App.GET(`/job/lookup`).then(json => { job = json; });\r\n    }\r\n}\r\nexport const get_job = (year: number) => job;\r\n\r\nlet cat: LookupData[];\r\nexport const fetch_cat = () => {\r\n    return function (data: any) {\r\n        if (cat != undefined && cat.length > 0)\r\n            return;\r\n        return App.GET(`/lookup/by/cat`).then(json => { cat = json; });\r\n    }\r\n}\r\nexport const get_cat = (year: number) => cat;\r\n","\"use strict\"\r\n\r\nimport * as App from \"../_BaseApp/src/core/app\"\r\nimport * as Router from \"../_BaseApp/src/core/router\"\r\nimport * as Misc from \"../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../_BaseApp/src/theme/theme\"\r\nimport * as domlib from \"../_BaseApp/src/lib-ts/domlib\"\r\nimport * as Lookup from \"./admin/lookupdata\"\r\nimport * as Perm from \"./permission\"\r\nimport * as Layout from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\nexport const NS = \"App_Home\";\r\n\r\n\r\nexport interface IMenuItem {\r\n    name: string\r\n    icon: string\r\n    columnClass: string\r\n    listColumnClass: string\r\n    canView: boolean\r\n    toolButton?: string\r\n    sections: ISection[]\r\n}\r\n\r\nexport interface ISection {\r\n    name: string\r\n    icon: string\r\n    maxrows?: number\r\n    hidden?: boolean\r\n    canView?: boolean\r\n    merge?: string\r\n    links: ILink[]\r\n}\r\n\r\nexport interface ILink {\r\n    name: string\r\n    href?: string\r\n    hidden?: boolean\r\n    canView?: boolean\r\n    ns?: string[]\r\n    isExternal?: boolean\r\n    onclick?: string\r\n    classes?: string\r\n    markup?: string\r\n    noSidebar?: boolean\r\n}\r\n\r\nlet menuData: IMenuItem[];\r\nlet yesterday: Date;\r\nlet today: Date;\r\nlet tomorrow: Date;\r\nlet tomorrow_2: Date;\r\nlet tomorrow_3: Date;\r\nlet tomorrow_4: Date;\r\nlet region: number;\r\n\r\n\r\nexport const getMenuData = () => {\r\n    if (menuData != undefined)\r\n        return menuData;\r\n\r\n    menuData = [\r\n        {\r\n            name: \"Application\",\r\n            icon: \"fad fa-cogs\",\r\n            columnClass: \"is-half-tablet is-one-third-fullhd\",\r\n            listColumnClass: \"\",\r\n            canView: true,\r\n            sections: [\r\n                {\r\n                    name: \"Gestion\", icon: \"fas fa-unlock-alt\",\r\n                    links: [\r\n                        { name: \"Comptes\", href: \"#/admin/accounts\", ns: [\"App_accounts\", \"App_account\"] },\r\n                        { name: \"Gestion des lookups\", href: \"#/admin/lookups/profile.key\", ns: [\"App_lookups\", \"App_lookup\"] },\r\n                        { name: \"Gestion des périodes\", },\r\n                    ],\r\n                    merge: \"start\"\r\n                },\r\n                {\r\n                    merge: \"end\",\r\n                    name: \"Support\", icon: \"fas fa-tools\",\r\n                    links: [\r\n                        { name: \"Compagnies\", href: \"#/support/companys\", ns: [\"App_companys\", \"App_company\"] },\r\n                        { name: \"Audit\", },\r\n                        { name: \"(office)\", href: \"#/offices\", ns: [\"App_offices\", \"App_office\"], hidden: Perm.getEmail() != \"ctrepanier@jaguarsolutions.ca\" },\r\n                        { name: \"(staff)\", href: \"#/staffs_2\", ns: [\"App_staffs_2\", \"App_staff_2\"], hidden: Perm.getEmail() != \"ctrepanier@jaguarsolutions.ca\" },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Configuration\", icon: \"fas fa-tools\",\r\n                    links: [\r\n                        { name: \"Paramètres du système\", href: \"#/admin/company/?to=param\" },\r\n                        { name: \"Personnalisation\", href: \"#/admin/company/?to=perso\" },\r\n                        { name: \"Acomba\", href: \"#/admin/company/?to=acomba\" },\r\n                        { name: \"Comptes/Fournisseurs\", href: \"#/admin/company/?to=comptes\" },\r\n                        { name: \"Numéro de taxes\", href: \"#/admin/company/?to=taxe\" },\r\n                        { name: \"Permis\", href: \"#/admin/company/?to=permis\" },\r\n                        { name: \"Paramètres d'impression\", href: \"#/admin/company/?to=print\" },\r\n                        { name: \"Backup\", href: \"#/admin/company/?to=backup\" },\r\n                        { name: \"Profil par défaut\", href: \"#/admin/company/?to=profil\" },\r\n                    ]\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            name: \"Territoires\",\r\n            icon: \"fad fa-map-marker-alt\",\r\n            columnClass: \"is-half-tablet is-one-third-fullhd\",\r\n            listColumnClass: \"\",\r\n            canView: true,\r\n            sections: [\r\n                {\r\n                    name: \"Saisie\", icon: \"fal fa-table\",\r\n                    links: [\r\n                        { name: \"Lots\", href: \"#/lots\", ns: [\"App_lots\", \"App_lot\"] },\r\n                        { name: \"Municipalités\", },\r\n                        { name: \"Lots répétitifs\", },\r\n                        { name: \"Agences\", },\r\n                        { name: \"Cantons\", },\r\n                        { name: \"MRC\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Importation\", icon: \"fal fa-arrow-circle-down\",\r\n                    links: [\r\n                        { name: \"Lots répétitifs\", },\r\n                        { name: \"Lots certifiés\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Rapports\", icon: \"fal fa-file-alt\", canView: true,\r\n                    links: [\r\n                        { name: \"Municipalités\", },\r\n                        { name: \"Lots par municipalités\", },\r\n                        { name: \"Lots par secteurs\", },\r\n                        { name: \"Lots certifiés\", },\r\n                        { name: \"Superficies (lot)\", },\r\n                        { name: \"MRC\", },\r\n                        { name: \"Cantons\", },\r\n                        { name: \"Statistiques par essence\", },\r\n                    ]\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            name: \"Essences\",\r\n            icon: \"fad fa-trees\",\r\n            columnClass: \"is-half-tablet is-one-third-fullhd\",\r\n            listColumnClass: \"\",\r\n            canView: true,\r\n            sections: [\r\n                {\r\n                    name: \"Saisie\", icon: \"fal fa-table\",\r\n                    links: [\r\n                        { name: \"Essences\", },\r\n                        { name: \"Unités de mesure\", },\r\n                        { name: \"Essences de sciage\", },\r\n                        { name: \"Répartitions d'essences\", },\r\n                        { name: \"Regroupements d'essences\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Rapports\", icon: \"fal fa-file-alt\",\r\n                    links: [\r\n                        { name: \"Liste des essences\", },\r\n                        { name: \"Liste des unités de mesure\", },\r\n                    ]\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            name: \"Fournisseurs\",\r\n            icon: \"fad fa-user-tag\",\r\n            columnClass: \"is-half-tablet is-one-third-fullhd\",\r\n            listColumnClass: \"\",\r\n            canView: true,\r\n            sections: [\r\n                {\r\n                    name: \"Saisie\", icon: \"fal fa-table\",\r\n                    links: [\r\n                        { name: \"Propriétaires\", href: \"#/proprietaires\", ns: [\"App_proprietaires\", \"App_proprietaire\"] },\r\n                        { name: \"Transporteurs\", },\r\n                        { name: \"Chargeurs\", },\r\n                        { name: \"Autres\", },\r\n                        { name: \"Fournisseurs en paiement manuel\", },\r\n                        { name: \"Institutions bancaires\", },\r\n                        { name: \"Pays\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Rapports\", icon: \"fal fa-file-alt\",\r\n                    links: [\r\n                        { name: \"Identification des producteurs\", },\r\n                        { name: \"Livraisons par producteurs\", },\r\n                        { name: \"Permis non-livrés\", },\r\n                        { name: \"Superficies\", },\r\n                        { name: \"Droits de coupe\", },\r\n                        { name: \"Fonds de roulement\", },\r\n                        { name: \"Sommaire des montants payés aux producteurs\", },\r\n                    ]\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            name: \"Usines\",\r\n            icon: \"fad fa-industry-alt\",\r\n            columnClass: \"is-half-tablet is-one-third-fullhd\",\r\n            listColumnClass: \"\",\r\n            canView: true,\r\n            sections: [\r\n                {\r\n                    name: \"Saisie\", icon: \"fal fa-table\",\r\n                    links: [\r\n                        { name: \"Usines\", },\r\n                        { name: \"Contingent par regroupement\", },\r\n                        { name: \"Contingent par usine\", },\r\n                        { name: \"Demande de contingent\", },\r\n                        { name: \"Utilisation par les usines\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Rapports\", icon: \"fal fa-file-alt\",\r\n                    links: [\r\n                        { name: \"Usines\", },\r\n                        { name: \"Certificat de contingent regroupement\", },\r\n                        { name: \"Certificat de contingent usine\", },\r\n                    ]\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            name: \"Contrats\",\r\n            icon: \"fad fa-file-signature\",\r\n            columnClass: \"is-half-tablet is-one-third-fullhd\",\r\n            listColumnClass: \"\",\r\n            canView: true,\r\n            sections: [\r\n                {\r\n                    name: \"Saisie\", icon: \"fal fa-table\",\r\n                    links: [\r\n                        { name: \"Contrats\", },\r\n                        { name: \"Ajustements de contrat\", },\r\n                        { name: \"Augmentation taux transport\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Rapports\", icon: \"fal fa-file-alt\",\r\n                    links: [\r\n                        { name: \"Contrats\", },\r\n                    ]\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            name: \"Livraisons\",\r\n            icon: \"fad fa-truck-container\",\r\n            columnClass: \"is-half-tablet is-one-third-fullhd\",\r\n            listColumnClass: \"\",\r\n            canView: true,\r\n            sections: [\r\n                {\r\n                    name: \"Saisie\", icon: \"fal fa-table\",\r\n                    links: [\r\n                        { name: \"Permis de livraison\", },\r\n                        { name: \"Recherche de permis\", },\r\n                        { name: \"Livraisons\", },\r\n                        { name: \"Facture usine\", },\r\n                        { name: \"Recherche de livraisons\", },\r\n                        { name: \"Gestion des volumes\", },\r\n                    ],\r\n                    merge: \"start\"\r\n                },\r\n                {\r\n                    merge: \"end\",\r\n                    name: \"Importation\", icon: \"fal fa-arrow-circle-down\",\r\n                    links: [\r\n                        { name: \"Feuillet Domptar\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Rapports\", icon: \"fal fa-file-alt\",\r\n                    links: [\r\n                        { name: \"Liste détaillée des livraisons\", },\r\n                        { name: \"Sommaire des livraisons\", },\r\n                        { name: \"Liste des livraisons (détail)\", },\r\n                        { name: \"Liste des livraisons (résumé)\", },\r\n                        { name: \"Répartition des livraisons\", },\r\n                        { name: \"Nombre de producteurs qui ont livré par usine\", },\r\n                        { name: \"Identification des transporteurs\", },\r\n                        { name: \"Liste des transporteurs\", },\r\n                    ]\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            name: \"Indexations\",\r\n            icon: \"fad fa-book\",\r\n            columnClass: \"is-half-tablet is-one-third-fullhd\",\r\n            listColumnClass: \"\",\r\n            canView: true,\r\n            sections: [\r\n                {\r\n                    name: \"Saisie\", icon: \"fal fa-table\",\r\n                    links: [\r\n                        { name: \"Indexations\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Rapports\", icon: \"fal fa-file-alt\",\r\n                    links: [\r\n                        { name: \"Sommaire des factures par producteurs\", },\r\n                        { name: \"Sommaire des factures par transporteurs\", },\r\n                    ]\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            name: \"Comptabilité\",\r\n            icon: \"fad fa-file-invoice-dollar\",\r\n            columnClass: \"\",\r\n            listColumnClass: \"\",\r\n            canView: true,\r\n            sections: [\r\n                {\r\n                    name: \"Mise à jour\", icon: \"fal fa-arrow-circle-down\",\r\n                    links: [\r\n                        { name: \"Mise à jour des comptes\", },\r\n                        { name: \"Mise à jour des fournisseurs\", },\r\n                        { name: \"Mise à jour des usines (clients)\", },\r\n                        { name: \"Mise à jour des numéros de chèque\", },\r\n                        { name: \"Mise à jour d'un numéro de chèque \", },\r\n                    ],\r\n                    merge: \"start\"\r\n                },\r\n                {\r\n                    merge: \"end\",\r\n                    name: \"Opérations\", icon: \"fal fa-arrow-circle-up\",\r\n                    links: [\r\n                        { name: \"Transfert des factures\", },\r\n                        { name: \"Backup des données\", },\r\n                    ],\r\n                },\r\n                {\r\n                    name: \"Calculs\", icon: \"fal fa-calculator\",\r\n                    links: [\r\n                        { name: \"Livraisons\", },\r\n                        { name: \"Ajustements\", },\r\n                        { name: \"Indexations\", },\r\n                        { name: \"Erreurs: Mauvaises factures\", },\r\n                        { name: \"Erreurs: Mauvais paiements\", },\r\n                    ]\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            name: \"Rapports\",\r\n            icon: \"fad fa-file-spreadsheet\",\r\n            columnClass: \"is-full\",\r\n            listColumnClass: \"js-nowrap\",\r\n            canView: true,\r\n            sections: [\r\n                {\r\n                    name: \"Territoires\", icon: null,\r\n                    links: [\r\n                        { name: \"Liste des municipalités\", },\r\n                        { name: \"Liste des lots par municipalités\", },\r\n                        { name: \"Liste des lots par secteurs\", },\r\n                        { name: \"Liste des lots certifiés\", },\r\n                        { name: \"Liste des superficies (lot)\", },\r\n                        { name: \"Liste des MRC\", },\r\n                        { name: \"Liste des cantons\", },\r\n                        { name: \"Statistiques par essence\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Essences\", icon: null,\r\n                    links: [\r\n                        { name: \"Liste des essences\", },\r\n                        { name: \"Liste des unités de mesure\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Producteurs\", icon: null,\r\n                    links: [\r\n                        { name: \"Liste des identifications producteurs\", },\r\n                        { name: \"Liste des livraisons par producteur\", },\r\n                        { name: \"Liste des superficies\", },\r\n                        { name: \"Liste des identifications de droit de coupe\", },\r\n                        { name: \"Liste des fonds de roulement\", },\r\n                        { name: \"Liste sommaire des montants payés aux producteurs\", },\r\n                        { name: \"Liste détaillée des livraisons\", },\r\n                        { name: \"Liste des superficies (lots)\", },\r\n                        { name: \"Liste d'envoi du bulletin (courriel)\", },\r\n                        { name: \"Liste d'envoi du bulletin d'information\", },\r\n                        { name: \"Liste d'envoi courriel pour un rappel\", },\r\n                        { name: \"Rapport annuel\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Transporteurs\", icon: null,\r\n                    links: [\r\n                        { name: \"Liste des identifications transporteurs\", },\r\n                        { name: \"Liste des transporteurs\", },\r\n                        { name: \"Liste sommaire des montants payés\", },\r\n                        { name: \"Liste détaillée des livraisons\", },\r\n                        { name: \"Rapport annuel\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Chargeurs\", icon: null,\r\n                    links: [\r\n                        { name: \"Liste des identifications chargeurs\", },\r\n                        { name: \"Liste des chargeurs\", },\r\n                        { name: \"Liste sommaire des montants payés\", },\r\n                        { name: \"Liste détaillée des livraisons\", },\r\n                        { name: \"Rapport annuel\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Autres fournisseurs\", icon: null,\r\n                    links: [\r\n                        { name: \"Liste des identifications\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Usines\", icon: null,\r\n                    links: [\r\n                        { name: \"Liste des usines\", },\r\n                        { name: \"Combinaison d'unités de mesure et essences\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Contrats\", icon: null,\r\n                    links: [\r\n                        { name: \"Liste de contrats\", },\r\n                        { name: \"Sommaire des contrats par usine\", },\r\n                        { name: \"Table des prix aux producteurs\", },\r\n                        { name: \"Table des prix aux transporteurs\", },\r\n                        { name: \"Ventilation des montants calculés\", },\r\n                        { name: \"Ventilation des montants calculés (Excel)\", },\r\n                        { name: \"Contrôle de bois par usine\", },\r\n                        { name: \"Contrôle de bois par usine (essences combinées)\", },\r\n                        { name: \"Contrôle de bois par usine (essences codes combinées)\", },\r\n                        { name: \"Contrôle de bois par contrat regroupement\", },\r\n                        { name: \"Contrôle de bois par contrat usine\", },\r\n                        { name: \"Répartition des volumes\", },\r\n                        { name: \"Statistiques agence-MRC-secteur\", },\r\n                        { name: \"Statistiques agence-municipalité-secteur\", },\r\n                        { name: \"Nombre de producteurs\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Contingentements\", icon: null,\r\n                    links: [\r\n                        { name: \"Demandes de contingent\", },\r\n                        { name: \"Demandes de contingent Estrie\", },\r\n                        { name: \"Autorisations de livraisons (usine)\", },\r\n                        { name: \"Autorisations de livraisons (regroupement)\", },\r\n                        { name: \"Certificat de contingent (usine)\", },\r\n                        { name: \"Certificat de contingent (regroupement)\", },\r\n                        { name: \"Permis Regroupement\", },\r\n                        { name: \"Liste des contingentements par transporteur\", },\r\n                        { name: \"Liste des contingentements par usine\", },\r\n                        { name: \"Liste des contingentements par regroupement\", },\r\n                        { name: \"Liste des demandes de contingentements\", },\r\n                        { name: \"Rapport des irrégularités\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Livraisons\", icon: null,\r\n                    links: [\r\n                        { name: \"Sommaire des livraisons\", },\r\n                        { name: \"Sommaire des livraisons (avec déductions)\", },\r\n                        { name: \"Liste des livraisons (détaillée)\", },\r\n                        { name: \"Liste des livraisons (résumé)\", },\r\n                        { name: \"Répartition des livraisons\", },\r\n                        { name: \"Nombre de producteurs qui ont livré par usine\", },\r\n                        { name: \"Liste des calculs (payés)\", },\r\n                        { name: \"Liste des calculs (non-payés)\", },\r\n                        { name: \"Livraisons non conformes (par transporteur)\", },\r\n                        { name: \"Livraisons non conformes (sommaire)\", },\r\n                        { name: \"Producteurs ayant livré / producteurs par secteur\", },\r\n                        { name: \"Sciage et déroulage (m3 solide)\", },\r\n                        { name: \"Feuillets de Domptar (Estrie)\", },\r\n                        { name: \"Liste des livraisons par MRC\", },\r\n                        { name: \"Valeur des livraisons\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Gestion des volumes\", icon: null,\r\n                    links: [\r\n                        { name: \"Par usine\", },\r\n                        { name: \"Détaillé\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Indexations\", icon: null,\r\n                    links: [\r\n                        { name: \"Indexation aux transporteurs\", },\r\n                        { name: \"Indexation aux producteurs\", },\r\n                        { name: \"Indexation aux transporteurs (avant calculs)\", },\r\n                        { name: \"Indexation aux producteurs (avant calculs)\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Permis\", icon: null,\r\n                    links: [\r\n                        { name: \"Permis en circulation\", },\r\n                        { name: \"Permis annulés\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Factures\", icon: null,\r\n                    links: [\r\n                        { name: \"Impression des factures\", },\r\n                        { name: \"Liste des factures par usine\", },\r\n                        { name: \"Liste des factures du mois (date du calcul)\", },\r\n                        { name: \"Liste des factures du mois (date de facture Acomba)\", },\r\n                        { name: \"Sommaire des factures par producteur\", },\r\n                        { name: \"Sommaire des factures par transporteur\", },\r\n                        { name: \"Fournisseurs en paiement manuel\", },\r\n                        { name: \"Écritures de mise en commun\", },\r\n                    ]\r\n                },\r\n                {\r\n                    name: \"Ajustements\", icon: null,\r\n                    links: [\r\n                        { name: \"Rapport usines\", },\r\n                        { name: \"Rapport producteurs\", },\r\n                        { name: \"Rapport transporteurs\", },\r\n                    ]\r\n                },\r\n            ]\r\n        },\r\n    ];\r\n\r\n    return menuData;\r\n}\r\n\r\nexport const clearMenuData = () => {\r\n    menuData = null;\r\n}\r\n\r\nexport const renderDropdown = (propName: string, options: string) => {\r\n    return `\r\n    <div class=\"select is-small\">\r\n        <select id=\"${NS}_${propName}\" onchange=\"${NS}.onchange(this)\">\r\n            ${options}\r\n        </select>\r\n    </div>`;\r\n}\r\n\r\nconst menuTemplate = (menuItems: IMenuItem[]) => {\r\n    const linkTemplate = (link: ILink) => {\r\n        if (link.hidden)\r\n            return \"\";\r\n\r\n        const liClasses = (link.classes ? `class=\"${link.classes}\"` : \"\");\r\n\r\n        if (link.markup)\r\n            return `<li ${liClasses}>${link.markup}</li>`;\r\n\r\n        const isDisabled = (link.href == undefined && link.onclick == undefined)\r\n        const href = (link.href || \"#\")\r\n        const isExternal = href.startsWith(\"http\") || link.isExternal;\r\n\r\n        return `<li ${liClasses}><a href=\"${href}\" ${isDisabled ? `class=\"js-disabled\"` : ``} ${isExternal ? `target=\"_new\"` : ``} ${link.onclick ? `onclick=\"${link.onclick}\"` : \"\"}>${link.name}</a></li>`;\r\n    }\r\n\r\n    const sectionTemplate = (section: ISection, listColumnClass: string) => {\r\n        if (section.hidden)\r\n            return \"\";\r\n\r\n        const reduceSection = () => {\r\n            const links = section.links.filter(one => one.canView == undefined || one.canView);\r\n\r\n            const maxrows = (section.maxrows == undefined ? 32 : section.maxrows);\r\n            let html = \"\";\r\n            for (let ix = 0; ix < links.length; ix++) {\r\n                const ixe = ix % maxrows;\r\n                if (ixe == 0) html += \"<ul>\";\r\n                html += linkTemplate(links[ix]);\r\n                if (ixe == (maxrows - 1) || ix == links.length - 1) html += \"</ul>\";\r\n            }\r\n            return html;\r\n        };\r\n\r\n        const skipOpenDiv = (section.merge != undefined && section.merge == \"end\");\r\n        const skipCloseDiv = (section.merge != undefined && section.merge == \"start\");\r\n\r\n        return `\r\n        ${!skipOpenDiv ? `<div class=\"column ${section.maxrows == undefined ? listColumnClass : \"\"}\">` : ``}\r\n            ${section.name ? `<h3><i class=\"${section.icon}\"></i> ${section.name}</h3>` : ``}\r\n            <div class=\"js-links\">${reduceSection()}</div>\r\n        ${!skipCloseDiv ? `</div>` : ``}\r\n`;\r\n    };\r\n\r\n    const menuItemTemplate = (menuItem: IMenuItem) => {\r\n\r\n        return `\r\n<div class=\"column ${menuItem.columnClass}\">\r\n    <div class=\"box\">\r\n        <div class=\"js-widget\">\r\n            <div class=\"tile\">\r\n                <i class=\"${menuItem.icon} fa-4x\"></i>\r\n                <div>${menuItem.name}</div>\r\n            </div>\r\n            <div class=\"columns is-mobile is-multiline\">\r\n                ${menuItem.sections.filter(one => one.canView == undefined || one.canView).reduce((html, item) => { return html + sectionTemplate(item, menuItem.listColumnClass) }, \"\")}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n`;\r\n    };\r\n\r\n    return menuItems.filter(one => one.canView).reduce((html, item) => { return html + menuItemTemplate(item) }, \"\");\r\n}\r\n\r\nconst pageTemplate = (menu: string) => {\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n    <div style=\"padding:1rem;\">\r\n        <div class=\"columns is-multiline\">\r\n            ${menu}\r\n        </div>\r\n    </div>\r\n</form>\r\n`;\r\n}\r\n\r\nconst fetchState = () => {\r\n    return Promise\r\n        .resolve()\r\n        //.then(Lookup.fetch_tools())\r\n        //.then(() => { saveToolsState(Lookup.get_tools(Perm.getCurrentYear())) })\r\n}\r\n\r\nexport const fetch = () => {\r\n    App.setRenderDomain(Layout);\r\n    App.prepareRender(NS, \"HOME\");\r\n    Router.registerDirtyExit(null);\r\n    fetchState()\r\n        .then(App.render)\r\n        .catch(App.render)\r\n};\r\n\r\nexport const render = () => {\r\n    if (!App.inContext(NS)) return \"\";\r\n\r\n    //\r\n    // Build page\r\n    //\r\n    let menu = menuTemplate(getMenuData());\r\n    return pageTemplate(menu);\r\n}\r\n\r\nexport const postRender = () => {\r\n    if (!App.inContext(NS)) return \"\";\r\n}\r\n\r\nconst getFormState = () => {\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    //state = getFormState();\r\n    App.render();\r\n};\r\n\r\n\r\nconst loadToolsState = () => {\r\n    return JSON.parse(localStorage.getItem(\"tools-state\")) as Lookup.LookupData[];\r\n}\r\n\r\nconst saveToolsState = (uiTools) => {\r\n    localStorage.setItem(\"tools-state\", JSON.stringify(uiTools));\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Perm from \"../permission\"\r\nimport { setOpenedMenu } from \"../layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport interface ISummary {\r\n    title: string\r\n    subtitle: string\r\n    fileCount: number\r\n}\r\n\r\nexport let icon = \"far fa-copyright\";\r\n\r\nexport const prepareMenu = () => {\r\n    setOpenedMenu(\"Application-Gestion\");\r\n}\r\n\r\nexport const tabTemplate = (id: number, xtra: ISummary, isNew: boolean = false) => {\r\n    let isCompany = App.inContext(\"App_company\");\r\n    let isAccounts = App.inContext(\"App_accounts\");\r\n    let isAccount = App.inContext(\"App_account\");\r\n    let isLookups = App.inContext(\"App_lookups\");\r\n    let isLookup = false && App.inContext(\"App_lookup\");\r\n    let isSecurity = App.inContext(\"App_security\");\r\n    let isFiles = window.location.hash.startsWith(\"#/files/company\");\r\n    let isFile = window.location.hash.startsWith(\"#/file/company\");\r\n\r\n    let showFiles = false && xtra;\r\n    let showFile = false && xtra && isFile;\r\n    let showSecurity = Perm.isSupport();\r\n\r\n    return `\r\n<div class=\"tabs is-boxed\">\r\n    <ul>\r\n        <li ${isCompany ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/admin/company\">\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Details de la compagnie\")}</span>\r\n            </a>\r\n        </li>\r\n        <li ${isAccounts ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/admin/accounts\">\r\n                <span class=\"icon\"><i class=\"fas fa-list-ol\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Comptes\")}</span>\r\n            </a>\r\n        </li>\r\n${isAccount ? `\r\n        <li class=\"is-active\">\r\n            <a href=\"#/admin/account/${id}\">\r\n                <span class=\"icon\"><i class=\"fal fa-user\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Details du compte\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n\r\n        <li ${isLookups ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/admin/lookups\">\r\n                <span class=\"icon\"><i class=\"fas fa-list-ol\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Lookups\")}</span>\r\n            </a>\r\n        </li>\r\n${isLookup ? `\r\n        <li class=\"is-active\">\r\n            <a href=\"#/admin/lookup/${id}\">\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Details du lookup\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n\r\n${showSecurity ? `\r\n        <li ${isSecurity ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/support/security\">\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Security\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n\r\n${showFiles ? `\r\n        <li ${isFiles ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/files/account/${id}\">\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Files\")} (${xtra.fileCount})</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n${showFile ? `\r\n        <li class=\"is-active\">\r\n            <a href=\"#/file/account/${id}\">\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"File Details\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n\r\n    </ul>\r\n</div>\r\n`;\r\n};\r\n\r\nexport const buildTitle = (xtra: ISummary, defaultText: string) => {\r\n    return xtra?.title ?? defaultText;\r\n}\r\n\r\nexport const buildSubtitle = (xtra: any, defaultText: string) => {\r\n    return xtra?.subtitle ?? defaultText;\r\n}\r\n","// File: accounts.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Layout from \"./layout\"\r\nimport { tabTemplate, icon, ISummary, prepareMenu } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_accounts\";\r\n\r\ninterface IState {\r\n    uid: number\r\n    totalcount: number\r\n    cie_text: string\r\n    email: string\r\n    roleluid_text: string\r\n    lastactivity: Date\r\n    firstname: string\r\n    lastname: string\r\n    readytoarchive: boolean\r\n    archive: boolean\r\n}\r\n\r\ninterface IKey {\r\n    cie: number\r\n}\r\n\r\ninterface IFilter {\r\n    cie: number\r\n    archive: boolean\r\n    readyToArchive: boolean\r\n}\r\n\r\n\r\n\r\nlet key: IKey;\r\nlet state = <Pager.IPagedList<IState, IFilter>>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 20, sortColumn: \"EMAIL\", sortDirection: \"ASC\", filter: { cie: App.cie, archive: undefined, readyToArchive: undefined } }\r\n};\r\nlet xtra: ISummary;\r\nlet uiSelectedRow: { uid: number };\r\n\r\n\r\n\r\nlet autoArchiveButton = () => {\r\n    let title = i18n(\"Auto Archive\");\r\n    let helpText = i18n(\"<p><b>Note:</b> This will archive all records having the <b><em>Ready to Archive</em></b> flag set.</p>\");\r\n    let onclick = `${NS}.autoArchive()`;\r\n    return Theme.renderButtonWithConfirm(title, \"far fa-lock-open-alt\", helpText, onclick, false, false, true);\r\n};\r\n\r\nconst filterTemplate = (archive: string, readytoarchive: string) => {\r\n    let filters: string[] = [];\r\n    filters.push(Theme.renderDropdownFilter(NS, \"archive\", archive, i18n(\"ARCHIVE\")));\r\n    filters.push(Theme.renderDropdownFilter(NS, \"readytoarchive\", readytoarchive, i18n(\"READYTOARCHIVE\")));\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplate = (item: IState, rowNumber: number) => {\r\n    return `\r\n<tr class=\"${isSelectedRow(item.uid) ? \"is-selected\" : \"\"}\" onclick=\"${NS}.gotoDetail(${item.uid});\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n    <td>${Misc.toStaticText(item.email)}</td>\r\n    <td>${Misc.toStaticText(item.firstname)}</td>\r\n    <td>${Misc.toStaticText(item.lastname)}</td>\r\n    <td>${Misc.toStaticText(item.roleluid_text)}</td>\r\n    <td>${Misc.toStaticDateTime(item.lastactivity)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.readytoarchive)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.archive)}</td>\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplate = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div class=\"table-container\">\r\n<table class=\"table is-hoverable is-fullwidth\">\r\n    <thead>\r\n        <tr>\r\n            <th></th>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"EMAIL\"), \"email\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"FIRSTNAME\"), \"firstname\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"LASTNAME\"), \"lastname\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ROLEMASK\"), \"roleluid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"LASTACTIVITY\"), \"lastactivity\", \"DESC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"READYTOARCHIVE\"), \"readytoarchive\", \"DESC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ARCHIVE\"), \"archive\", \"ASC\")}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (pager: string, table: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(autoArchiveButton());\r\n    buttons.push(Theme.buttonAddNew(NS, \"#/admin/account/new\", i18n(\"Add New\")));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> ${xtra.title}</div>\r\n            <div class=\"subtitle\">${i18n(\"Liste des comptes\")}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nexport const fetchState = (cie: number) => {\r\n    Router.registerDirtyExit(null);\r\n    state.pager.filter.cie = cie;\r\n    return App.POST(\"/account/search/\", state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            xtra = payload.xtra;\r\n            key = { cie };\r\n        })\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let cie = Perm.getCie(params);\r\n    App.prepareRender(NS, i18n(\"accounts\"));\r\n    prepareMenu();\r\n    fetchState(cie)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"accounts\"));\r\n    App.POST(\"/account/search/\", state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let warning = App.warningTemplate();\r\n    let dirty = \"\";\r\n    const tbody = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplate(item, rowNumber);\r\n    }, \"\");\r\n\r\n    let year = Perm.getCurrentYear();\r\n\r\n    let archive = Theme.renderNullableBooleanOptionsReverse(state.pager.filter.archive, [\"All\", i18n(\"Archived\"), i18n(\"Active\")]);\r\n    let readytoarchive = Theme.renderNullableBooleanOptions(state.pager.filter.readyToArchive, [\"All\", i18n(\"Ready\"), i18n(\"Not Ready\")]);\r\n\r\n    const filter = filterTemplate(archive, readytoarchive);\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [20, 50], search, filter);\r\n    const table = tableTemplate(tbody, state.pager);\r\n\r\n    const tab = tabTemplate(null, null);\r\n    return pageTemplate(pager, table, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst setSelectedRow = (uid: number) => {\r\n    if (uiSelectedRow == undefined) uiSelectedRow = { uid };\r\n    uiSelectedRow.uid = uid;\r\n};\r\n\r\nconst isSelectedRow = (uid: number) => {\r\n    if (uiSelectedRow == undefined) return false;\r\n    return (uiSelectedRow.uid == uid);\r\n};\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = pageSize;\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_archive = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let archive = (value.length > 0 ? value == \"true\" : undefined);\r\n    if (archive == state.pager.filter.archive)\r\n        return;\r\n    state.pager.filter.archive = archive;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_readytoarchive = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let readytoarchive = (value.length > 0 ? value == \"true\" : undefined);\r\n    if (readytoarchive == state.pager.filter.readyToArchive)\r\n        return;\r\n    state.pager.filter.readyToArchive = readytoarchive;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const gotoDetail = (cid: number) => {\r\n    setSelectedRow(cid);\r\n    Router.goto(`#/admin/account/${cid}`);\r\n};\r\n\r\nexport const create = () => {\r\n    Router.goto(`#/admin/account/new`);\r\n};\r\n\r\nexport const autoArchive = () => {\r\n    App.POST(\"/account/auto-archive\", null)\r\n        .then(_ => {\r\n            Misc.toastSuccess(i18n(\"Auto Archive Executed\"));\r\n            Router.goto(`#/admin/accounts`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n","// File: account.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Auth from \"../../_BaseApp/src/auth\"\r\nimport * as Lookup from \"./lookupdata\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Layout from \"./layout\"\r\nimport { tabTemplate, icon, ISummary, prepareMenu } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_account\";\r\n\r\ninterface IPayload {\r\n    item: IState\r\n    xtra: ISummary\r\n}\r\n\r\ninterface IKey {\r\n    uid: number\r\n}\r\n\r\ninterface IState {\r\n    uid: number\r\n    cie: number\r\n    cie_text: string\r\n    email: string\r\n    password: string\r\n    roleluid: number\r\n    roleluid_text: string\r\n    rolemask: number\r\n    issupport: boolean\r\n    resetguid: string\r\n    resetexpiry: Date\r\n    lastactivity: Date\r\n    isadminreset: boolean\r\n    firstname: string\r\n    lastname: string\r\n    userealemail: boolean\r\n    archivedays: number\r\n    readytoarchive: boolean\r\n    currentyear: number\r\n    comment: string\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n    canextendinvitation: boolean\r\n    canresetpassword: boolean\r\n    cancreateinvitation: boolean\r\n    //\r\n    acrobatpath: string\r\n    autresrapportsprintermarginbottom: number\r\n    autresrapportsprintermarginleft: number\r\n    autresrapportsprintermarginright: number\r\n    autresrapportsprintermargintop: number\r\n    excellanguage: string\r\n    factureformat: number\r\n    facturesorttype: number\r\n    imprimanteautresrapports: string\r\n    imprimantedepermis: string\r\n    municipalitesorttype: number\r\n    proprietairesorttype: number\r\n    signaturepath: string\r\n    signatureprint: boolean\r\n    transporteursorttype: number\r\n}\r\n\r\nconst blackList = [\"cie_text\", \"roleluid_text\", \"resetguid\", \"created\", \"updatedby\", \"by\", \"profileJson\", \"xtra\"];\r\n\r\n\r\nlet key: IKey;\r\nlet state = <IState>{};\r\nlet fetchedState = <IState>{};\r\nlet xtra: ISummary;\r\nlet isNew = false;\r\nlet isDirty = false;\r\nlet emailSubject: string;\r\nlet emailBody: string;\r\n\r\n\r\nconst block_account = (item: IState, roleList: Lookup.LookupData[]) => {\r\n\r\n    let roleluid = Theme.renderRadios(NS, \"roleluid\", Lookup.authrole, state.roleluid, false);\r\n\r\n    let canCreateFullAccount = true;//Perm.canCreateFullAccount();\r\n\r\n    return `\r\n    <div class=\"columns js-2-columns\">\r\n    <div class=\"column\">\r\n    ${canCreateFullAccount ? Theme.renderCheckboxField(NS, \"userealemail\", item.userealemail, i18n(\"USEREALEMAIL\"), i18n(\"USEREALEMAIL_TEXT\"), i18n(`USEREALEMAIL_HELP_${item.userealemail}`)) : \"\"}\r\n\r\n${item.userealemail ? `\r\n    ${Theme.renderTextField2(NS, \"email\", item.email, i18n(\"EMAIL\"), 50, <Theme.IOptText>{ required: true, size: \"js-width-50\" })}\r\n    ${!isNew ? `\r\n        <div class=\"field is-horizontal\">\r\n            <div class=\"field-label\"><label class=\"label\">&nbsp;</label></div>\r\n            <div class=\"field-body\"><span><a href=\"mailto:${item.email}\"><i class=\"far fa-envelope\"></i> ${i18n(\"SEND EMAIL TO\")} ${item.email}</a></span></div>\r\n        </div>\r\n    ` : ``}\r\n` : `\r\n    ${Theme.renderTextField2(NS, \"email\", item.email, i18n(\"USERNAME\"), 50, <Theme.IOptText>{ required: true, size: \"js-width-50\" })}\r\n    ${Theme.renderTextField2(NS, \"password\", item.password, i18n(\"PASSWORD\"), 50, <Theme.IOptText>{ required: isNew, size: \"js-width-50\", help: !isNew ? i18n(\"PASSWORD_HELP\") : undefined, noautocomplete: true })}\r\n`}\r\n\r\n    ${Theme.renderTextField(NS, \"firstname\", item.firstname, i18n(\"FIRSTNAME\"), 50, true)}\r\n    ${Theme.renderTextField(NS, \"lastname\", item.lastname, i18n(\"LASTNAME\"), 50, true)}\r\n\r\n${!isNew ? `\r\n    ${Theme.renderStaticField(Misc.toStaticDateTime(item.resetexpiry), i18n(\"RESETEXPIRY\"))}\r\n    ${Theme.renderStaticField(Misc.toStaticDateTime(item.lastactivity), i18n(\"LASTACTIVITY\"))}\r\n    <div class=\"field is-horizontal\">\r\n        <div class=\"field-label\"><label class=\"label\">&nbsp;</label></div>\r\n        <div class=\"field-body\">${resetPasswordButton(item)}</div>\r\n    </div>\r\n` : ``}\r\n    </div>\r\n    <div class=\"column\">\r\n    ${Theme.renderNumberField(NS, \"currentyear\", item.currentyear, i18n(\"CURRENTYEAR\"), true, \"js-width-25\", \"User can only enter data for this fire season\")}\r\n    ${Theme.renderRadioField(roleluid, i18n(\"ROLELUID\"))}\r\n    ${Theme.renderNumberField(NS, \"archivedays\", item.archivedays, i18n(\"ARCHIVEDAYS\"), false, \"js-width-25\", \"Duration in days after which an inactive account is archived\")}\r\n${!isNew ? `\r\n    ${Theme.renderCheckboxField(NS, \"archive\", item.archive, i18n(\"ARCHIVE\"), \"Disable Account\", \"User cannot sign-in to OpsFMS when the account is disabled\")}\r\n` : ``}\r\n    </div>\r\n    </div>\r\n`;\r\n}\r\n\r\nconst block_profile = (item: IState, sortOrderKeysID: string) => {\r\n    return `\r\n    <div class=\"columns js-2-columns\">\r\n    <div class=\"column\">\r\n    ${Theme.renderTextField(NS, \"acrobatpath\", item.acrobatpath, \"Chemin d'accès à Acrobat Reader\", 100, false)}\r\n    ${Theme.renderDropdownField(NS, \"facturesorttype\", sortOrderKeysID, \"Ordre de tri des factures (croissant)\")}\r\n    </div>\r\n    </div>\r\n`;\r\n}\r\n\r\nconst formTemplate = (item: IState, roleList: Lookup.LookupData[], sortOrderKeysID: string) => {\r\n    return `\r\n<div class=\"columns\">\r\n    <div class=\"column is-8 is-offset-2\">\r\n        ${Theme.wrapFieldset(\"Compte\", block_account(item, roleList))}\r\n        ${Theme.wrapFieldset(\"Profile\", block_profile(item, sortOrderKeysID))}\r\n    </div>\r\n</div>\r\n\r\n    ${Theme.renderBlame(item, isNew)}\r\n`;\r\n};\r\n\r\nlet resetPasswordButton = (item: IState) => {\r\n    let title: string;\r\n    let helpText: string;\r\n    let onclick: string;\r\n\r\n    if (item.canresetpassword) {\r\n        title = i18n(\"Reset Password\");\r\n        helpText = i18n(\"<p><b>Note:</b> This will prevent the user from login until the user re-enters a new password.</p><br><p>An email will be sent to the user with a link to do so.</p>\");\r\n        onclick = `${NS}.resetPassword()`;\r\n    }\r\n\r\n    if (item.cancreateinvitation) {\r\n        title = i18n(\"Create Invitation\");\r\n        helpText = i18n(\"<p>Create an invitation for this user to join OpsFMS.</p><br><p>An email will be sent to the user with a link to do so.</p>\");\r\n        onclick = `${NS}.createInvitation()`;\r\n    }\r\n\r\n    if (item.canextendinvitation) {\r\n        title = i18n(\"Extend Invitation\");\r\n        helpText = i18n(\"Re-invite this user to OpsFMS because he/she didn't go through the process before the <b>Password Reset Expiry</b>.</p><br><p>An email will be sent to the user with a link to do so.</p>\");\r\n        onclick = `${NS}.createInvitation()`;\r\n    }\r\n\r\n    if (title)\r\n        return Theme.renderButtonWithConfirm(title, \"fas fa-lock\", helpText, onclick, false, false, true);\r\n    else\r\n        return \"\";\r\n};\r\n\r\nconst canUpdate = () => {\r\n    return (isNew || key.uid != 1 || Auth.getRoles().indexOf(1) != -1);\r\n}\r\n\r\nconst pageTemplate = (item: IState, form: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = !canUpdate();\r\n\r\n    let buttons: string[] = [];\r\n\r\n    return `\r\n<form onsubmit=\"return false;\" ${readonly ? \"class='js-readonly'\" : \"\"}>\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${xtra.title}</span></div>\r\n            <div class=\"subtitle\">${isNew ? i18n(\"New account\") : xtra.subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", Theme.renderActionButtons2(NS, isNew, `#/admin/account/new`, buttons))}\r\n            ${Theme.renderBlame(item, isNew)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-details\", form)}\r\n</div>\r\n</div>\r\n\r\n${Theme.renderModalDelete(`modalDelete_${NS}`, `${NS}.drop()`)}\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, Misc.changes(fetchedState, state)) : \"\");\r\n}\r\n\r\nconst clearState = () => {\r\n    state = <IState>{};\r\n};\r\n\r\nexport const fetchState = (uid: number) => {\r\n    isNew = isNaN(uid);\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    clearState();\r\n    let url = `/account/${isNew ? \"new\" : uid}`;\r\n    return App.GET(url)\r\n        .then((payload: IPayload) => {\r\n            state = payload.item;\r\n            fetchedState = Misc.clone(state) as IState;\r\n            xtra = payload.xtra;\r\n            key = <IKey>{ uid };\r\n        })\r\n        .then(Lookup.fetch_authrole())\r\n        .then(Lookup.fetch_sortOrderKeys())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    App.prepareRender(NS, i18n(\"account\"));\r\n    prepareMenu();\r\n    fetchState(id)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || Object.keys(state).length == 0)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let year = state.currentyear;\r\n\r\n    let lookup_sortOrderKeys = Lookup.get_sortOrderKeys(year);\r\n\r\n    let sortOrderKeysID = Theme.renderOptions(lookup_sortOrderKeys, state.facturesorttype, false);\r\n\r\n    const form = formTemplate(state, Lookup.authrole, sortOrderKeysID);\r\n    emailBody = undefined;\r\n\r\n    const tab = tabTemplate(state.uid, xtra);\r\n    const dirty = dirtyTemplate();\r\n    const warning = App.warningTemplate();\r\n    return pageTemplate(state, form, tab, warning, dirty);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n\r\n    App.setPageTitle(isNew ? i18n(\"New account\") : xtra.title);\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IState;\r\n    clone.userealemail = Misc.fromInputCheckbox(`${NS}_userealemail`, state.userealemail);\r\n    clone.email = Misc.fromInputText(`${NS}_email`, state.email);\r\n    clone.password = Misc.fromInputText(`${NS}_password`, state.password);\r\n    clone.firstname = Misc.fromInputText(`${NS}_firstname`, state.firstname);\r\n    clone.lastname = Misc.fromInputText(`${NS}_lastname`, state.lastname);\r\n    clone.currentyear = Misc.fromInputNumber(`${NS}_currentyear`, state.currentyear);\r\n    clone.roleluid = Misc.fromRadioNumber(`${NS}_roleluid`, state.roleluid);\r\n    clone.archivedays = Misc.fromInputNumberNullable(`${NS}_archivedays`, state.archivedays);\r\n    clone.archive = Misc.fromInputCheckbox(`${NS}_archive`, state.archive);\r\n    //\r\n    clone.acrobatpath = Misc.fromInputText(`${NS}_acrobatpath`, state.acrobatpath);\r\n    clone.facturesorttype = Misc.fromSelectNumber(`${NS}_facturesorttype`, state.facturesorttype);\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const cancel = () => {\r\n    Router.goBackOrResume(isDirty);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/account\", Misc.createBlack(formState, blackList))\r\n        .then(payload => {\r\n            let newkey = <IKey>payload;\r\n            emailSubject = payload.emailSubject;\r\n            emailBody = payload.emailBody;\r\n            Misc.toastSuccessSave();\r\n            Router.goto(`#/admin/account/${newkey.uid}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = (done = false) => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/account\", Misc.createBlack(formState, blackList))\r\n        .then(_ => {\r\n            Misc.toastSuccessSave();\r\n            if (done)\r\n                Router.goto(`#/admin/accounts/`, 100);\r\n            else\r\n                Router.goto(`#/admin/account/${key.uid}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const drop = () => {\r\n    (<any>key).updated = state.updated;\r\n    App.prepareRender();\r\n    App.DELETE(\"/account\", key)\r\n        .then(_ => {\r\n            clearState();\r\n            Router.goto(`#/admin/accounts/`, 250);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const resetPassword = () => {\r\n    App.POST(\"/account/reset-password\", key)\r\n        .then(_ => {\r\n            Misc.toastSuccess(i18n(\"Password reset sent\"));\r\n            Router.goto(`#/admin/account/${key.uid}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const createInvitation = () => {\r\n    App.POST(\"/account/create-invitation\", key)\r\n        .then(_ => {\r\n            Misc.toastSuccess(i18n(\"Invitation sent\"));\r\n            Router.goto(`#/admin/account/${key.uid}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    isDirty = !Misc.same(fetchedState, getFormState());\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n};\r\n","// File: company.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport { Calendar } from \"../../_BaseApp/src/theme/calendar\"\r\nimport { Autocomplete } from \"../../_BaseApp/src/theme/autocomplete\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Auth from \"../../_BaseApp/src/auth\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Perm from \"../permission\"\r\nimport { tabTemplate, icon, ISummary, buildTitle, buildSubtitle } from \"./layout\"\r\nimport { setOpenedMenu } from \"../layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_company\";\r\n\r\ninterface IPayload {\r\n    item: IState\r\n    xtra: ISummary\r\n}\r\n\r\ninterface IKey {\r\n    cie: number\r\n}\r\n\r\ninterface IState {\r\n    cie: number\r\n    name: string\r\n    features: string\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    acombapassword: string\r\n    acombapath: string\r\n    acombasocietepath: string\r\n    acombasyncropath: string\r\n    acombausername: string\r\n    acrobatpath: string\r\n    adminpassword: string\r\n    afficherpermit1: boolean\r\n    afficherpermit2: boolean\r\n    afficherpermit3: boolean\r\n    afficherpermit4: boolean\r\n    anneecourante: number\r\n    autresraportsprintermarginbottom: number\r\n    autresraportsprintermarginleft: number\r\n    autresraportsprintermarginright: number\r\n    autresraportsprintermargintop: number\r\n    caneditundeliveredpermits: string\r\n    ccemail: string\r\n    cletriclientnom: string\r\n    copiepermit1: boolean\r\n    copiepermit2: boolean\r\n    copiepermit3: boolean\r\n    copiepermit4: boolean\r\n    deletefichepassword: string\r\n    emailpermit1: boolean\r\n    emailpermit2: boolean\r\n    emailpermit3: boolean\r\n    emailpermit4: boolean\r\n    excellanguage: string\r\n    facturesafficherfraisautrechargepourtransporteur: boolean\r\n    facturesafficherfraisautresproducteur: boolean\r\n    facturesafficherfraisautresrevenusproducteur: boolean\r\n    facturesafficherfraisautresrevenustransporteur: boolean\r\n    facturesafficherfraisautrestransporteur: boolean\r\n    facturesafficherfraischargeurproducteur: boolean\r\n    facturesafficherfraischargeurtransporteur: boolean\r\n    facturesafficherfraiscompensationdedeplacement: boolean\r\n    facturesaffichersurchargeproducteur: boolean\r\n    formicon: string\r\n    formtext: string\r\n    fournisseurpointerid: number\r\n    fromemail: string\r\n    gpversion: string\r\n    helpfilepath: string\r\n    imprimanteautresrapports: string\r\n    imprimantedepermis: string\r\n    livraisonliertaux: boolean\r\n    logfile: string\r\n    logopath: string\r\n    massecontingentvoyagedefaut: number\r\n    masselimitedefaut: number\r\n    message_autorisationdeslivraisons: string\r\n    message_demandecontingentement: string\r\n    messageimpressionsdefactures: string\r\n    messagelivraisonnonconforme: string\r\n    messagespecpermitanglais: string\r\n    messagespecpermitfrancais: string\r\n    nomdb: string\r\n    permisprintermarginbottom: number\r\n    permisprintermarginleft: number\r\n    permisprintermarginright: number\r\n    permisprintermargintop: number\r\n    permisprintpreview: boolean\r\n    preleves_notps: string\r\n    preleves_notvq: string\r\n    serveuremail: string\r\n    showyearsinpermislistview: string\r\n    superficiecontingenteepourcentagededuction: number\r\n    superficiecontingenteesansdeduction: number\r\n    syndicat_codepostal: string\r\n    syndicat_fax: string\r\n    syndicat_nom: string\r\n    syndicat_nomanglais: string\r\n    syndicat_nomfrancais: string\r\n    syndicat_notps: string\r\n    syndicat_notvq: string\r\n    syndicat_rue: string\r\n    syndicat_telephone: string\r\n    syndicat_ville: string\r\n    syndicatouoffice: string\r\n    takeacombabackup: boolean\r\n    takesqlbackup: boolean\r\n    tempsentrelesbackupsautomatiques: number\r\n    timeoutsql: number\r\n    typepermis: number\r\n    typepermis1: string\r\n    typepermis1anglais: string\r\n    typepermis1francais: string\r\n    typepermis2: string\r\n    typepermis2anglais: string\r\n    typepermis2francais: string\r\n    typepermis3: string\r\n    typepermis3anglais: string\r\n    typepermis3francais: string\r\n    typepermis4: string\r\n    typepermis4anglais: string\r\n    typepermis4francais: string\r\n    updateotherdatabase: string\r\n    utiliselesychronisateurdirect: boolean\r\n    utiliserlesnomsdemachinedanslenomdeprinter: boolean\r\n    utiliserlotscontingentes: boolean\r\n    xlstemplatespath: string\r\n    fournisseur_planconjoint: string\r\n    fournisseur_planconjoint_text: string\r\n    fournisseur_surcharge: string\r\n    fournisseur_surcharge_text: string\r\n    compte_paiements: number\r\n    compte_paiements_text: string\r\n    compte_arecevoir: number\r\n    compte_arecevoir_text: string\r\n    compte_apayer: number\r\n    compte_apayer_text: string\r\n    compte_duauxproducteurs: number\r\n    compte_duauxproducteurs_text: string\r\n    compte_tpspercues: number\r\n    compte_tpspercues_text: string\r\n    compte_tpspayees: number\r\n    compte_tpspayees_text: string\r\n    compte_tvqpercues: number\r\n    compte_tvqpercues_text: string\r\n    compte_tvqpayees: number\r\n    compte_tvqpayees_text: string\r\n    taux_tps: number\r\n    taux_tvq: number\r\n    fournisseur_fond_roulement: string\r\n    fournisseur_fond_roulement_text: string\r\n    fournisseur_fond_forestier: string\r\n    fournisseur_fond_forestier_text: string\r\n    fournisseur_preleve_divers: string\r\n    fournisseur_preleve_divers_text: string\r\n}\r\n\r\nconst blackList = [\"created\"];\r\n\r\n\r\n\r\nlet key: IKey;\r\nlet state = <IState>{};\r\nlet fetchedState = <IState>{};\r\nlet xtra: ISummary;\r\nlet isNew = false;\r\nlet isDirty = false;\r\n\r\n\r\nconst block_company = (item: IState) => {\r\n    let isSupport = Perm.isSupport();\r\n    return `\r\n    ${Theme.renderTextField(NS, \"name\", item.name, i18n(\"NAME\"), 64, true)}\r\n${isSupport ? `\r\n    ${Theme.renderTextField(NS, \"features\", item.features, i18n(\"FEATURES\"), 2048)}\r\n    ${Theme.renderCheckboxField(NS, \"archive\", item.archive, i18n(\"ARCHIVE\"))}\r\n` : ``}\r\n`;\r\n}\r\n\r\nconst block_system = (item: IState) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"xlstemplatespath\", item.xlstemplatespath, i18n(\"XLSTEMPLATESPATH\"), 500)}\r\n    ${Theme.renderTextField(NS, \"helpfilepath\", item.helpfilepath, i18n(\"HELPFILEPATH\"), 500)}\r\n\r\n    ${Theme.renderNumberField(NS, \"masselimitedefaut\", item.masselimitedefaut, i18n(\"MASSELIMITEDEFAUT\"), true)}\r\n    ${Theme.renderNumberField(NS, \"anneecourante\", item.anneecourante, i18n(\"ANNEECOURANTE\"), true)}\r\n    ${Theme.renderNumberField(NS, \"taux_tps\", item.taux_tps, i18n(\"TAUX_TPS\"))}\r\n    ${Theme.renderNumberField(NS, \"taux_tvq\", item.taux_tvq, i18n(\"TAUX_TVQ\"))}\r\n\r\n    ${Theme.renderNumberField(NS, \"massecontingentvoyagedefaut\", item.massecontingentvoyagedefaut, i18n(\"MASSECONTINGENTVOYAGEDEFAUT\"), true)}\r\n    ${Theme.renderNumberField(NS, \"superficiecontingenteesansdeduction\", item.superficiecontingenteesansdeduction, i18n(\"SUPERFICIECONTINGENTEESANSDEDUCTION\"))}\r\n    ${Theme.renderNumberField(NS, \"superficiecontingenteepourcentagededuction\", item.superficiecontingenteepourcentagededuction, i18n(\"SUPERFICIECONTINGENTEEPOURCENTAGEDEDUCTION\"))}\r\n\r\n    ${Theme.renderCheckboxField(NS, \"livraisonliertaux\", item.livraisonliertaux, i18n(\"LIVRAISONLIERTAUX\"))}\r\n    ${Theme.renderCheckboxField(NS, \"utiliserlotscontingentes\", item.utiliserlotscontingentes, i18n(\"UTILISERLOTSCONTINGENTES\"))}\r\n\r\n    ${Theme.renderTextField(NS, \"formicon\", item.formicon, i18n(\"FORMICON\"), 500)}\r\n    ${Theme.renderTextField(NS, \"formtext\", item.formtext, i18n(\"FORMTEXT\"), 500)}\r\n`;\r\n}\r\n\r\nconst block_personnalisation = (item: IState) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"syndicatouoffice\", item.syndicatouoffice, i18n(\"SYNDICATOUOFFICE\"), 500)}\r\n\r\n    ${Theme.renderTextField(NS, \"syndicat_nomanglais\", item.syndicat_nomanglais, i18n(\"SYNDICAT_NOMANGLAIS\"), 500)}\r\n    ${Theme.renderTextField(NS, \"syndicat_nomfrancais\", item.syndicat_nomfrancais, i18n(\"SYNDICAT_NOMFRANCAIS\"), 500)}\r\n\r\n    ${Theme.renderTextField(NS, \"syndicat_rue\", item.syndicat_rue, i18n(\"SYNDICAT_RUE\"), 500)}\r\n    ${Theme.renderTextField(NS, \"syndicat_ville\", item.syndicat_ville, i18n(\"SYNDICAT_VILLE\"), 500)}\r\n    ${Theme.renderTextField(NS, \"syndicat_codepostal\", item.syndicat_codepostal, i18n(\"SYNDICAT_CODEPOSTAL\"), 500)}\r\n    ${Theme.renderTextField(NS, \"syndicat_telephone\", item.syndicat_telephone, i18n(\"SYNDICAT_TELEPHONE\"), 500)}\r\n    ${Theme.renderTextField(NS, \"syndicat_fax\", item.syndicat_fax, i18n(\"SYNDICAT_FAX\"), 500)}\r\n`;\r\n}\r\n\r\nconst block_acomba = (item: IState) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"acombausername\", item.acombausername, i18n(\"ACOMBAUSERNAME\"), 500)}\r\n    ${Theme.renderTextField(NS, \"acombapassword\", item.acombapassword, i18n(\"ACOMBAPASSWORD\"), 500)}\r\n    ${Theme.renderTextField(NS, \"acombasocietepath\", item.acombasocietepath, i18n(\"ACOMBASOCIETEPATH\"), 500)}\r\n    ${Theme.renderTextField(NS, \"acombapath\", item.acombapath, i18n(\"ACOMBAPATH\"), 500)}\r\n\r\n    ${Theme.renderCheckboxField(NS, \"utiliselesychronisateurdirect\", item.utiliselesychronisateurdirect, i18n(\"UTILISELESYCHRONISATEURDIRECT\"))}\r\n    ${Theme.renderTextField(NS, \"acombasyncropath\", item.acombasyncropath, i18n(\"ACOMBASYNCROPATH\"), 500)}\r\n`;\r\n}\r\n\r\nconst block_comptes = (item: IState, fournisseur_planconjoint: string, fournisseur_surcharge: string, compte_paiements: string, compte_arecevoir: string, compte_apayer: string, compte_duauxproducteurs: string, compte_tpspercues: string, compte_tpspayees: string, compte_tvqpercues: string, compte_tvqpayees: string, fournisseur_fond_roulement: string, fournisseur_fond_forestier: string, fournisseur_preleve_divers: string) => {\r\n    return `\r\n    ${Theme.renderDropdownField(NS, \"fournisseur_planconjoint\", fournisseur_planconjoint, i18n(\"FOURNISSEUR_PLANCONJOINT\"))}\r\n    ${Theme.renderDropdownField(NS, \"fournisseur_surcharge\", fournisseur_surcharge, i18n(\"FOURNISSEUR_SURCHARGE\"))}\r\n    ${Theme.renderDropdownField(NS, \"fournisseur_fond_roulement\", fournisseur_fond_roulement, i18n(\"FOURNISSEUR_FOND_ROULEMENT\"))}\r\n    ${Theme.renderDropdownField(NS, \"fournisseur_fond_forestier\", fournisseur_fond_forestier, i18n(\"FOURNISSEUR_FOND_FORESTIER\"))}\r\n    ${Theme.renderDropdownField(NS, \"fournisseur_preleve_divers\", fournisseur_preleve_divers, i18n(\"FOURNISSEUR_PRELEVE_DIVERS\"))}\r\n\r\n    ${Theme.renderDropdownField(NS, \"compte_paiements\", compte_paiements, i18n(\"COMPTE_PAIEMENTS\"))}\r\n    ${Theme.renderDropdownField(NS, \"compte_arecevoir\", compte_arecevoir, i18n(\"COMPTE_ARECEVOIR\"))}\r\n    ${Theme.renderDropdownField(NS, \"compte_apayer\", compte_apayer, i18n(\"COMPTE_APAYER\"))}\r\n    ${Theme.renderDropdownField(NS, \"compte_duauxproducteurs\", compte_duauxproducteurs, i18n(\"COMPTE_DUAUXPRODUCTEURS\"))}\r\n    ${Theme.renderDropdownField(NS, \"compte_tpspercues\", compte_tpspercues, i18n(\"COMPTE_TPSPERCUES\"))}\r\n    ${Theme.renderDropdownField(NS, \"compte_tpspayees\", compte_tpspayees, i18n(\"COMPTE_TPSPAYEES\"))}\r\n    ${Theme.renderDropdownField(NS, \"compte_tvqpercues\", compte_tvqpercues, i18n(\"COMPTE_TVQPERCUES\"))}\r\n    ${Theme.renderDropdownField(NS, \"compte_tvqpayees\", compte_tvqpayees, i18n(\"COMPTE_TVQPAYEES\"))}\r\n`;\r\n}\r\n\r\nconst block_preleve = (item: IState) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"preleves_notps\", item.preleves_notps, i18n(\"PRELEVES_NOTPS\"), 500)}\r\n    ${Theme.renderTextField(NS, \"preleves_notvq\", item.preleves_notvq, i18n(\"PRELEVES_NOTVQ\"), 500)}\r\n\r\n    ${Theme.renderTextField(NS, \"syndicat_notps\", item.syndicat_notps, i18n(\"SYNDICAT_NOTPS\"), 500)}\r\n    ${Theme.renderTextField(NS, \"syndicat_notvq\", item.syndicat_notvq, i18n(\"SYNDICAT_NOTVQ\"), 500)}\r\n`;\r\n}\r\n\r\nconst block_permis = (item: IState) => {\r\n    return `\r\n    ${Theme.renderNumberField(NS, \"typepermis\", item.typepermis, i18n(\"TYPEPERMIS\"), true)}\r\n\r\n    ${Theme.renderTextField(NS, \"serveuremail\", item.serveuremail, i18n(\"SERVEUREMAIL\"), 500)}\r\n    ${Theme.renderTextField(NS, \"ccemail\", item.ccemail, i18n(\"CCEMAIL\"), 500)}\r\n    ${Theme.renderTextField(NS, \"fromemail\", item.fromemail, i18n(\"FROMEMAIL\"), 500)}\r\n\r\n    ${Theme.renderCheckboxField(NS, \"permisprintpreview\", item.permisprintpreview, i18n(\"PERMISPRINTPREVIEW\"))}\r\n    ${Theme.renderTextField(NS, \"typepermis1\", item.typepermis1, i18n(\"TYPEPERMIS1\"), 500)}\r\n    ${Theme.renderTextField(NS, \"typepermis1anglais\", item.typepermis1anglais, i18n(\"TYPEPERMIS1ANGLAIS\"), 500)}\r\n    ${Theme.renderTextField(NS, \"typepermis1francais\", item.typepermis1francais, i18n(\"TYPEPERMIS1FRANCAIS\"), 500)}\r\n    ${Theme.renderCheckboxField(NS, \"afficherpermit1\", item.afficherpermit1, i18n(\"AFFICHERPERMIT1\"))}\r\n    ${Theme.renderCheckboxField(NS, \"emailpermit1\", item.emailpermit1, i18n(\"EMAILPERMIT1\"))}\r\n    ${Theme.renderCheckboxField(NS, \"copiepermit1\", item.copiepermit1, i18n(\"COPIEPERMIT1\"))}\r\n\r\n    ${Theme.renderTextField(NS, \"typepermis2\", item.typepermis2, i18n(\"TYPEPERMIS2\"), 500)}\r\n    ${Theme.renderTextField(NS, \"typepermis2anglais\", item.typepermis2anglais, i18n(\"TYPEPERMIS2ANGLAIS\"), 500)}\r\n    ${Theme.renderTextField(NS, \"typepermis2francais\", item.typepermis2francais, i18n(\"TYPEPERMIS2FRANCAIS\"), 500)}\r\n    ${Theme.renderCheckboxField(NS, \"afficherpermit2\", item.afficherpermit2, i18n(\"AFFICHERPERMIT2\"))}\r\n    ${Theme.renderCheckboxField(NS, \"emailpermit2\", item.emailpermit2, i18n(\"EMAILPERMIT2\"))}\r\n    ${Theme.renderCheckboxField(NS, \"copiepermit2\", item.copiepermit2, i18n(\"COPIEPERMIT2\"))}\r\n\r\n    ${Theme.renderTextField(NS, \"typepermis3\", item.typepermis3, i18n(\"TYPEPERMIS3\"), 500)}\r\n    ${Theme.renderTextField(NS, \"typepermis3anglais\", item.typepermis3anglais, i18n(\"TYPEPERMIS3ANGLAIS\"), 500)}\r\n    ${Theme.renderTextField(NS, \"typepermis3francais\", item.typepermis3francais, i18n(\"TYPEPERMIS3FRANCAIS\"), 500)}\r\n    ${Theme.renderCheckboxField(NS, \"afficherpermit3\", item.afficherpermit3, i18n(\"AFFICHERPERMIT3\"))}\r\n    ${Theme.renderCheckboxField(NS, \"emailpermit3\", item.emailpermit3, i18n(\"EMAILPERMIT3\"))}\r\n    ${Theme.renderCheckboxField(NS, \"copiepermit3\", item.copiepermit3, i18n(\"COPIEPERMIT3\"))}\r\n\r\n    ${Theme.renderTextField(NS, \"typepermis4\", item.typepermis4, i18n(\"TYPEPERMIS4\"), 500)}\r\n    ${Theme.renderTextField(NS, \"typepermis4anglais\", item.typepermis4anglais, i18n(\"TYPEPERMIS4ANGLAIS\"), 500)}\r\n    ${Theme.renderTextField(NS, \"typepermis4francais\", item.typepermis4francais, i18n(\"TYPEPERMIS4FRANCAIS\"), 500)}\r\n    ${Theme.renderCheckboxField(NS, \"afficherpermit4\", item.afficherpermit4, i18n(\"AFFICHERPERMIT4\"))}\r\n    ${Theme.renderCheckboxField(NS, \"emailpermit4\", item.emailpermit4, i18n(\"EMAILPERMIT4\"))}\r\n    ${Theme.renderCheckboxField(NS, \"copiepermit4\", item.copiepermit4, i18n(\"COPIEPERMIT4\"))}\r\n\r\n    ${Theme.renderTextField(NS, \"messagespecpermitanglais\", item.messagespecpermitanglais, i18n(\"MESSAGESPECPERMITANGLAIS\"), 500)}\r\n    ${Theme.renderTextField(NS, \"messagespecpermitfrancais\", item.messagespecpermitfrancais, i18n(\"MESSAGESPECPERMITFRANCAIS\"), 500)}\r\n\r\n    ${Theme.renderTextField(NS, \"showyearsinpermislistview\", item.showyearsinpermislistview, i18n(\"SHOWYEARSINPERMISLISTVIEW\"), 500)}\r\n`;\r\n}\r\n\r\nconst block_print = (item: IState) => {\r\n    return `\r\n    ${Theme.renderCheckboxField(NS, \"facturesaffichersurchargeproducteur\", item.facturesaffichersurchargeproducteur, i18n(\"FACTURESAFFICHERSURCHARGEPRODUCTEUR\"))}\r\n    ${Theme.renderCheckboxField(NS, \"facturesafficherfraischargeurproducteur\", item.facturesafficherfraischargeurproducteur, i18n(\"FACTURESAFFICHERFRAISCHARGEURPRODUCTEUR\"))}\r\n    ${Theme.renderCheckboxField(NS, \"facturesafficherfraischargeurtransporteur\", item.facturesafficherfraischargeurtransporteur, i18n(\"FACTURESAFFICHERFRAISCHARGEURTRANSPORTEUR\"))}\r\n    ${Theme.renderCheckboxField(NS, \"facturesafficherfraisautresproducteur\", item.facturesafficherfraisautresproducteur, i18n(\"FACTURESAFFICHERFRAISAUTRESPRODUCTEUR\"))}\r\n\r\n    ${Theme.renderCheckboxField(NS, \"facturesafficherfraisautrestransporteur\", item.facturesafficherfraisautrestransporteur, i18n(\"FACTURESAFFICHERFRAISAUTRESTRANSPORTEUR\"))}\r\n    ${Theme.renderCheckboxField(NS, \"facturesafficherfraiscompensationdedeplacement\", item.facturesafficherfraiscompensationdedeplacement, i18n(\"FACTURESAFFICHERFRAISCOMPENSATIONDEDEPLACEMENT\"))}\r\n    ${Theme.renderCheckboxField(NS, \"facturesafficherfraisautresrevenustransporteur\", item.facturesafficherfraisautresrevenustransporteur, i18n(\"FACTURESAFFICHERFRAISAUTRESREVENUSTRANSPORTEUR\"))}\r\n    ${Theme.renderCheckboxField(NS, \"facturesafficherfraisautresrevenusproducteur\", item.facturesafficherfraisautresrevenusproducteur, i18n(\"FACTURESAFFICHERFRAISAUTRESREVENUSPRODUCTEUR\"))}\r\n\r\n    ${Theme.renderTextField(NS, \"logopath\", item.logopath, i18n(\"LOGOPATH\"), 500)}\r\n\r\n    ${Theme.renderCheckboxField(NS, \"utiliserlesnomsdemachinedanslenomdeprinter\", item.utiliserlesnomsdemachinedanslenomdeprinter, i18n(\"UTILISERLESNOMSDEMACHINEDANSLENOMDEPRINTER\"))}\r\n\r\n    ${Theme.renderTextareaField(NS, \"message_autorisationdeslivraisons\", item.message_autorisationdeslivraisons, i18n(\"MESSAGE_AUTORISATIONDESLIVRAISONS\"), 500, false, null, 10)}\r\n    ${Theme.renderTextareaField(NS, \"message_demandecontingentement\", item.message_demandecontingentement, i18n(\"MESSAGE_DEMANDECONTINGENTEMENT\"), 500, false, null, 10)}\r\n`;\r\n}\r\n\r\nconst block_backup = (item: IState) => {\r\n    return `\r\n    ${Theme.renderCheckboxField(NS, \"takeacombabackup\", item.takeacombabackup, i18n(\"TAKEACOMBABACKUP\"))}\r\n    ${Theme.renderCheckboxField(NS, \"takesqlbackup\", item.takesqlbackup, i18n(\"TAKESQLBACKUP\"))}\r\n    ${Theme.renderTextField(NS, \"nomdb\", item.nomdb, i18n(\"NOMDB\"), 500)}\r\n    ${Theme.renderNumberField(NS, \"timeoutsql\", item.timeoutsql, i18n(\"TIMEOUTSQL\"), true)}\r\n    ${Theme.renderNumberField(NS, \"tempsentrelesbackupsautomatiques\", item.tempsentrelesbackupsautomatiques, i18n(\"TEMPSENTRELESBACKUPSAUTOMATIQUES\"))}\r\n`;\r\n}\r\n\r\nconst block_security = (item: IState) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"caneditundeliveredpermits\", item.caneditundeliveredpermits, i18n(\"CANEDITUNDELIVEREDPERMITS\"), 500)}\r\n\r\n    ${Theme.renderTextField(NS, \"adminpassword\", item.adminpassword, i18n(\"ADMINPASSWORD\"), 500)}\r\n    ${Theme.renderTextField(NS, \"deletefichepassword\", item.deletefichepassword, i18n(\"DELETEFICHEPASSWORD\"), 500)}\r\n`;\r\n}\r\n\r\nconst block_default_profile = (item: IState) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"imprimantedepermis\", item.imprimantedepermis, i18n(\"IMPRIMANTEDEPERMIS\"), 500)}\r\n    ${Theme.renderNumberField(NS, \"permisprintermarginbottom\", item.permisprintermarginbottom, i18n(\"PERMISPRINTERMARGINBOTTOM\"))}\r\n    ${Theme.renderNumberField(NS, \"permisprintermarginleft\", item.permisprintermarginleft, i18n(\"PERMISPRINTERMARGINLEFT\"))}\r\n    ${Theme.renderNumberField(NS, \"permisprintermarginright\", item.permisprintermarginright, i18n(\"PERMISPRINTERMARGINRIGHT\"))}\r\n    ${Theme.renderNumberField(NS, \"permisprintermargintop\", item.permisprintermargintop, i18n(\"PERMISPRINTERMARGINTOP\"))}\r\n\r\n    ${Theme.renderTextField(NS, \"imprimanteautresrapports\", item.imprimanteautresrapports, i18n(\"IMPRIMANTEAUTRESRAPPORTS\"), 500)}\r\n    ${Theme.renderNumberField(NS, \"autresraportsprintermarginbottom\", item.autresraportsprintermarginbottom, i18n(\"AUTRESRAPORTSPRINTERMARGINBOTTOM\"))}\r\n    ${Theme.renderNumberField(NS, \"autresraportsprintermarginleft\", item.autresraportsprintermarginleft, i18n(\"AUTRESRAPORTSPRINTERMARGINLEFT\"))}\r\n    ${Theme.renderNumberField(NS, \"autresraportsprintermarginright\", item.autresraportsprintermarginright, i18n(\"AUTRESRAPORTSPRINTERMARGINRIGHT\"))}\r\n    ${Theme.renderNumberField(NS, \"autresraportsprintermargintop\", item.autresraportsprintermargintop, i18n(\"AUTRESRAPORTSPRINTERMARGINTOP\"))}\r\n\r\n    ${Theme.renderTextField(NS, \"excellanguage\", item.excellanguage, i18n(\"EXCELLANGUAGE\"), 500)}\r\n\r\n    ${Theme.renderTextField(NS, \"acrobatpath\", item.acrobatpath, i18n(\"ACROBATPATH\"), 500)}\r\n\r\n    ${Theme.renderTextField(NS, \"cletriclientnom\", item.cletriclientnom, i18n(\"CLETRICLIENTNOM\"), 500)}\r\n`;\r\n}\r\n\r\nconst block_todo = (item: IState) => {\r\n    return `\r\n    ${Theme.renderCheckboxField(NS, \"facturesafficherfraisautrechargepourtransporteur\", item.facturesafficherfraisautrechargepourtransporteur, i18n(\"FACTURESAFFICHERFRAISAUTRECHARGEPOURTRANSPORTEUR\"))}\r\n    ${Theme.renderNumberField(NS, \"fournisseurpointerid\", item.fournisseurpointerid, i18n(\"FOURNISSEURPOINTERID\"), true)}\r\n    ${Theme.renderTextField(NS, \"gpversion\", item.gpversion, i18n(\"GPVERSION\"), 500)}\r\n    ${Theme.renderTextField(NS, \"logfile\", item.logfile, i18n(\"LOGFILE\"), 500)}\r\n    ${Theme.renderTextField(NS, \"messageimpressionsdefactures\", item.messageimpressionsdefactures, i18n(\"MESSAGEIMPRESSIONSDEFACTURES\"), 500)}\r\n    ${Theme.renderTextField(NS, \"messagelivraisonnonconforme\", item.messagelivraisonnonconforme, i18n(\"MESSAGELIVRAISONNONCONFORME\"), 500)}\r\n    ${Theme.renderTextField(NS, \"syndicat_nom\", item.syndicat_nom, i18n(\"SYNDICAT_NOM\"), 500)}\r\n    ${Theme.renderTextField(NS, \"updateotherdatabase\", item.updateotherdatabase, i18n(\"UPDATEOTHERDATABASE\"), 500)}\r\n`;\r\n}\r\n\r\n\r\nconst formTemplate = (item: IState, fournisseur_planconjoint: string, fournisseur_surcharge: string, compte_paiements: string, compte_arecevoir: string, compte_apayer: string, compte_duauxproducteurs: string, compte_tpspercues: string, compte_tpspayees: string, compte_tvqpercues: string, compte_tvqpayees: string, fournisseur_fond_roulement: string, fournisseur_fond_forestier: string, fournisseur_preleve_divers: string) => {\r\n    return `\r\n<div class=\"js-float-menu\">\r\n    <ul>\r\n        <li>${Theme.float_menu_button(\"Compagnie\")}</li>\r\n        <li>${Theme.float_menu_button(\"Paramètres système\")}</li>\r\n        <li>${Theme.float_menu_button(\"Personnalisation\")}</li>\r\n        <li>${Theme.float_menu_button(\"Acomba\")}</li>\r\n        <li>${Theme.float_menu_button(\"Comptes/Fournisseurs\")}</li>\r\n        <li>${Theme.float_menu_button(\"Taxe\")}</li>\r\n        <li>${Theme.float_menu_button(\"Permis\")}</li>\r\n        <li>${Theme.float_menu_button(\"Paramètres imprimantes\")}</li>\r\n        <li>${Theme.float_menu_button(\"Backup\")}</li>\r\n        <li>${Theme.float_menu_button(\"Sécurité\")}</li>\r\n        <li>${Theme.float_menu_button(\"Profil par défaut\")}</li>\r\n        <li>${Theme.float_menu_button(\"TODO\")}</li>\r\n    </ul>\r\n</div>\r\n\r\n<div class=\"columns\">\r\n    <div class=\"column is-8 is-offset-3\">\r\n        ${Theme.wrapFieldset(\"Compagnie\", block_company(item))}\r\n        ${Theme.wrapFieldset(\"Paramètres système\", block_system(item))}\r\n        ${Theme.wrapFieldset(\"Personnalisation\", block_personnalisation(item))}\r\n        ${Theme.wrapFieldset(\"Acomba\", block_acomba(item))}\r\n        ${Theme.wrapFieldset(\"Comptes/Fournisseurs\", block_comptes(item, fournisseur_planconjoint, fournisseur_surcharge, compte_paiements, compte_arecevoir, compte_apayer, compte_duauxproducteurs, compte_tpspercues, compte_tpspayees, compte_tvqpercues, compte_tvqpayees, fournisseur_fond_roulement, fournisseur_fond_forestier, fournisseur_preleve_divers))}\r\n        ${Theme.wrapFieldset(\"Taxe\", block_preleve(item))}\r\n        ${Theme.wrapFieldset(\"Permis\", block_permis(item))}\r\n        ${Theme.wrapFieldset(\"Paramètres imprimantes\", block_print(item))}\r\n        ${Theme.wrapFieldset(\"Backup\", block_backup(item))}\r\n        ${Theme.wrapFieldset(\"Sécurité\", block_security(item))}\r\n        ${Theme.wrapFieldset(\"Profil par défaut\", block_default_profile(item))}\r\n        ${Theme.wrapFieldset(\"TODO\", block_todo(item))}\r\n    </div>\r\n</div>\r\n\r\n    ${Theme.renderBlame(item, isNew)}\r\n`;\r\n};\r\n\r\nconst pageTemplate = (item: IState, form: string, tab: string, warning: string, dirty: string) => {\r\n    let canEdit = true;\r\n    let readonly = !canEdit;\r\n    let isSupport = Perm.isSupport();\r\n\r\n    let canInsert = isSupport && canEdit && isNew;\r\n    let canDelete = isSupport && canEdit && !canInsert;\r\n    let canAdd = isSupport && canEdit && !canInsert;\r\n    let canUpdate = canEdit && !isNew;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonCancel(NS));\r\n    if (canInsert) buttons.push(Theme.buttonInsert(NS));\r\n    if (canDelete) buttons.push(Theme.buttonDelete(NS));\r\n    if (canAdd) buttons.push(Theme.buttonAddNew(NS, \"#/admin/company/new\"));\r\n    if (canUpdate) buttons.push(Theme.buttonUpdate(NS));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, !isNew ? i18n(\"company Details\") : i18n(\"New company\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"Détails de la compagnie\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\" ${readonly ? \"class='js-readonly'\" : \"\"}>\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n            ${Theme.renderBlame(item, isNew)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-details\", form)}\r\n</div>\r\n</div>\r\n\r\n${Theme.renderModalDelete(`modalDelete_${NS}`, `${NS}.drop()`)}\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, Misc.changes(fetchedState, state)) : \"\");\r\n}\r\n\r\nexport const fetchState = (cie: number) => {\r\n    isNew = isNaN(cie);\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    return App.GET(`/company/${isNew ? \"new\" : cie}`)\r\n        .then((payload: IPayload) => {\r\n            state = payload.item;\r\n            fetchedState = Misc.clone(state) as IState;\r\n            xtra = payload.xtra;\r\n            key = <IKey>{ cie };\r\n\r\n\r\n        })\r\n        .then(Lookup.fetch_autreFournisseur())\r\n        .then(Lookup.fetch_compte())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let cie = Perm.getCie(params);\r\n    App.prepareRender(NS, i18n(\"company\"));\r\n    setOpenedMenu(\"Application-Configuration\");\r\n    fetchState(cie)\r\n        .then(App.render)\r\n        .then(_ => {\r\n            let to = (params && params.length && params[0].startsWith(\"?to=\") ? params[0].substr(4) : undefined);\r\n            if (to != undefined) {\r\n                let jumps = {\r\n                    \"param\": \"Paramètres système\",\r\n                    \"perso\": \"Personnalisation\",\r\n                    \"acomba\": \"Acomba\",\r\n                    \"comptes\": \"Comptes/Fournisseurs\",\r\n                    \"taxe\": \"Taxe\",\r\n                    \"permis\": \"Permis\",\r\n                    \"print\": \"Paramètres imprimantes\",\r\n                    \"backup\": \"Backup\",\r\n                    \"profil\": \"Profil par défaut\",\r\n                }\r\n                setTimeout(function () { Theme.scrollTo(jumps[to]) }, 0)\r\n            }\r\n        })\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || Object.keys(state).length == 0)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n    let lookup_autreFournisseur = Lookup.get_autreFournisseur(year);\r\n    let lookup_compte = Lookup.get_compte(year);\r\n\r\n    let fournisseur_planconjoint = Theme.renderOptions(lookup_autreFournisseur, state.fournisseur_planconjoint, true);\r\n    let fournisseur_surcharge = Theme.renderOptions(lookup_autreFournisseur, state.fournisseur_surcharge, true);\r\n    let compte_paiements = Theme.renderOptions(lookup_compte, state.compte_paiements, true);\r\n    let compte_arecevoir = Theme.renderOptions(lookup_compte, state.compte_arecevoir, true);\r\n    let compte_apayer = Theme.renderOptions(lookup_compte, state.compte_apayer, true);\r\n    let compte_duauxproducteurs = Theme.renderOptions(lookup_compte, state.compte_duauxproducteurs, true);\r\n    let compte_tpspercues = Theme.renderOptions(lookup_compte, state.compte_tpspercues, true);\r\n    let compte_tpspayees = Theme.renderOptions(lookup_compte, state.compte_tpspayees, true);\r\n    let compte_tvqpercues = Theme.renderOptions(lookup_compte, state.compte_tvqpercues, true);\r\n    let compte_tvqpayees = Theme.renderOptions(lookup_compte, state.compte_tvqpayees, true);\r\n    let fournisseur_fond_roulement = Theme.renderOptions(lookup_autreFournisseur, state.fournisseur_fond_roulement, true);\r\n    let fournisseur_fond_forestier = Theme.renderOptions(lookup_autreFournisseur, state.fournisseur_fond_forestier, true);\r\n    let fournisseur_preleve_divers = Theme.renderOptions(lookup_autreFournisseur, state.fournisseur_preleve_divers, true);\r\n\r\n\r\n    const form = formTemplate(state, fournisseur_planconjoint, fournisseur_surcharge, compte_paiements, compte_arecevoir, compte_apayer, compte_duauxproducteurs, compte_tpspercues, compte_tpspayees, compte_tvqpercues, compte_tvqpayees, fournisseur_fond_roulement, fournisseur_fond_forestier, fournisseur_preleve_divers);\r\n\r\n    const tab = tabTemplate(state.cie, xtra, isNew);\r\n    const dirty = dirtyTemplate();\r\n    const warning = App.warningTemplate();\r\n    return pageTemplate(state, form, tab, warning, dirty);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n\r\n\r\n\r\n    App.setPageTitle(isNew ? i18n(\"New company\") : xtra.title);\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IState;\r\n    clone.name = Misc.fromInputText(`${NS}_name`, state.name);\r\n    clone.features = Misc.fromInputTextNullable(`${NS}_features`, state.features);\r\n    clone.archive = Misc.fromInputCheckbox(`${NS}_archive`, state.archive);\r\n    clone.acombapassword = Misc.fromInputTextNullable(`${NS}_acombapassword`, state.acombapassword);\r\n    clone.acombapath = Misc.fromInputTextNullable(`${NS}_acombapath`, state.acombapath);\r\n    clone.acombasocietepath = Misc.fromInputTextNullable(`${NS}_acombasocietepath`, state.acombasocietepath);\r\n    clone.acombasyncropath = Misc.fromInputTextNullable(`${NS}_acombasyncropath`, state.acombasyncropath);\r\n    clone.acombausername = Misc.fromInputTextNullable(`${NS}_acombausername`, state.acombausername);\r\n    clone.acrobatpath = Misc.fromInputTextNullable(`${NS}_acrobatpath`, state.acrobatpath);\r\n    clone.adminpassword = Misc.fromInputTextNullable(`${NS}_adminpassword`, state.adminpassword);\r\n    clone.afficherpermit1 = Misc.fromInputCheckbox(`${NS}_afficherpermit1`, state.afficherpermit1);\r\n    clone.afficherpermit2 = Misc.fromInputCheckbox(`${NS}_afficherpermit2`, state.afficherpermit2);\r\n    clone.afficherpermit3 = Misc.fromInputCheckbox(`${NS}_afficherpermit3`, state.afficherpermit3);\r\n    clone.afficherpermit4 = Misc.fromInputCheckbox(`${NS}_afficherpermit4`, state.afficherpermit4);\r\n    clone.anneecourante = Misc.fromInputNumber(`${NS}_anneecourante`, state.anneecourante);\r\n    clone.autresraportsprintermarginbottom = Misc.fromInputNumberNullable(`${NS}_autresraportsprintermarginbottom`, state.autresraportsprintermarginbottom);\r\n    clone.autresraportsprintermarginleft = Misc.fromInputNumberNullable(`${NS}_autresraportsprintermarginleft`, state.autresraportsprintermarginleft);\r\n    clone.autresraportsprintermarginright = Misc.fromInputNumberNullable(`${NS}_autresraportsprintermarginright`, state.autresraportsprintermarginright);\r\n    clone.autresraportsprintermargintop = Misc.fromInputNumberNullable(`${NS}_autresraportsprintermargintop`, state.autresraportsprintermargintop);\r\n    clone.caneditundeliveredpermits = Misc.fromInputTextNullable(`${NS}_caneditundeliveredpermits`, state.caneditundeliveredpermits);\r\n    clone.ccemail = Misc.fromInputTextNullable(`${NS}_ccemail`, state.ccemail);\r\n    clone.cletriclientnom = Misc.fromInputTextNullable(`${NS}_cletriclientnom`, state.cletriclientnom);\r\n    clone.copiepermit1 = Misc.fromInputCheckbox(`${NS}_copiepermit1`, state.copiepermit1);\r\n    clone.copiepermit2 = Misc.fromInputCheckbox(`${NS}_copiepermit2`, state.copiepermit2);\r\n    clone.copiepermit3 = Misc.fromInputCheckbox(`${NS}_copiepermit3`, state.copiepermit3);\r\n    clone.copiepermit4 = Misc.fromInputCheckbox(`${NS}_copiepermit4`, state.copiepermit4);\r\n    clone.deletefichepassword = Misc.fromInputTextNullable(`${NS}_deletefichepassword`, state.deletefichepassword);\r\n    clone.emailpermit1 = Misc.fromInputCheckbox(`${NS}_emailpermit1`, state.emailpermit1);\r\n    clone.emailpermit2 = Misc.fromInputCheckbox(`${NS}_emailpermit2`, state.emailpermit2);\r\n    clone.emailpermit3 = Misc.fromInputCheckbox(`${NS}_emailpermit3`, state.emailpermit3);\r\n    clone.emailpermit4 = Misc.fromInputCheckbox(`${NS}_emailpermit4`, state.emailpermit4);\r\n    clone.excellanguage = Misc.fromInputTextNullable(`${NS}_excellanguage`, state.excellanguage);\r\n    clone.facturesafficherfraisautrechargepourtransporteur = Misc.fromInputCheckbox(`${NS}_facturesafficherfraisautrechargepourtransporteur`, state.facturesafficherfraisautrechargepourtransporteur);\r\n    clone.facturesafficherfraisautresproducteur = Misc.fromInputCheckbox(`${NS}_facturesafficherfraisautresproducteur`, state.facturesafficherfraisautresproducteur);\r\n    clone.facturesafficherfraisautresrevenusproducteur = Misc.fromInputCheckbox(`${NS}_facturesafficherfraisautresrevenusproducteur`, state.facturesafficherfraisautresrevenusproducteur);\r\n    clone.facturesafficherfraisautresrevenustransporteur = Misc.fromInputCheckbox(`${NS}_facturesafficherfraisautresrevenustransporteur`, state.facturesafficherfraisautresrevenustransporteur);\r\n    clone.facturesafficherfraisautrestransporteur = Misc.fromInputCheckbox(`${NS}_facturesafficherfraisautrestransporteur`, state.facturesafficherfraisautrestransporteur);\r\n    clone.facturesafficherfraischargeurproducteur = Misc.fromInputCheckbox(`${NS}_facturesafficherfraischargeurproducteur`, state.facturesafficherfraischargeurproducteur);\r\n    clone.facturesafficherfraischargeurtransporteur = Misc.fromInputCheckbox(`${NS}_facturesafficherfraischargeurtransporteur`, state.facturesafficherfraischargeurtransporteur);\r\n    clone.facturesafficherfraiscompensationdedeplacement = Misc.fromInputCheckbox(`${NS}_facturesafficherfraiscompensationdedeplacement`, state.facturesafficherfraiscompensationdedeplacement);\r\n    clone.facturesaffichersurchargeproducteur = Misc.fromInputCheckbox(`${NS}_facturesaffichersurchargeproducteur`, state.facturesaffichersurchargeproducteur);\r\n    clone.formicon = Misc.fromInputTextNullable(`${NS}_formicon`, state.formicon);\r\n    clone.formtext = Misc.fromInputTextNullable(`${NS}_formtext`, state.formtext);\r\n    clone.fournisseurpointerid = Misc.fromInputNumber(`${NS}_fournisseurpointerid`, state.fournisseurpointerid);\r\n    clone.fromemail = Misc.fromInputTextNullable(`${NS}_fromemail`, state.fromemail);\r\n    clone.gpversion = Misc.fromInputTextNullable(`${NS}_gpversion`, state.gpversion);\r\n    clone.helpfilepath = Misc.fromInputTextNullable(`${NS}_helpfilepath`, state.helpfilepath);\r\n    clone.imprimanteautresrapports = Misc.fromInputTextNullable(`${NS}_imprimanteautresrapports`, state.imprimanteautresrapports);\r\n    clone.imprimantedepermis = Misc.fromInputTextNullable(`${NS}_imprimantedepermis`, state.imprimantedepermis);\r\n    clone.livraisonliertaux = Misc.fromInputCheckbox(`${NS}_livraisonliertaux`, state.livraisonliertaux);\r\n    clone.logfile = Misc.fromInputTextNullable(`${NS}_logfile`, state.logfile);\r\n    clone.logopath = Misc.fromInputTextNullable(`${NS}_logopath`, state.logopath);\r\n    clone.massecontingentvoyagedefaut = Misc.fromInputNumber(`${NS}_massecontingentvoyagedefaut`, state.massecontingentvoyagedefaut);\r\n    clone.masselimitedefaut = Misc.fromInputNumber(`${NS}_masselimitedefaut`, state.masselimitedefaut);\r\n    clone.message_autorisationdeslivraisons = Misc.fromInputTextNullable(`${NS}_message_autorisationdeslivraisons`, state.message_autorisationdeslivraisons);\r\n    clone.message_demandecontingentement = Misc.fromInputTextNullable(`${NS}_message_demandecontingentement`, state.message_demandecontingentement);\r\n    clone.messageimpressionsdefactures = Misc.fromInputTextNullable(`${NS}_messageimpressionsdefactures`, state.messageimpressionsdefactures);\r\n    clone.messagelivraisonnonconforme = Misc.fromInputTextNullable(`${NS}_messagelivraisonnonconforme`, state.messagelivraisonnonconforme);\r\n    clone.messagespecpermitanglais = Misc.fromInputTextNullable(`${NS}_messagespecpermitanglais`, state.messagespecpermitanglais);\r\n    clone.messagespecpermitfrancais = Misc.fromInputTextNullable(`${NS}_messagespecpermitfrancais`, state.messagespecpermitfrancais);\r\n    clone.nomdb = Misc.fromInputTextNullable(`${NS}_nomdb`, state.nomdb);\r\n    clone.permisprintermarginbottom = Misc.fromInputNumberNullable(`${NS}_permisprintermarginbottom`, state.permisprintermarginbottom);\r\n    clone.permisprintermarginleft = Misc.fromInputNumberNullable(`${NS}_permisprintermarginleft`, state.permisprintermarginleft);\r\n    clone.permisprintermarginright = Misc.fromInputNumberNullable(`${NS}_permisprintermarginright`, state.permisprintermarginright);\r\n    clone.permisprintermargintop = Misc.fromInputNumberNullable(`${NS}_permisprintermargintop`, state.permisprintermargintop);\r\n    clone.permisprintpreview = Misc.fromInputCheckbox(`${NS}_permisprintpreview`, state.permisprintpreview);\r\n    clone.preleves_notps = Misc.fromInputTextNullable(`${NS}_preleves_notps`, state.preleves_notps);\r\n    clone.preleves_notvq = Misc.fromInputTextNullable(`${NS}_preleves_notvq`, state.preleves_notvq);\r\n    clone.serveuremail = Misc.fromInputTextNullable(`${NS}_serveuremail`, state.serveuremail);\r\n    clone.showyearsinpermislistview = Misc.fromInputTextNullable(`${NS}_showyearsinpermislistview`, state.showyearsinpermislistview);\r\n    clone.superficiecontingenteepourcentagededuction = Misc.fromInputNumberNullable(`${NS}_superficiecontingenteepourcentagededuction`, state.superficiecontingenteepourcentagededuction);\r\n    clone.superficiecontingenteesansdeduction = Misc.fromInputNumberNullable(`${NS}_superficiecontingenteesansdeduction`, state.superficiecontingenteesansdeduction);\r\n    clone.syndicat_codepostal = Misc.fromInputTextNullable(`${NS}_syndicat_codepostal`, state.syndicat_codepostal);\r\n    clone.syndicat_fax = Misc.fromInputTextNullable(`${NS}_syndicat_fax`, state.syndicat_fax);\r\n    clone.syndicat_nom = Misc.fromInputTextNullable(`${NS}_syndicat_nom`, state.syndicat_nom);\r\n    clone.syndicat_nomanglais = Misc.fromInputTextNullable(`${NS}_syndicat_nomanglais`, state.syndicat_nomanglais);\r\n    clone.syndicat_nomfrancais = Misc.fromInputTextNullable(`${NS}_syndicat_nomfrancais`, state.syndicat_nomfrancais);\r\n    clone.syndicat_notps = Misc.fromInputTextNullable(`${NS}_syndicat_notps`, state.syndicat_notps);\r\n    clone.syndicat_notvq = Misc.fromInputTextNullable(`${NS}_syndicat_notvq`, state.syndicat_notvq);\r\n    clone.syndicat_rue = Misc.fromInputTextNullable(`${NS}_syndicat_rue`, state.syndicat_rue);\r\n    clone.syndicat_telephone = Misc.fromInputTextNullable(`${NS}_syndicat_telephone`, state.syndicat_telephone);\r\n    clone.syndicat_ville = Misc.fromInputTextNullable(`${NS}_syndicat_ville`, state.syndicat_ville);\r\n    clone.syndicatouoffice = Misc.fromInputTextNullable(`${NS}_syndicatouoffice`, state.syndicatouoffice);\r\n    clone.takeacombabackup = Misc.fromInputCheckbox(`${NS}_takeacombabackup`, state.takeacombabackup);\r\n    clone.takesqlbackup = Misc.fromInputCheckbox(`${NS}_takesqlbackup`, state.takesqlbackup);\r\n    clone.tempsentrelesbackupsautomatiques = Misc.fromInputNumberNullable(`${NS}_tempsentrelesbackupsautomatiques`, state.tempsentrelesbackupsautomatiques);\r\n    clone.timeoutsql = Misc.fromInputNumber(`${NS}_timeoutsql`, state.timeoutsql);\r\n    clone.typepermis = Misc.fromInputNumber(`${NS}_typepermis`, state.typepermis);\r\n    clone.typepermis1 = Misc.fromInputTextNullable(`${NS}_typepermis1`, state.typepermis1);\r\n    clone.typepermis1anglais = Misc.fromInputTextNullable(`${NS}_typepermis1anglais`, state.typepermis1anglais);\r\n    clone.typepermis1francais = Misc.fromInputTextNullable(`${NS}_typepermis1francais`, state.typepermis1francais);\r\n    clone.typepermis2 = Misc.fromInputTextNullable(`${NS}_typepermis2`, state.typepermis2);\r\n    clone.typepermis2anglais = Misc.fromInputTextNullable(`${NS}_typepermis2anglais`, state.typepermis2anglais);\r\n    clone.typepermis2francais = Misc.fromInputTextNullable(`${NS}_typepermis2francais`, state.typepermis2francais);\r\n    clone.typepermis3 = Misc.fromInputTextNullable(`${NS}_typepermis3`, state.typepermis3);\r\n    clone.typepermis3anglais = Misc.fromInputTextNullable(`${NS}_typepermis3anglais`, state.typepermis3anglais);\r\n    clone.typepermis3francais = Misc.fromInputTextNullable(`${NS}_typepermis3francais`, state.typepermis3francais);\r\n    clone.typepermis4 = Misc.fromInputTextNullable(`${NS}_typepermis4`, state.typepermis4);\r\n    clone.typepermis4anglais = Misc.fromInputTextNullable(`${NS}_typepermis4anglais`, state.typepermis4anglais);\r\n    clone.typepermis4francais = Misc.fromInputTextNullable(`${NS}_typepermis4francais`, state.typepermis4francais);\r\n    clone.updateotherdatabase = Misc.fromInputTextNullable(`${NS}_updateotherdatabase`, state.updateotherdatabase);\r\n    clone.utiliselesychronisateurdirect = Misc.fromInputCheckbox(`${NS}_utiliselesychronisateurdirect`, state.utiliselesychronisateurdirect);\r\n    clone.utiliserlesnomsdemachinedanslenomdeprinter = Misc.fromInputCheckbox(`${NS}_utiliserlesnomsdemachinedanslenomdeprinter`, state.utiliserlesnomsdemachinedanslenomdeprinter);\r\n    clone.utiliserlotscontingentes = Misc.fromInputCheckbox(`${NS}_utiliserlotscontingentes`, state.utiliserlotscontingentes);\r\n    clone.xlstemplatespath = Misc.fromInputTextNullable(`${NS}_xlstemplatespath`, state.xlstemplatespath);\r\n    clone.fournisseur_planconjoint = Misc.fromSelectText(`${NS}_fournisseur_planconjoint`, state.fournisseur_planconjoint);\r\n    clone.fournisseur_surcharge = Misc.fromSelectText(`${NS}_fournisseur_surcharge`, state.fournisseur_surcharge);\r\n    clone.compte_paiements = Misc.fromSelectNumber(`${NS}_compte_paiements`, state.compte_paiements);\r\n    clone.compte_arecevoir = Misc.fromSelectNumber(`${NS}_compte_arecevoir`, state.compte_arecevoir);\r\n    clone.compte_apayer = Misc.fromSelectNumber(`${NS}_compte_apayer`, state.compte_apayer);\r\n    clone.compte_duauxproducteurs = Misc.fromSelectNumber(`${NS}_compte_duauxproducteurs`, state.compte_duauxproducteurs);\r\n    clone.compte_tpspercues = Misc.fromSelectNumber(`${NS}_compte_tpspercues`, state.compte_tpspercues);\r\n    clone.compte_tpspayees = Misc.fromSelectNumber(`${NS}_compte_tpspayees`, state.compte_tpspayees);\r\n    clone.compte_tvqpercues = Misc.fromSelectNumber(`${NS}_compte_tvqpercues`, state.compte_tvqpercues);\r\n    clone.compte_tvqpayees = Misc.fromSelectNumber(`${NS}_compte_tvqpayees`, state.compte_tvqpayees);\r\n    clone.taux_tps = Misc.fromInputNumberNullable(`${NS}_taux_tps`, state.taux_tps);\r\n    clone.taux_tvq = Misc.fromInputNumberNullable(`${NS}_taux_tvq`, state.taux_tvq);\r\n    clone.fournisseur_fond_roulement = Misc.fromSelectText(`${NS}_fournisseur_fond_roulement`, state.fournisseur_fond_roulement);\r\n    clone.fournisseur_fond_forestier = Misc.fromSelectText(`${NS}_fournisseur_fond_forestier`, state.fournisseur_fond_forestier);\r\n    clone.fournisseur_preleve_divers = Misc.fromSelectText(`${NS}_fournisseur_preleve_divers`, state.fournisseur_preleve_divers);\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const cancel = () => {\r\n    Router.goBackOrResume(isDirty);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/company\", Misc.createBlack(formState, blackList))\r\n        .then(payload => {\r\n            let newkey = <IKey>payload;\r\n            Misc.toastSuccessSave();\r\n            Router.goto(`#/admin/company/${newkey.cie}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = (done = false) => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/company\", Misc.createBlack(formState, blackList))\r\n        .then(_ => {\r\n            Misc.toastSuccessSave();\r\n            if (done)\r\n                Router.goto(`#/admin/companys/`, 100);\r\n            else\r\n                Router.goto(`#/admin/company/${key.cie}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const drop = () => {\r\n    (<any>key).updated = state.updated;\r\n    App.prepareRender();\r\n    App.DELETE(\"/company\", key)\r\n        .then(_ => {\r\n\r\n            Router.goto(`#/admin/companys/`, 250);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    isDirty = !Misc.same(fetchedState, getFormState());\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n};\r\n","// File: lookup.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport { Calendar, eventMan } from \"../../_BaseApp/src/theme/calendar\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport { tabTemplate, icon, prepareMenu, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\nexport const NS = \"App_lookups\";\r\nconst table_id = \"lookups_table\";\r\n\r\ninterface IState {\r\n    _editing: boolean\r\n    _deleting: boolean\r\n    _isNew: boolean\r\n    totalcount: number\r\n    id: number\r\n    cie: number\r\n    cie_text: string\r\n    groupe: string\r\n    groupe_text: string\r\n    parentgroupe: string\r\n    parentgroupe_text: string\r\n    code: string\r\n    description: string\r\n    value1: string\r\n    value2: string\r\n    value3: string\r\n    started: number\r\n    ended: number\r\n    sortorder: number\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\ninterface IKey {\r\n    cie: number\r\n    id: number\r\n}\r\n\r\ninterface IFilter {\r\n    cie: number\r\n    groupe: string\r\n    parentgroupe: string\r\n    plus: string\r\n}\r\n\r\ninterface IPagedState extends Pager.IPagedList<IState, IFilter> { }\r\n\r\nconst blackList = [\"_editing\", \"_deleting\", \"_isNew\", \"totalcount\", \"cie_text\", \"groupe_text\", \"parentgroupe_text\", \"created\", \"by\"];\r\n\r\nlet key: IKey;\r\nlet state = <IPagedState>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: App.getPageState(NS, \"pageSize\", 20), sortColumn: \"GROUPE_TEXT\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet fetchedState = <IPagedState>{};\r\nlet xtra: any;\r\nlet isNew = false;\r\nlet isDirty = false;\r\n\r\n\r\n\r\nconst filterTemplate = (groupe: string, parentgroupe: string) => {\r\n    let filters: string[] = [];\r\n    filters.push(Theme.renderDropdownFilter(NS, \"groupe\", groupe, i18n(\"GROUPE\")));\r\n    filters.push(Theme.renderDropdownFilter(NS, \"parentgroupe\", parentgroupe, i18n(\"PARENTGROUPE\")));\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplateLeft = (item: IState, editId: number, deleteId: number, rowNumber: number) => {\r\n    let id = item.id;\r\n\r\n    let tdConfirm = `<td class=\"js-td-33\">&nbsp;</td>`;\r\n    if (item._editing) tdConfirm = `<td onclick=\"${NS}.save()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._deleting) tdConfirm = `<td onclick=\"${NS}.drop()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._isNew) tdConfirm = `<td onclick=\"${NS}.create()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n\r\n    let clickUndo = item._editing || item._deleting || item._isNew;\r\n    let markDeletion = !clickUndo;\r\n\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    let readonly = (deleteId != undefined) || (editId != undefined && id != editId) || (isNew && !item._isNew) || (!canEdit);\r\n\r\n    let classList: string[] = [];\r\n    if (item._editing || item._isNew) classList.push(\"js-not-same\");\r\n    if (item._deleting) classList.push(\"js-strikeout\");\r\n    if (item._isNew) classList.push(\"js-new\");\r\n    if (readonly) classList.push(\"js-readonly\");\r\n    if (!canEdit) classList.push(\"js-noclick\");\r\n\r\n    return `\r\n<tr data-id=\"${id}\" class=\"${classList.join(\" \")}\" style=\"cursor: pointer;\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n\r\n${markDeletion ? `<td onclick=\"${NS}.selectfordrop(${id})\" class=\"has-text-danger js-td-33 js-drop\" title=\"Click to mark for deletion\"><i class='fas fa-times'></i></td>` : ``}\r\n${clickUndo ? `<td onclick=\"${NS}.undo()\" class=\"has-text-primary js-td-33\" title=\"Click to undo\"><i class='fa fa-undo'></i></td>` : ``}\r\n${tdConfirm}\r\n\r\n</tr>`;\r\n};\r\n\r\nconst trTemplateRight = (item: IState, editId: number, deleteId: number, groupe: string, parentgroupe: string) => {\r\n    let id = item.id;\r\n\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    let readonly = (deleteId != undefined) || (editId != undefined && id != editId) || (isNew && !item._isNew) || (!canEdit);\r\n\r\n    let classList: string[] = [];\r\n    if (item._editing || item._isNew) classList.push(\"js-not-same\");\r\n    if (item._deleting) classList.push(\"js-strikeout\");\r\n    if (item._isNew) classList.push(\"js-new\");\r\n    if (readonly) classList.push(\"js-readonly\");\r\n\r\n    return `\r\n<tr data-id=\"${id}\" class=\"${classList.join(\" \")}\" style=\"cursor: pointer;\">\r\n${!readonly ? `\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `groupe_${id}`, groupe, true)}</td>\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `parentgroupe_${id}`, parentgroupe)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `code_${id}`, item.code, 12)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `description_${id}`, item.description, 50, true)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `value1_${id}`, item.value1, 50)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `value2_${id}`, item.value2, 50)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `value3_${id}`, item.value3, 1024)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderNumberInline(NS, `started_${id}`, item.started, true)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderNumberInline(NS, `ended_${id}`, item.ended)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderNumberInline(NS, `sortorder_${id}`, item.sortorder)}</td>\r\n` : `\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.groupe_text)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.parentgroupe_text)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.code)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.description)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.value1)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.value2)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.value3)}</div></td>\r\n    <td><div class=\"js-number\">${Misc.toStaticNumber(item.started)}</div></td>\r\n    <td><div class=\"js-number\">${Misc.toStaticNumber(item.ended)}</div></td>\r\n    <td><div class=\"js-number\">${Misc.toStaticNumber(item.sortorder)}</div></td>\r\n`}\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplateLeft = (tbody: string, editId: number, deleteId: number) => {\r\n    let disableAddNew = (deleteId != undefined || editId != undefined || isNew);\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    disableAddNew = disableAddNew || !canEdit;\r\n\r\n    return `\r\n<style>.js-td-33 { width: 33px; }</style>\r\n<div>\r\n<table class=\"table is-hoverable js-inline\" style=\"width: 10px; table-layout: fixed;\">\r\n    <thead>\r\n        <tr>\r\n            <th style=\"width:99px\" colspan=\"3\">&nbsp;</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n        <tr class=\"js-insert-row ${disableAddNew ? \"js-noclick\" : \"\"}\">\r\n            <td class=\"js-index js-td-33\">*</td>\r\n            <td class=\"has-text-primary js-td-33 js-add\" onclick=\"${NS}.addNew()\" title=\"Click to add a new row\"><i class=\"fas fa-plus\"></i></td>\r\n            <td></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst tableTemplateRight = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div id=\"${table_id}\" class=\"table-container\">\r\n<table class=\"table is-hoverable js-inline\" style=\"width: 100px; table-layout: fixed;\">\r\n    <thead>\r\n        <tr>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"GROUPE\"), \"groupe_text\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PARENTGROUPE\"), \"parentgroupe_text\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CODE\"), \"code\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"DESCRIPTION\"), \"description\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"VALUE1\"), \"value1\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"VALUE2\"), \"value2\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"VALUE3\"), \"value3\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"STARTED\"), \"started\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ENDED\"), \"ended\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"SORTORDER\"), \"sortorder\", \"ASC\", \"width:100px\")}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n        <tr class=\"js-insert-row\">\r\n            <td colspan=\"${10 + 4}\">&nbsp;</td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (xtra, pager: string, tableLeft: string, tableRight: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, i18n(\"INVALID\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"Liste des lookups\"));\r\n\r\n    let table = `<div style=\"display: flex;\">\r\n    <div>${tableLeft}</div>\r\n    <div style=\"width:calc(100% - 99px)\">${tableRight}</div>\r\n</div>`;\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, null) : \"\");\r\n}\r\n\r\n\r\n\r\nexport const fetchState = (cie: number) => {\r\n    isNew = false;\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    state.pager.filter.cie = cie;\r\n    return App.POST(`/lookup/search/${cie}/company`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            key = { cie, id: undefined };\r\n            xtra = payload.xtra;\r\n        })\r\n        .then(Lookup.fetch_editLut())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let cie = Perm.getCie(params);\r\n    App.prepareRender(NS, i18n(\"lookup\"));\r\n    prepareMenu();\r\n    fetchState(cie)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"lookup\"));\r\n    clearFilterPlus();\r\n    App.POST(`/lookup/search/${key.cie}/company`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let editId: number;\r\n    let deleteId: number;\r\n    state.list.forEach((item, index) => {\r\n        let prevItem = fetchedState.list[index];\r\n        item._editing = !Misc.same(item, prevItem);\r\n        if (item._editing) editId = item.id;\r\n        if (item._deleting) deleteId = item.id;\r\n    });\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n    let lookup_groupe = Lookup.get_editLut(year);\r\n    let lookup_parentGroupe = Lookup.get_editLut(year);\r\n\r\n    const tbodyLeft = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplateLeft(item, editId, deleteId, rowNumber);\r\n    }, \"\");\r\n\r\n    const tbodyRight = state.list.reduce((html, item) => {\r\n        let groupe = Theme.renderOptions(lookup_groupe, item.groupe, isNew);\r\n        let parentgroupe = Theme.renderOptions(lookup_parentGroupe, item.parentgroupe, true);\r\n        return html + trTemplateRight(item, editId, deleteId, groupe, parentgroupe);\r\n    }, \"\");\r\n\r\n    let groupe = Theme.renderOptions(lookup_groupe, state.pager.filter.groupe, true);\r\n    let parentgroupe = Theme.renderOptions(lookup_parentGroupe, state.pager.filter.parentgroupe, true);\r\n\r\n    const filter = filterTemplate(groupe, parentgroupe);\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [10, 20, 50], search, filter);\r\n\r\n    const tableLeft = tableTemplateLeft(tbodyLeft, editId, deleteId);\r\n    const tableRight = tableTemplateRight(tbodyRight, state.pager);\r\n\r\n    const tab = tabTemplate(key.cie, xtra);\r\n    const dirty = dirtyTemplate();\r\n    let warning = App.warningTemplate();\r\n    return pageTemplate(xtra, pager, tableLeft, tableRight, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\n\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = App.setPageState(NS, \"pageSize\", pageSize);\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_groupe = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let groupe = (value.length > 0 ? value : undefined);\r\n    if (groupe == state.pager.filter.groupe)\r\n        return;\r\n    state.pager.filter.groupe = groupe;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_parentgroupe = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let parentgroupe = (value.length > 0 ? value : undefined);\r\n    if (parentgroupe == state.pager.filter.parentgroupe)\r\n        return;\r\n    state.pager.filter.parentgroupe = parentgroupe;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\n\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IPagedState;\r\n    clone.list.forEach(item => {\r\n        let id = item.id;\r\n        item.cie = Misc.fromSelectNumber(`${NS}_cie_${id}`, item.cie);\r\n        item.groupe = Misc.fromSelectText(`${NS}_groupe_${id}`, item.groupe);\r\n        item.parentgroupe = Misc.fromSelectText(`${NS}_parentgroupe_${id}`, item.parentgroupe);\r\n        item.code = Misc.fromInputTextNullable(`${NS}_code_${id}`, item.code);\r\n        item.description = Misc.fromInputText(`${NS}_description_${id}`, item.description);\r\n        item.value1 = Misc.fromInputTextNullable(`${NS}_value1_${id}`, item.value1);\r\n        item.value2 = Misc.fromInputTextNullable(`${NS}_value2_${id}`, item.value2);\r\n        item.value3 = Misc.fromInputTextNullable(`${NS}_value3_${id}`, item.value3);\r\n        item.started = Misc.fromInputNumber(`${NS}_started_${id}`, item.started);\r\n        item.ended = Misc.fromInputNumberNullable(`${NS}_ended_${id}`, item.ended);\r\n        item.sortorder = Misc.fromInputNumberNullable(`${NS}_sortorder_${id}`, item.sortorder);\r\n    })\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n\r\n    let parts = input.id.replace(`${NS}_`, \"\").split(\"_\");\r\n    let field = parts[0];\r\n    let id = +parts[1];\r\n    let record = state.list.find(one => one.id == id);\r\n\r\n    //if (field == \"field_name\") {\r\n    //    record.some_field = null;\r\n    //}\r\n\r\n    App.render();\r\n};\r\n\r\nexport const ondate = (input: HTMLInputElement, eventname: string) => {\r\n    return eventMan(NS, input, eventname);\r\n}\r\n\r\nexport const undo = () => {\r\n    if (isNew) {\r\n        isNew = false;\r\n        fetchedState.list.pop();\r\n    }\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    isDirty = false;\r\n    App.render()\r\n}\r\n\r\nexport const addNew = () => {\r\n    let url = `/lookup/new/${key.cie}/company`;\r\n    return App.GET(url)\r\n        .then((payload) => {\r\n            state.list.push(payload.item);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            isNew = true;\r\n            payload.item._isNew = true;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._isNew);\r\n    if (!html5Valid()) return;\r\n    if (!valid(item)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/lookup\", Misc.createBlack(item, blackList))\r\n        .then((key: IKey) => {\r\n            addFilterPlus(key.id);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._editing);\r\n    if (!html5Valid()) return;\r\n    if (!valid(item)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/lookup\", Misc.createBlack(item, blackList))\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const selectfordrop = (id: number) => {\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    state.list.find(one => one.id == id)._deleting = true;\r\n    App.render();\r\n}\r\n\r\nexport const drop = () => {\r\n    App.prepareRender();\r\n    let item = state.list.find(one => one._deleting);\r\n    App.DELETE(\"/lookup\", { id: item.id, updated: item.updated })\r\n        .then(() => {\r\n            removeFilterPlus(item.id);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const hasChanges = () => {\r\n    return !Misc.same(fetchedState, state);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    isDirty = !Misc.same(fetchedState, getFormState());\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n}\r\n\r\n\r\n\r\nconst clearFilterPlus = () => {\r\n    state.pager.filter.plus = undefined;\r\n    isNew = false;\r\n}\r\n\r\nconst addFilterPlus = (id: number) => {\r\n    if (state.pager.filter.plus)\r\n        state.pager.filter.plus += `,${id}`;\r\n    else\r\n        state.pager.filter.plus = id.toString();\r\n}\r\n\r\nconst removeFilterPlus = (id: number) => {\r\n}\r\n","// File: lookup.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport { Calendar } from \"../../_BaseApp/src/theme/calendar\"\r\nimport { Autocomplete } from \"../../_BaseApp/src/theme/autocomplete\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Auth from \"../../_BaseApp/src/auth\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Perm from \"../permission\"\r\nimport { tabTemplate, icon, prepareMenu, ISummary, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_lookup\";\r\n\r\ninterface IPayload {\r\n    item: IState\r\n    xtra: ISummary\r\n}\r\n\r\ninterface IKey {\r\n    id: number\r\n}\r\n\r\ninterface IState {\r\n    id: number\r\n    cie: number\r\n    cie_text: string\r\n    groupe: string\r\n    code: string\r\n    description: string\r\n    value1: string\r\n    value2: string\r\n    value3: string\r\n    started: number\r\n    ended: number\r\n    sortorder: number\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\n\r\n\r\nconst blackList = [\"cie_text\", \"created\", \"by\"];\r\n\r\nlet key: IKey;\r\nlet state = <IState>{};\r\nlet fetchedState = <IState>{};\r\nlet xtra: ISummary;\r\nlet isNew = false;\r\nlet isDirty = false;\r\n\r\n\r\n\r\nconst formTemplate = (item: IState, cie: string) => {\r\n\r\n    return `\r\n\r\n    ${Perm.isSupport() ? Theme.renderDropdownField(NS, \"cie\", cie, i18n(\"CIE\")) : \"\"}\r\n    ${Theme.renderTextField(NS, \"code\", item.code, i18n(\"CODE\"), 12)}\r\n    ${Theme.renderTextField(NS, \"description\", item.description, i18n(\"DESCRIPTION\"), 50, true)}\r\n    ${Theme.renderTextField(NS, \"value1\", item.value1, i18n(\"VALUE1\"), 50)}\r\n    ${Theme.renderTextField(NS, \"value2\", item.value2, i18n(\"VALUE2\"), 50)}\r\n    ${Theme.renderTextField(NS, \"value3\", item.value3, i18n(\"VALUE3\"), 1024)}\r\n    ${Theme.renderNumberField(NS, \"started\", item.started, i18n(\"STARTED\"), true)}\r\n    ${Theme.renderNumberField(NS, \"ended\", item.ended, i18n(\"ENDED\"))}\r\n    ${Theme.renderNumberField(NS, \"sortorder\", item.sortorder, i18n(\"SORTORDER\"))}\r\n    ${Theme.renderBlame(item, isNew)}\r\n`;\r\n};\r\n\r\nconst pageTemplate = (item: IState, form: string, tab: string, warning: string, dirty: string) => {\r\n    let canEdit = true;\r\n    let readonly = !canEdit;\r\n\r\n    let canInsert = canEdit && isNew; // && Perm.hasLookup_CanAddLookup;\r\n    let canDelete = canEdit && !canInsert; // && Perm.hasLookup_CanDeleteLookup;\r\n    let canAdd = canEdit && !canInsert; // && Perm.hasLookup_CanAddLookup;\r\n    let canUpdate = canEdit && !isNew;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonCancel(NS));\r\n    if (canInsert) buttons.push(Theme.buttonInsert(NS));\r\n    if (canDelete) buttons.push(Theme.buttonDelete(NS));\r\n    if (canAdd) buttons.push(Theme.buttonAddNew(NS, `#/admin/lookup/new/${item.groupe.toLowerCase()}`));\r\n    if (canUpdate) buttons.push(Theme.buttonUpdate(NS));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, !isNew ? i18n(\"lookup Details\") : i18n(\"New lookup\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"lookup subtitle\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\" ${readonly ? \"class='js-readonly'\" : \"\"}>\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n            ${Theme.renderBlame(item, isNew)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-details\", form)}\r\n</div>\r\n</div>\r\n\r\n${Theme.renderModalDelete(`modalDelete_${NS}`, `${NS}.drop()`)}\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, Misc.changes(fetchedState, state)) : \"\");\r\n}\r\n\r\n\r\n\r\nexport const fetchState = (id: number, groupe?: string) => {\r\n    isNew = isNaN(id);\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    return App.GET(`/lookup/${isNew ? `new/${groupe}` : id}`)\r\n        .then((payload: IPayload) => {\r\n            state = payload.item;\r\n            fetchedState = Misc.clone(state) as IState;\r\n            xtra = payload.xtra;\r\n            key = <IKey>{ id };\r\n\r\n\r\n        })\r\n        .then(Lookup.fetch_cIE())\r\n\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    let groupe = (params.length > 1 ? params[1] : null);\r\n    App.prepareRender(NS, i18n(\"lookup\"));\r\n    prepareMenu();\r\n    fetchState(id, groupe)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || Object.keys(state).length == 0)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n\r\n    let lookup_cIE = Lookup.get_cIE(year);\r\n\r\n    let cie = Theme.renderOptions(lookup_cIE, state.cie, true);\r\n\r\n\r\n    const form = formTemplate(state, cie);\r\n\r\n    const tab = tabTemplate(state.id, /*state.groupe.toLowerCase(),*/ null);\r\n    const dirty = dirtyTemplate();\r\n    const warning = App.warningTemplate();\r\n    return pageTemplate(state, form, tab, warning, dirty);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n\r\n\r\n\r\n    App.setPageTitle(isNew ? i18n(\"New lookup\") : xtra.title);\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\n\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IState;\r\n    clone.cie = Misc.fromSelectNumber(`${NS}_cie`, state.cie);\r\n    clone.groupe = Misc.fromInputText(`${NS}_groupe`, state.groupe);\r\n    clone.code = Misc.fromInputTextNullable(`${NS}_code`, state.code);\r\n    clone.description = Misc.fromInputText(`${NS}_description`, state.description);\r\n    clone.value1 = Misc.fromInputTextNullable(`${NS}_value1`, state.value1);\r\n    clone.value2 = Misc.fromInputTextNullable(`${NS}_value2`, state.value2);\r\n    clone.value3 = Misc.fromInputTextNullable(`${NS}_value3`, state.value3);\r\n    clone.started = Misc.fromInputNumber(`${NS}_started`, state.started);\r\n    clone.ended = Misc.fromInputNumberNullable(`${NS}_ended`, state.ended);\r\n    clone.sortorder = Misc.fromInputNumberNullable(`${NS}_sortorder`, state.sortorder);\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const cancel = () => {\r\n    Router.goBackOrResume(isDirty);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/lookup\", Misc.createBlack(formState, blackList))\r\n        .then(payload => {\r\n            let newkey = <IKey>payload;\r\n            Misc.toastSuccessSave();\r\n            Router.goto(`#/admin/lookup/${newkey.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = (done = false) => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/lookup\", Misc.createBlack(formState, blackList))\r\n        .then(_ => {\r\n            Misc.toastSuccessSave();\r\n            if (done)\r\n                Router.goto(`#/admin/lookups/${state.groupe.toLowerCase()}`, 100);\r\n            else\r\n                Router.goto(`#/admin/lookup/${key.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const drop = () => {\r\n    (<any>key).updated = state.updated;\r\n    App.prepareRender();\r\n    App.DELETE(\"/lookup\", key)\r\n        .then(_ => {\r\n\r\n            Router.goto(`#/admin/lookups/${state.groupe.toLowerCase()}`, 250);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    isDirty = !Misc.same(fetchedState, getFormState());\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n};\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\n//\r\nimport * as Perm from \"../permission\"\r\nimport * as accounts from \"./accounts\"\r\nimport * as account from \"./account\"\r\n//import * as profile from \"./profile\"\r\nimport * as company from \"./company\"\r\nimport * as lookups from \"./lookups\"\r\nimport * as lookup from \"./lookup\"\r\n//import * as DataFiles from \"./datafiles\"\r\n//import * as DataFile from \"./datafile\"\r\n\r\n\r\n//\r\n// Global references to application objects\r\n// These must match the \"NS\" values defined in modules\r\n// Mainly used for event handlers\r\n//\r\n(<any>window).App_accounts = accounts;\r\n(<any>window).App_account = account;\r\n//(<any>window).App_profile = profile;\r\n(<any>window).App_company = company;\r\n(<any>window).App_lookups = lookups;\r\n(<any>window).App_lookup = lookup;\r\n//(<any>window).App_DataFiles = DataFiles;\r\n//(<any>window).App_DataFile = DataFile;\r\n\r\n\r\nexport const startup = () => {\r\n    Router.addRoute(\"^#/admin/accounts/?(.*)?$\", accounts.fetch);\r\n    Router.addRoute(\"^#/admin/account/(.*)$\", account.fetch);\r\n    Router.addRoute(\"^#/admin/company/?(.*)$\", company.fetch);\r\n    Router.addRoute(\"^#/admin/lookups/?(.*)$\", lookups.fetch);\r\n    Router.addRoute(\"^#/admin/lookup/(.*)$\", lookup.fetch);\r\n    //Router.addRoute(\"^#/files/(.*)$\", DataFiles.fetch);\r\n    //Router.addRoute(\"^#/file/(.*)$\", DataFile.fetch);\r\n    //Router.addRoute(\"^#/admin/audittrails/?(.*)$\", AuditTrails.fetch);\r\n}\r\n\r\nexport const render = () => {\r\n    return `\r\n    ${accounts.render()}\r\n    ${account.render()}\r\n    ${company.render()}\r\n    ${lookups.render()}\r\n    ${lookup.render()}\r\n`;\r\n    //${DataFiles.render()}\r\n    //${DataFile.render()}\r\n}\r\n\r\nexport const postRender = () => {\r\n    accounts.postRender();\r\n    account.postRender();\r\n    company.postRender();\r\n    lookups.postRender();\r\n    lookup.postRender();\r\n    //DataFiles.postRender();\r\n    //DataFile.postRender();\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Perm from \"../permission\"\r\nimport { setOpenedMenu } from \"../layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport interface ISummary {\r\n    title: string\r\n    fileCount: number\r\n}\r\n\r\nexport let icon = \"far fa-copyright\";\r\n\r\nexport const prepareMenu = () => {\r\n    setOpenedMenu(\"Administration-Management\");\r\n}\r\n\r\nexport const tabTemplate = (id: number, xtra: ISummary, isNew: boolean = false) => {\r\n    let isCompanys = App.inContext(\"App_companys\");\r\n    let isAnyLookups = App.inContext(\"App_any_lookups\");\r\n    let isPermMetas = App.inContext(\"App_permmetas\");\r\n    let isFiles = window.location.hash.startsWith(\"#/files/company\");\r\n    let isFile = window.location.hash.startsWith(\"#/file/company\");\r\n\r\n    let showFiles = false && xtra != undefined;\r\n\r\n    return `\r\n<div class=\"tabs is-boxed\">\r\n    <ul>\r\n        <li ${isCompanys ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/support/companys\">\r\n                <span class=\"icon\"><i class=\"fas fa-list-ol\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Company List\")}</span>\r\n            </a>\r\n        </li>\r\n        <li ${isAnyLookups ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/support/any-lookups\">\r\n                <span class=\"icon\"><i class=\"fas fa-list-ol\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Lookups\")}</span>\r\n            </a>\r\n        </li>\r\n        <li ${isPermMetas ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/support/permmetas\">\r\n                <span class=\"icon\"><i class=\"fas fa-list-ol\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Permission Metadata\")}</span>\r\n            </a>\r\n        </li>\r\n${showFiles ? `\r\n        <li ${isFiles ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/files/account/${id}\">\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Files\")} (${xtra.fileCount})</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n${isFile ? `\r\n        <li class=\"is-active\">\r\n            <a href=\"#/file/account/${id}\">\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"File Details\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n\r\n    </ul>\r\n</div>\r\n`;\r\n};\r\n\r\nexport const buildTitle = (xtra: ISummary, defaultText: string) => {\r\n    return xtra?.title ?? defaultText;\r\n}\r\n\r\nexport const buildSubtitle = (xtra: any, defaultText: string) => {\r\n    return xtra?.subtitle ?? defaultText;\r\n}\r\n","// File: companys.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Layout from \"./layout\"\r\nimport { tabTemplate, icon, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_companys\";\r\n\r\ninterface IState {\r\n    totalcount: number\r\n    cie: number\r\n    name: string\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    accounts: number\r\n    lookups: number\r\n}\r\n\r\ninterface IKey {\r\n\r\n}\r\n\r\ninterface IFilter {\r\n\r\n}\r\n\r\n\r\n\r\nlet key: IKey;\r\nlet state = <Pager.IPagedList<IState, IFilter>>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 20, sortColumn: \"CIE\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet xtra: any;\r\nlet uiSelectedRow: { cie: number };\r\n\r\n\r\n\r\nconst filterTemplate = () => {\r\n    let filters: string[] = [];\r\n\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplate = (item: IState, rowNumber: number) => {\r\n    return `\r\n<tr class=\"${isSelectedRow(item.cie) ? \"is-selected\" : \"\"}\" onclick=\"${NS}.gotoDetail(${item.cie});\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n    <td>${Misc.toStaticText(item.cie)}</td>\r\n    <td>${Misc.toStaticText(item.name)}</td>\r\n    <td>${item.accounts ? `<a href=\"#/admin/accounts/?cie=${item.cie}\" onclick=\"event.stopPropagation()\">${item.accounts} <i class=\"fal fa-link\"></i></a>` : `<span style=\"opacity: 0.25\">0</span>`}</td>\r\n    <td>${item.lookups ? `<a href=\"#/admin/lookups/?cie=${item.cie}\" onclick=\"event.stopPropagation()\">${item.lookups} <i class=\"fal fa-link\"></i></a>` : `<span style=\"opacity: 0.25\">0</span>`}</td>\r\n    <td>${Misc.toStaticCheckbox(item.archive)}</td>\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplate = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div class=\"table-container\">\r\n<table class=\"table is-hoverable is-fullwidth\">\r\n    <thead>\r\n        <tr>\r\n            <th></th>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CIE\"), \"cie\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"NAME\"), \"name\", \"ASC\")}\r\n            ${Pager.headerLink(i18n(\"ACCOUNTS\"))}\r\n            ${Pager.headerLink(i18n(\"LOOKUPS\"))}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ARCHIVE\"), \"archive\", \"ASC\")}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (pager: string, table: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonAddNew(NS, \"#/admin/company/new\", i18n(\"Add New\")));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, i18n(\"Compagnies\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"Liste des compagnies\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    <div class=\"columns\">\r\n    <div class=\"column is-6 is-offset-3\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n    </div>\r\n    </div>\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nexport const fetchState = (cie: number) => {\r\n    Router.registerDirtyExit(null);\r\n    return App.POST(\"/company/search\", state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            xtra = payload.xtra;\r\n            key = {};\r\n        })\r\n        .then(Lookup.fetch_autreFournisseur())\r\n        .then(Lookup.fetch_compte())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let cie = +params[0];\r\n    App.prepareRender(NS, i18n(\"companys\"));\r\n    fetchState(cie)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"companys\"));\r\n    App.POST(\"/company/search\", state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let warning = App.warningTemplate();\r\n    let dirty = \"\";\r\n    const tbody = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplate(item, rowNumber);\r\n    }, \"\");\r\n\r\n    let year = Perm.getCurrentYear();//state.pager.filter.year;\r\n\r\n\r\n\r\n    const filter = filterTemplate();\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [20, 50], search, filter);\r\n    const table = tableTemplate(tbody, state.pager);\r\n\r\n    const tab = tabTemplate(null, null);\r\n    return pageTemplate(pager, table, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst setSelectedRow = (cie: number) => {\r\n    if (uiSelectedRow == undefined) uiSelectedRow = { cie };\r\n    uiSelectedRow.cie = cie;\r\n};\r\n\r\nconst isSelectedRow = (cie: number) => {\r\n    if (uiSelectedRow == undefined) return false;\r\n    return (uiSelectedRow.cie == cie);\r\n};\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = pageSize;\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const gotoDetail = (cie: number) => {\r\n    setSelectedRow(cie);\r\n    Router.goto(`#/admin/company/?cie=${cie}`);\r\n};\r\n","// File: network.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Auth from \"../../_BaseApp/src/auth\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Perm from \"../permission\"\r\nimport { tabTemplate, icon } from \"../admin/layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_security\";\r\n\r\ninterface IKey {\r\n    cie: number\r\n}\r\n\r\ninterface IState {\r\n    xtra: any\r\n    items: IItem[]\r\n    roles: IRole[]\r\n}\r\n\r\ninterface IItem {\r\n    groupID: number\r\n    groupe: string\r\n    item: IItem2[]\r\n}\r\n\r\ninterface IItem2 {\r\n    description: string\r\n    permID: number\r\n    perm: IPerm[]\r\n}\r\n\r\ninterface IPerm {\r\n    permValue: number\r\n}\r\n\r\ninterface IRole {\r\n    stnKind: string\r\n    ro: IRo[]\r\n}\r\n\r\ninterface IRo {\r\n    role2: string\r\n    role_bit: number\r\n}\r\n\r\nlet key: IKey;\r\nlet state = <IState>{};\r\nlet fetchedState = <IState>{};\r\nlet isNew = false;\r\nlet isDirty = false;\r\n\r\n\r\nconst thKindTemplate = (item: IRole) => {\r\n    return `\r\n<th colspan=\"${item.ro.length}\">${item.stnKind}</th>\r\n`\r\n}\r\n\r\nconst thRoleTemplate = (item: IRo) => {\r\n    return `\r\n<th>${item.role2}</th>\r\n`\r\n}\r\n\r\nconst trTemplate = (item: IItem, item2: IItem2, index: number, masks: number[], titles: string[]) => {\r\n\r\n    let permID = item2.permID;\r\n    let permValue = item2.perm[0].permValue;\r\n    let tdCells = masks.reduce((html, mask, index) => {\r\n        let title = titles[index];\r\n        let checked = (mask & permValue) > 0;\r\n        return html + `<td data-mask=\"${mask}\" data-checked=\"${checked}\" title=\"${title}\" class=\"js-cell\">${checked ? `<i class=\"far fa-check\"></i>` : \"\"}</td>`\r\n    }, \"\");\r\n\r\n    return `\r\n<tr onclick=\"${NS}.rowClick(${permID})\">\r\n    ${index == 0 ? `<td rowspan=\"${item.item.length}\" data-group=\"1\" style=\"text-align: left;\">${item.groupe}</td>` : ``}\r\n    <td style=\"text-align: left;\">${item2.description}</td>\r\n    <td>${permID}</td>\r\n    ${tdCells}\r\n</tr>\r\n`\r\n}\r\n\r\nconst tableTemplate = (thead1: string, thead2: string, tbody: string) => {\r\n    return `\r\n<div class=\"container\">\r\n<table class=\"table is-hoverable is-fullwidth is-bordered is-narrow\">\r\n    <thead>\r\n        <tr>\r\n            <th class=\"js-empty\"></th>\r\n            <th class=\"js-empty\"></th>\r\n            <th class=\"js-empty\"></th>\r\n            ${thead1}\r\n        </tr>\r\n        <tr>\r\n            <th class=\"js-empty\"></th>\r\n            <th class=\"js-empty\"></th>\r\n            <th class=\"js-empty\"></th>\r\n            ${thead2}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (item: IState, table: string, tab: string, warning: string, dirty: string) => {\r\n    let canUpdate = Perm.isSupport();\r\n    let readonly = !canUpdate;\r\n\r\n    let buttons: string[] = [];\r\n\r\n    return `\r\n<style>\r\n    .table thead th.js-empty { border: none; }\r\n    .table thead th:not(.js-empty) { vertical-align: bottom; line-height: 2rem; text-align: center; background-color: rgba(245, 245, 245, 0.75); }\r\n    .table thead th { color: #aaa }\r\n    .table td, .table th { text-align: center; }\r\n    .table .js-cell[data-checked='true'] { background-color: #228b2229; }\r\n    .table .js-cell[data-checked] { cursor: pointer; }\r\n    .js-uc-details.js-readonly td { pointer-events: none; }\r\n</style>\r\n\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${Misc.toInputText(item.xtra && item.xtra.title)}</span></div>\r\n            <div class=\"subtitle\">Editing Network Security</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", Theme.renderActionButtons2(NS, isNew, null, buttons, false, false))}\r\n            ${Theme.renderBlame(item, isNew)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-details\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, Misc.changes(fetchedState, state)) : \"\");\r\n}\r\n\r\nconst clearState = () => {\r\n    state = <IState>{};\r\n};\r\n\r\nexport const fetchState = (cie: number) => {\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    clearState();\r\n    let url = `/security/${cie}`;\r\n    return App.GET(url)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IState;\r\n            key = <IKey>{ cie };\r\n\r\n            isNew = (state.items[0].item[0].perm[0].permValue == undefined);\r\n        })\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let cie = Perm.getCie(params);\r\n    App.prepareRender(NS, i18n(\"Security\"));\r\n    fetchState(cie)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined) return (App.serverError() ? pageTemplate(null, \"\", \"\", App.warningTemplate(), \"\") : \"\");\r\n\r\n    const thead1 = state.roles\r\n        .reduce((html, item) => html + thKindTemplate(item), \"\");\r\n\r\n    const thead2 = state.roles\r\n        .reduce((html, item) => html + item.ro.reduce((html2, item2) => html2 + thRoleTemplate(item2), \"\"), \"\");\r\n\r\n    const masks = state.roles\r\n        .map(item => item.ro.map(item2 => item2.role_bit))\r\n        .reduce((acc, item) => acc.concat(item), []);\r\n\r\n    const titles = state.roles\r\n        .map(item => item.ro.map(item2 => `${item.stnKind} [${item2.role2}]`))\r\n        .reduce((acc, item) => acc.concat(item), []);\r\n\r\n    const tbody = state.items\r\n        .reduce((html, item) => html + item.item.reduce((html2, item2, index) => html2 + trTemplate(item, item2, index, masks, titles), \"\"), \"\");\r\n\r\n    const table = tableTemplate(thead1, thead2, tbody);\r\n\r\n    const tab = tabTemplate(key.cie, null, isNew);\r\n    const dirty = dirtyTemplate();\r\n    const warning = App.warningTemplate();\r\n    return pageTemplate(state, table, tab, warning, dirty);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IState;\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const rowClick = (permID: number) => {\r\n    event.stopPropagation();\r\n    let target = (<HTMLElement>event.target).closest(\"td\");\r\n    if (target.dataset.mask == undefined)\r\n        return;\r\n\r\n    let mask = +target.dataset.mask;\r\n    state.items.forEach(group =>\r\n        group.item.forEach(item => {\r\n            if (item.permID == permID) {\r\n                let permValue = item.perm[0].permValue;\r\n                permValue = ((permValue & mask) == 0 ? permValue | mask : permValue & ~mask);\r\n                item.perm[0].permValue = permValue;\r\n            }\r\n        })\r\n    );\r\n    App.render();\r\n}\r\n\r\nexport const cancel = () => {\r\n    Router.goBackOrResume(isDirty);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n\r\n    App.prepareRender();\r\n    App.POST(`/security/${key.cie}`, {})\r\n        .then(_ => {\r\n            Misc.toastSuccessSave();\r\n            Router.goto(`#/support/security/${key.cie}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n\r\n    let uto = formState.items\r\n        .map(itm => itm.item.map(item => { return { id: item.permID, value: item.perm[0].permValue } }))\r\n        .reduce((acc, item) => acc.concat(item), []);\r\n\r\n    App.prepareRender();\r\n    App.PUT(`/security/${key.cie}`, uto)\r\n        .then(_ => {\r\n            Misc.toastSuccessSave();\r\n            Router.goto(`#/support/security/${key.cie}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    isDirty = !Misc.same(fetchedState, getFormState());\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n};\r\n","// File: permmetas.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport { Calendar, eventMan } from \"../../_BaseApp/src/theme/calendar\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport { tabTemplate, icon, prepareMenu, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\nexport const NS = \"App_permmetas\";\r\nconst table_id = \"permmetas_table\";\r\n\r\ninterface IState {\r\n    _editing: boolean\r\n    _deleting: boolean\r\n    _isNew: boolean\r\n    totalcount: number\r\n    id: number\r\n    groupe: string\r\n    groupe_text: string\r\n    code: number\r\n    description: string\r\n    parentid: number\r\n    parentid_text: string\r\n    sortorder: number\r\n    key: string\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\ninterface IKey {\r\n    id: number\r\n}\r\n\r\ninterface IFilter {\r\n    groupe: string\r\n    parentid: number\r\n    plus: string\r\n}\r\n\r\ninterface IPagedState extends Pager.IPagedList<IState, IFilter> { }\r\n\r\nconst blackList = [\"_editing\", \"_deleting\", \"_isNew\", \"totalcount\", \"groupe_text\", \"parentid_text\", \"created\", \"by\"];\r\n\r\nlet key: IKey;\r\nlet state = <IPagedState>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: App.getPageState(NS, \"pageSize\", 20), sortColumn: \"ID\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet fetchedState = <IPagedState>{};\r\nlet xtra: any;\r\nlet isNew = false;\r\nlet isDirty = false;\r\n\r\n\r\n\r\nconst filterTemplate = (groupe: string, parentid: string) => {\r\n    let filters: string[] = [];\r\n    filters.push(Theme.renderDropdownFilter(NS, \"groupe\", groupe, i18n(\"GROUPE\")));\r\n    filters.push(Theme.renderDropdownFilter(NS, \"parentid\", parentid, i18n(\"PARENTID\")));\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplateLeft = (item: IState, editId: number, deleteId: number, rowNumber: number) => {\r\n    let id = item.id;\r\n\r\n    let tdConfirm = `<td class=\"js-td-33\">&nbsp;</td>`;\r\n    if (item._editing) tdConfirm = `<td onclick=\"${NS}.save()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._deleting) tdConfirm = `<td onclick=\"${NS}.drop()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._isNew) tdConfirm = `<td onclick=\"${NS}.create()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n\r\n    let clickUndo = item._editing || item._deleting || item._isNew;\r\n    let markDeletion = !clickUndo;\r\n\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    let readonly = (deleteId != undefined) || (editId != undefined && id != editId) || (isNew && !item._isNew) || (!canEdit);\r\n\r\n    let classList: string[] = [];\r\n    if (item._editing || item._isNew) classList.push(\"js-not-same\");\r\n    if (item._deleting) classList.push(\"js-strikeout\");\r\n    if (item._isNew) classList.push(\"js-new\");\r\n    if (readonly) classList.push(\"js-readonly\");\r\n    if (!canEdit) classList.push(\"js-noclick\");\r\n\r\n    return `\r\n<tr data-id=\"${id}\" class=\"${classList.join(\" \")}\" style=\"cursor: pointer;\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n\r\n${markDeletion ? `<td onclick=\"${NS}.selectfordrop(${id})\" class=\"has-text-danger js-td-33 js-drop\" title=\"Click to mark for deletion\"><i class='fas fa-times'></i></td>` : ``}\r\n${clickUndo ? `<td onclick=\"${NS}.undo()\" class=\"has-text-primary js-td-33\" title=\"Click to undo\"><i class='fa fa-undo'></i></td>` : ``}\r\n${tdConfirm}\r\n\r\n</tr>`;\r\n};\r\n\r\nconst trTemplateRight = (item: IState, editId: number, deleteId: number, groupe: string, parentid: string) => {\r\n    let id = item.id;\r\n\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    let readonly = (deleteId != undefined) || (editId != undefined && id != editId) || (isNew && !item._isNew) || (!canEdit);\r\n\r\n    let classList: string[] = [];\r\n    if (item._editing || item._isNew) classList.push(\"js-not-same\");\r\n    if (item._deleting) classList.push(\"js-strikeout\");\r\n    if (item._isNew) classList.push(\"js-new\");\r\n    if (readonly) classList.push(\"js-readonly\");\r\n\r\n    return `\r\n<tr data-id=\"${id}\" class=\"${classList.join(\" \")}\" style=\"cursor: pointer;\">\r\n${!readonly ? `\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `groupe_${id}`, groupe, true)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderNumberInline(NS, `code_${id}`, item.code, true)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `description_${id}`, item.description, 50, true)}</td>\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `parentid_${id}`, parentid)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderNumberInline(NS, `sortorder_${id}`, item.sortorder)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `key_${id}`, item.key, 8)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderCheckboxInline(NS, `archive_${id}`, item.archive)}</td>\r\n` : `\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.groupe_text)}</div></td>\r\n    <td><div class=\"js-number\">${Misc.toStaticNumber(item.code)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.description)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.parentid_text)}</div></td>\r\n    <td><div class=\"js-number\">${Misc.toStaticNumber(item.sortorder)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.key)}</div></td>\r\n    <td>${Misc.toStaticCheckbox(item.archive)}</td>\r\n`}\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplateLeft = (tbody: string, editId: number, deleteId: number) => {\r\n    let disableAddNew = (deleteId != undefined || editId != undefined || isNew);\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    disableAddNew = disableAddNew || !canEdit;\r\n\r\n    return `\r\n<style>.js-td-33 { width: 33px; }</style>\r\n<div>\r\n<table class=\"table is-hoverable js-inline\" style=\"width: 10px; table-layout: fixed;\">\r\n    <thead>\r\n        <tr>\r\n            <th style=\"width:99px\" colspan=\"3\">&nbsp;</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n        <tr class=\"js-insert-row ${disableAddNew ? \"js-noclick\" : \"\"}\">\r\n            <td class=\"js-index js-td-33\">*</td>\r\n            <td class=\"has-text-primary js-td-33 js-add\" onclick=\"${NS}.addNew()\" title=\"Click to add a new row\"><i class=\"fas fa-plus\"></i></td>\r\n            <td></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst tableTemplateRight = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div id=\"${table_id}\" class=\"table-container\">\r\n<table class=\"table is-hoverable js-inline\" style=\"width: 100px; table-layout: fixed;\">\r\n    <thead>\r\n        <tr>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"GROUPE\"), \"groupe_text\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CODE\"), \"code\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"DESCRIPTION\"), \"description\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PARENT\"), \"parentid_text\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"SORTORDER\"), \"sortorder\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"KEY\"), \"key\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ARCHIVE\"), \"archive\", \"ASC\", \"width:100px\")}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n        <tr class=\"js-insert-row\">\r\n            <td colspan=\"${7 + 4}\">&nbsp;</td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (xtra, pager: string, tableLeft: string, tableRight: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, i18n(\"Compagnies\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"Liste des Permission Metadata\"));\r\n\r\n    let table = `<div style=\"display: flex;\">\r\n    <div>${tableLeft}</div>\r\n    <div style=\"width:calc(100% - 99px)\">${tableRight}</div>\r\n</div>`;\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, null) : \"\");\r\n}\r\n\r\n\r\n\r\nexport const fetchState = (id: number) => {\r\n    isNew = false;\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n\r\n    return App.POST(`/permmeta/search`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            key = { id: undefined };\r\n            xtra = payload.xtra;\r\n        })\r\n        .then(Lookup.fetch_permmeta_groupe())\r\n        .then(Lookup.fetch_permmeta_parent())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    App.prepareRender(NS, i18n(\"permmeta\"));\r\n    //prepareMenu();\r\n    fetchState(id)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"permmeta\"));\r\n    clearFilterPlus();\r\n    App.POST(`/permmeta/search`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let editId: number;\r\n    let deleteId: number;\r\n    state.list.forEach((item, index) => {\r\n        let prevItem = fetchedState.list[index];\r\n        item._editing = !Misc.same(item, prevItem);\r\n        if (item._editing) editId = item.id;\r\n        if (item._deleting) deleteId = item.id;\r\n    });\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n    let lookup_groupe = Lookup.get_permmeta_groupe(year);\r\n    let lookup_parent = Lookup.get_permmeta_parent(year);\r\n\r\n    const tbodyLeft = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplateLeft(item, editId, deleteId, rowNumber);\r\n    }, \"\");\r\n\r\n    const tbodyRight = state.list.reduce((html, item) => {\r\n        let groupe = Theme.renderOptions(lookup_groupe, item.groupe, isNew);\r\n        let parentid = Theme.renderOptions(lookup_parent, item.parentid, true);\r\n        return html + trTemplateRight(item, editId, deleteId, groupe, parentid);\r\n    }, \"\");\r\n\r\n    let groupe = Theme.renderOptions(lookup_groupe, state.pager.filter.groupe, true);\r\n    let parentid = Theme.renderOptions(lookup_parent, state.pager.filter.parentid, true);\r\n\r\n    const filter = filterTemplate(groupe, parentid);\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [10, 20, 50], search, filter);\r\n\r\n    const tableLeft = tableTemplateLeft(tbodyLeft, editId, deleteId);\r\n    const tableRight = tableTemplateRight(tbodyRight, state.pager);\r\n\r\n    const tab = tabTemplate(null, null);\r\n    const dirty = dirtyTemplate();\r\n    let warning = App.warningTemplate();\r\n    return pageTemplate(xtra, pager, tableLeft, tableRight, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\n\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = App.setPageState(NS, \"pageSize\", pageSize);\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_groupe = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let groupe = (value.length > 0 ? value : undefined);\r\n    if (groupe == state.pager.filter.groupe)\r\n        return;\r\n    state.pager.filter.groupe = groupe;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_parentid = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let parentid = (value.length > 0 ? +value : undefined);\r\n    if (parentid == state.pager.filter.parentid)\r\n        return;\r\n    state.pager.filter.parentid = parentid;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\n\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IPagedState;\r\n    clone.list.forEach(item => {\r\n        let id = item.id;\r\n        item.groupe = Misc.fromSelectText(`${NS}_groupe_${id}`, item.groupe);\r\n        item.code = Misc.fromInputNumber(`${NS}_code_${id}`, item.code);\r\n        item.description = Misc.fromInputText(`${NS}_description_${id}`, item.description);\r\n        item.parentid = Misc.fromSelectNumber(`${NS}_parentid_${id}`, item.parentid);\r\n        item.sortorder = Misc.fromInputNumberNullable(`${NS}_sortorder_${id}`, item.sortorder);\r\n        item.key = Misc.fromInputTextNullable(`${NS}_key_${id}`, item.key);\r\n        item.archive = Misc.fromInputCheckbox(`${NS}_archive_${id}`, item.archive);\r\n    })\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n\r\n    let parts = input.id.replace(`${NS}_`, \"\").split(\"_\");\r\n    let field = parts[0];\r\n    let id = +parts[1];\r\n    let record = state.list.find(one => one.id == id);\r\n\r\n    //if (field == \"field_name\") {\r\n    //    record.some_field = null;\r\n    //}\r\n\r\n    App.render();\r\n};\r\n\r\nexport const ondate = (input: HTMLInputElement, eventname: string) => {\r\n    return eventMan(NS, input, eventname);\r\n}\r\n\r\nexport const undo = () => {\r\n    if (isNew) {\r\n        isNew = false;\r\n        fetchedState.list.pop();\r\n    }\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    isDirty = false;\r\n    App.render()\r\n}\r\n\r\nexport const addNew = () => {\r\n    let url = `/permmeta/new`;\r\n    return App.GET(url)\r\n        .then((payload) => {\r\n            state.list.push(payload.item);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            isNew = true;\r\n            payload.item._isNew = true;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._isNew);\r\n    if (!html5Valid()) return;\r\n    if (!valid(item)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/permmeta\", Misc.createBlack(item, blackList))\r\n        .then((key: IKey) => {\r\n            addFilterPlus(key.id);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._editing);\r\n    if (!html5Valid()) return;\r\n    if (!valid(item)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/permmeta\", Misc.createBlack(item, blackList))\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const selectfordrop = (id: number) => {\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    state.list.find(one => one.id == id)._deleting = true;\r\n    App.render();\r\n}\r\n\r\nexport const drop = () => {\r\n    App.prepareRender();\r\n    let item = state.list.find(one => one._deleting);\r\n    App.DELETE(\"/permmeta\", { id: item.id, updated: item.updated })\r\n        .then(() => {\r\n            removeFilterPlus(item.id);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const hasChanges = () => {\r\n    return !Misc.same(fetchedState, state);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    isDirty = !Misc.same(fetchedState, getFormState());\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n}\r\n\r\n\r\n\r\nconst clearFilterPlus = () => {\r\n    state.pager.filter.plus = undefined;\r\n    isNew = false;\r\n}\r\n\r\nconst addFilterPlus = (id: number) => {\r\n    if (state.pager.filter.plus)\r\n        state.pager.filter.plus += `,${id}`;\r\n    else\r\n        state.pager.filter.plus = id.toString();\r\n}\r\n\r\nconst removeFilterPlus = (id: number) => {\r\n}\r\n","// File: lookup.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport { Calendar, eventMan } from \"../../_BaseApp/src/theme/calendar\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport { tabTemplate, icon, prepareMenu, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\nexport const NS = \"App_any_lookups\";\r\nconst table_id = \"any_lookups_table\";\r\n\r\ninterface IState {\r\n    _editing: boolean\r\n    _deleting: boolean\r\n    _isNew: boolean\r\n    totalcount: number\r\n    id: number\r\n    cie: number\r\n    cie_text: string\r\n    groupe: string\r\n    code: string\r\n    description: string\r\n    value1: string\r\n    value2: string\r\n    value3: string\r\n    started: number\r\n    ended: number\r\n    sortorder: number\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\ninterface IKey {\r\n    id: number\r\n}\r\n\r\ninterface IFilter {\r\n    cie: number\r\n    plus: string\r\n}\r\n\r\ninterface IPagedState extends Pager.IPagedList<IState, IFilter> { }\r\n\r\nconst blackList = [\"_editing\", \"_deleting\", \"_isNew\", \"totalcount\", \"cie_text\", \"created\", \"by\"];\r\n\r\nlet state = <IPagedState>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: App.getPageState(NS, \"pageSize\", 20), sortColumn: \"ID\", sortDirection: \"ASC\", filter: { cie: undefined } }\r\n};\r\nlet fetchedState = <IPagedState>{};\r\nlet xtra: any;\r\nlet isNew = false;\r\nlet isDirty = false;\r\n\r\n\r\n\r\nconst filterTemplate = (cie: string) => {\r\n    let filters: string[] = [];\r\n    filters.push(Theme.renderDropdownFilter(NS, \"cie\", cie, i18n(\"CIE\")));\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplateLeft = (item: IState, editId: number, deleteId: number, rowNumber: number) => {\r\n    let id = item.id;\r\n\r\n    let tdConfirm = `<td class=\"js-td-33\">&nbsp;</td>`;\r\n    if (item._editing) tdConfirm = `<td onclick=\"${NS}.save()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._deleting) tdConfirm = `<td onclick=\"${NS}.drop()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._isNew) tdConfirm = `<td onclick=\"${NS}.create()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n\r\n    let clickUndo = item._editing || item._deleting || item._isNew;\r\n    let markDeletion = !clickUndo;\r\n\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    let readonly = (deleteId != undefined) || (editId != undefined && id != editId) || (isNew && !item._isNew) || (!canEdit);\r\n\r\n    let classList: string[] = [];\r\n    if (item._editing || item._isNew) classList.push(\"js-not-same\");\r\n    if (item._deleting) classList.push(\"js-strikeout\");\r\n    if (item._isNew) classList.push(\"js-new\");\r\n    if (readonly) classList.push(\"js-readonly\");\r\n    if (!canEdit) classList.push(\"js-noclick\");\r\n\r\n    return `\r\n<tr data-id=\"${id}\" class=\"${classList.join(\" \")}\" style=\"cursor: pointer;\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n\r\n${markDeletion ? `<td onclick=\"${NS}.selectfordrop(${id})\" class=\"has-text-danger js-td-33 js-drop\" title=\"Click to mark for deletion\"><i class='fas fa-times'></i></td>` : ``}\r\n${clickUndo ? `<td onclick=\"${NS}.undo()\" class=\"has-text-primary js-td-33\" title=\"Click to undo\"><i class='fa fa-undo'></i></td>` : ``}\r\n${tdConfirm}\r\n\r\n</tr>`;\r\n};\r\n\r\nconst trTemplateRight = (item: IState, editId: number, deleteId: number, cie: string) => {\r\n    let id = item.id;\r\n\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    let readonly = (deleteId != undefined) || (editId != undefined && id != editId) || (isNew && !item._isNew) || (!canEdit);\r\n\r\n    let classList: string[] = [];\r\n    if (item._editing || item._isNew) classList.push(\"js-not-same\");\r\n    if (item._deleting) classList.push(\"js-strikeout\");\r\n    if (item._isNew) classList.push(\"js-new\");\r\n    if (readonly) classList.push(\"js-readonly\");\r\n\r\n    return `\r\n<tr data-id=\"${id}\" class=\"${classList.join(\" \")}\" style=\"cursor: pointer;\">\r\n${!readonly ? `\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `cie_${id}`, cie)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `groupe_${id}`, item.groupe, 12, true)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `code_${id}`, item.code, 12)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `description_${id}`, item.description, 50, true)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `value1_${id}`, item.value1, 50)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `value2_${id}`, item.value2, 50)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `value3_${id}`, item.value3, 1024)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderNumberInline(NS, `started_${id}`, item.started, true)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderNumberInline(NS, `ended_${id}`, item.ended)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderNumberInline(NS, `sortorder_${id}`, item.sortorder)}</td>\r\n` : `\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.cie_text)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.groupe)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.code)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.description)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.value1)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.value2)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.value3)}</div></td>\r\n    <td><div class=\"js-number\">${Misc.toStaticNumber(item.started)}</div></td>\r\n    <td><div class=\"js-number\">${Misc.toStaticNumber(item.ended)}</div></td>\r\n    <td><div class=\"js-number\">${Misc.toStaticNumber(item.sortorder)}</div></td>\r\n`}\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplateLeft = (tbody: string, editId: number, deleteId: number) => {\r\n    let disableAddNew = (deleteId != undefined || editId != undefined || isNew);\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    disableAddNew = disableAddNew || !canEdit;\r\n\r\n    return `\r\n<style>.js-td-33 { width: 33px; }</style>\r\n<div>\r\n<table class=\"table is-hoverable js-inline\" style=\"width: 10px; table-layout: fixed;\">\r\n    <thead>\r\n        <tr>\r\n            <th style=\"width:99px\" colspan=\"3\">&nbsp;</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n        <tr class=\"js-insert-row ${disableAddNew ? \"js-noclick\" : \"\"}\">\r\n            <td class=\"js-index js-td-33\">*</td>\r\n            <td class=\"has-text-primary js-td-33 js-add\" onclick=\"${NS}.addNew()\" title=\"Click to add a new row\"><i class=\"fas fa-plus\"></i></td>\r\n            <td></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst tableTemplateRight = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div id=\"${table_id}\" class=\"table-container\">\r\n<table class=\"table is-hoverable js-inline\" style=\"width: 100px; table-layout: fixed;\">\r\n    <thead>\r\n        <tr>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CIE\"), \"cie_text\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"GROUPE\"), \"groupe\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CODE\"), \"code\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"DESCRIPTION\"), \"description\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"VALUE1\"), \"value1\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"VALUE2\"), \"value2\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"VALUE3\"), \"value3\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"STARTED\"), \"started\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ENDED\"), \"ended\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"SORTORDER\"), \"sortorder\", \"ASC\", \"width:100px\")}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n        <tr class=\"js-insert-row\">\r\n            <td colspan=\"${10 + 4}\">&nbsp;</td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (xtra, pager: string, tableLeft: string, tableRight: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, i18n(\"Compagnies\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"Liste des lookups\"));\r\n\r\n    let table = `<div style=\"display: flex;\">\r\n    <div>${tableLeft}</div>\r\n    <div style=\"width:calc(100% - 99px)\">${tableRight}</div>\r\n</div>`;\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, null) : \"\");\r\n}\r\n\r\n\r\n\r\nexport const fetchState = (id: number) => {\r\n    isNew = false;\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    return App.POST(\"/lookup/search\", state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            xtra = payload.xtra;\r\n        })\r\n        .then(Lookup.fetch_cIE())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    App.prepareRender(NS, i18n(\"lookup\"));\r\n    //prepareMenu();\r\n    fetchState(id)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"lookup\"));\r\n    clearFilterPlus();\r\n    App.POST(\"/lookup/search\", state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let editId: number;\r\n    let deleteId: number;\r\n    state.list.forEach((item, index) => {\r\n        let prevItem = fetchedState.list[index];\r\n        item._editing = !Misc.same(item, prevItem);\r\n        if (item._editing) editId = item.id;\r\n        if (item._deleting) deleteId = item.id;\r\n    });\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n\r\n    let lookup_cIE = Lookup.get_cIE(year);\r\n\r\n    const tbodyLeft = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplateLeft(item, editId, deleteId, rowNumber);\r\n    }, \"\");\r\n\r\n    const tbodyRight = state.list.reduce((html, item) => {\r\n        let cie = Theme.renderOptions(lookup_cIE, item.cie, true);\r\n        return html + trTemplateRight(item, editId, deleteId, cie);\r\n    }, \"\");\r\n\r\n    let cie = Theme.renderOptions(lookup_cIE, state.pager.filter.cie, true);\r\n\r\n    const filter = filterTemplate(cie);\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [10, 20, 50], search, filter);\r\n\r\n    const tableLeft = tableTemplateLeft(tbodyLeft, editId, deleteId);\r\n    const tableRight = tableTemplateRight(tbodyRight, state.pager);\r\n\r\n    const tab = tabTemplate(null, null);\r\n    const dirty = dirtyTemplate();\r\n    let warning = App.warningTemplate();\r\n    return pageTemplate(xtra, pager, tableLeft, tableRight, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\n\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = App.setPageState(NS, \"pageSize\", pageSize);\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_cie = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let cie = (value.length > 0 ? +value : undefined);\r\n    if (cie == state.pager.filter.cie)\r\n        return;\r\n    state.pager.filter.cie = cie;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\n\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IPagedState;\r\n    clone.list.forEach(item => {\r\n        let id = item.id;\r\n        item.cie = Misc.fromSelectNumber(`${NS}_cie_${id}`, item.cie);\r\n        item.groupe = Misc.fromInputText(`${NS}_groupe_${id}`, item.groupe);\r\n        item.code = Misc.fromInputTextNullable(`${NS}_code_${id}`, item.code);\r\n        item.description = Misc.fromInputText(`${NS}_description_${id}`, item.description);\r\n        item.value1 = Misc.fromInputTextNullable(`${NS}_value1_${id}`, item.value1);\r\n        item.value2 = Misc.fromInputTextNullable(`${NS}_value2_${id}`, item.value2);\r\n        item.value3 = Misc.fromInputTextNullable(`${NS}_value3_${id}`, item.value3);\r\n        item.started = Misc.fromInputNumber(`${NS}_started_${id}`, item.started);\r\n        item.ended = Misc.fromInputNumberNullable(`${NS}_ended_${id}`, item.ended);\r\n        item.sortorder = Misc.fromInputNumberNullable(`${NS}_sortorder_${id}`, item.sortorder);\r\n    })\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n\r\n    let parts = input.id.replace(`${NS}_`, \"\").split(\"_\");\r\n    let field = parts[0];\r\n    let id = +parts[1];\r\n    let record = state.list.find(one => one.id == id);\r\n\r\n    //if (field == \"field_name\") {\r\n    //    record.some_field = null;\r\n    //}\r\n\r\n    App.render();\r\n};\r\n\r\nexport const ondate = (input: HTMLInputElement, eventname: string) => {\r\n    return eventMan(NS, input, eventname);\r\n}\r\n\r\nexport const undo = () => {\r\n    if (isNew) {\r\n        isNew = false;\r\n        fetchedState.list.pop();\r\n    }\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    isDirty = false;\r\n    App.render()\r\n}\r\n\r\nexport const addNew = () => {\r\n    let url = \"/lookup/new\";\r\n    return App.GET(url)\r\n        .then((payload) => {\r\n            state.list.push(payload.item);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            isNew = true;\r\n            payload.item._isNew = true;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._isNew);\r\n    if (!html5Valid()) return;\r\n    if (!valid(item)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/lookup\", Misc.createBlack(item, blackList))\r\n        .then((key: IKey) => {\r\n            addFilterPlus(key.id);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._editing);\r\n    if (!html5Valid()) return;\r\n    if (!valid(item)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/lookup\", Misc.createBlack(item, blackList))\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const selectfordrop = (id: number) => {\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    state.list.find(one => one.id == id)._deleting = true;\r\n    App.render();\r\n}\r\n\r\nexport const drop = () => {\r\n    App.prepareRender();\r\n    let item = state.list.find(one => one._deleting);\r\n    App.DELETE(\"/lookup\", { id: item.id, updated: item.updated })\r\n        .then(() => {\r\n            removeFilterPlus(item.id);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const hasChanges = () => {\r\n    return !Misc.same(fetchedState, state);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    isDirty = !Misc.same(fetchedState, getFormState());\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n}\r\n\r\n\r\n\r\nconst clearFilterPlus = () => {\r\n    state.pager.filter.plus = undefined;\r\n    isNew = false;\r\n}\r\n\r\nconst addFilterPlus = (id: number) => {\r\n    if (state.pager.filter.plus)\r\n        state.pager.filter.plus += `,${id}`;\r\n    else\r\n        state.pager.filter.plus = id.toString();\r\n}\r\n\r\nconst removeFilterPlus = (id: number) => {\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\n//\r\nimport * as Perm from \"../permission\"\r\nimport * as companys from \"./companys\"\r\nimport * as security from \"./security\"\r\nimport * as permmetas from \"./permmetas\"\r\nimport * as any_lookups from \"./any-lookups\"\r\n//import * as DataFiles from \"./datafiles\"\r\n//import * as DataFile from \"./datafile\"\r\n\r\n\r\n//\r\n// Global references to application objects\r\n// These must match the \"NS\" values defined in modules\r\n// Mainly used for event handlers\r\n//\r\n(<any>window).App_companys = companys;\r\n(<any>window).App_security = security;\r\n(<any>window).App_any_lookups = any_lookups;\r\n(<any>window).App_permmetas = permmetas;\r\n//(<any>window).App_DataFiles = DataFiles;\r\n//(<any>window).App_DataFile = DataFile;\r\n\r\n\r\nexport const startup = () => {\r\n    Router.addRoute(\"^#/support/companys/?(.*)?$\", companys.fetch);\r\n    Router.addRoute(\"^#/support/security/?(.*)?$\", security.fetch);\r\n    Router.addRoute(\"^#/support/any-lookups/?(.*)?$\", any_lookups.fetch);\r\n    Router.addRoute(\"^#/support/permmetas/?(.*)?$\", permmetas.fetch);\r\n    //Router.addRoute(\"^#/files/(.*)$\", DataFiles.fetch);\r\n    //Router.addRoute(\"^#/file/(.*)$\", DataFile.fetch);\r\n}\r\n\r\nexport const render = () => {\r\n    return `\r\n    ${companys.render()}\r\n    ${security.render()}\r\n    ${any_lookups.render()}\r\n    ${permmetas.render()}\r\n`;\r\n    //${DataFiles.render()}\r\n    //${DataFile.render()}\r\n}\r\n\r\nexport const postRender = () => {\r\n    companys.postRender();\r\n    security.postRender();\r\n    any_lookups.postRender();\r\n    permmetas.postRender();\r\n    //DataFiles.postRender();\r\n    //DataFile.postRender();\r\n}\r\n\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Perm from \"../permission\"\r\nimport { setOpenedMenu } from \"../layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport interface ISummary {\r\n    title: string\r\n    filecount: number\r\n    staffcount: number\r\n    roomcount: number\r\n}\r\n\r\nexport let icon = \"far fa-user\";\r\n\r\nexport const prepareMenu = () => {\r\n    setOpenedMenu(\"Application-Support\");\r\n}\r\n\r\nexport const tabTemplate = (id: number, xtra: ISummary, isNew: boolean = false) => {\r\n    let isoffices = App.inContext(\"App_offices\");\r\n    let isoffice = App.inContext(\"App_office\");\r\n    let isstaffs = App.inContext(\"App_staffs\");\r\n    let isstaff = App.inContext(\"App_staff\");\r\n    let isstaffs_4 = App.inContext(\"App_staff_4\");\r\n    let isrooms = App.inContext(\"App_rooms\");\r\n    let isroom = App.inContext(\"App_room\");\r\n    let isFiles = window.location.hash.startsWith(\"#/files/office\");\r\n    let isFile = window.location.hash.startsWith(\"#/file/office\");\r\n\r\n    let showOffice = !isoffices;\r\n    let showStaff = !isoffices && !(isoffice && isNew);\r\n    let showRoom = !isoffices && !(isoffice && isNew);\r\n    let showFiles = !isoffices && !(isoffice && isNew);\r\n\r\n    return `\r\n<div class=\"tabs is-boxed\">\r\n    <ul>\r\n        <li ${isoffices ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/offices\">\r\n                <span class=\"icon\"><i class=\"fas fa-list-ol\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"List\")}</span>\r\n            </a>\r\n        </li>\r\n\r\n${showOffice ? `\r\n        <li ${isoffice ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/office/${id}\">\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"office Details\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n\r\n${showStaff ? `\r\n        <li ${isstaffs ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/staffs/${id}\">\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>Staff (${xtra?.staffcount ?? -1})</span>\r\n            </a>\r\n        </li>\r\n${isstaff ? `\r\n        <li class=\"is-active\">\r\n            <a>\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>Staff</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n        <li ${isstaffs_4 ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/staffs_4/${id}\">\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>Staff/grid (${xtra?.staffcount ?? -1})</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n\r\n${showRoom ? `\r\n        <li ${isrooms ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/rooms/${id}\">\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>Rooms (${xtra?.roomcount ?? -1})</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n\r\n${showFiles ? `\r\n        <li ${isFiles ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/files/office/${id}\">\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Files\")} (${xtra?.filecount ?? -1})</span>\r\n            </a>\r\n        </li>\r\n${isFile ? `\r\n        <li ${isFile ? \"class='is-active'\" : \"\"}>\r\n            <a>\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"File Details\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n` : ``}\r\n\r\n    </ul>\r\n</div>\r\n`;\r\n};\r\n\r\nexport const buildTitle = (xtra: ISummary, defaultText: string) => {\r\n    return xtra?.title ?? defaultText;\r\n}\r\n\r\nexport const buildSubtitle = (xtra: any, defaultText: string) => {\r\n    return xtra?.subtitle ?? defaultText;\r\n}\r\n","// File: offices.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Layout from \"./layout\"\r\nimport { tabTemplate, icon, prepareMenu, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_offices\";\r\n\r\ninterface IState {\r\n    totalcount: number\r\n    id: number\r\n    name: string\r\n    location: string\r\n    openedon: Date\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\ninterface IKey {\r\n\r\n}\r\n\r\ninterface IFilter {\r\n\r\n}\r\n\r\n\r\n\r\nlet key: IKey;\r\nlet state = <Pager.IPagedList<IState, IFilter>>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 20, sortColumn: \"ID\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet xtra: any;\r\nlet uiSelectedRow: { id: number };\r\n\r\n\r\n\r\nconst filterTemplate = () => {\r\n    let filters: string[] = [];\r\n\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplate = (item: IState, rowNumber: number) => {\r\n    return `\r\n<tr class=\"${isSelectedRow(item.id) ? \"is-selected\" : \"\"}\" onclick=\"${NS}.gotoDetail(${item.id});\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n    <td>${Misc.toStaticText(item.id)}</td>\r\n    <td>${Misc.toStaticText(item.name)}</td>\r\n    <td>${Misc.toStaticText(item.location)}</td>\r\n    <td>${Misc.toStaticDate(item.openedon)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.archive)}</td>\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplate = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div class=\"table-container\">\r\n<table class=\"table is-hoverable is-fullwidth\">\r\n    <thead>\r\n        <tr>\r\n            <th></th>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ID\"), \"id\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"NAME\"), \"name\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"LOCATION\"), \"location\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"OPENEDON\"), \"openedon\", \"DESC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ARCHIVE\"), \"archive\", \"ASC\")}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (pager: string, table: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonAddNew(NS, `#/office/new`, i18n(\"Add New\")));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, i18n(\"offices title\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"offices subtitle\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nexport const fetchState = (id: number) => {\r\n    Router.registerDirtyExit(null);\r\n\r\n    return App.POST(`/office/search`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            xtra = payload.xtra;\r\n            key = {};\r\n        })\r\n\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    App.prepareRender(NS, i18n(\"offices\"));\r\n    prepareMenu();\r\n    fetchState(id)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"offices\"));\r\n    App.POST(`/office/search`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let warning = App.warningTemplate();\r\n    let dirty = \"\";\r\n    const tbody = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplate(item, rowNumber);\r\n    }, \"\");\r\n\r\n    let year = Perm.getCurrentYear();//state.pager.filter.year;\r\n\r\n\r\n\r\n    const filter = filterTemplate();\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [20, 50], search, filter);\r\n    const table = tableTemplate(tbody, state.pager);\r\n\r\n    const tab = tabTemplate(null, null);\r\n    return pageTemplate(pager, table, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst setSelectedRow = (id: number) => {\r\n    if (uiSelectedRow == undefined) uiSelectedRow = { id };\r\n    uiSelectedRow.id = id;\r\n};\r\n\r\nconst isSelectedRow = (id: number) => {\r\n    if (uiSelectedRow == undefined) return false;\r\n    return (uiSelectedRow.id == id);\r\n};\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = pageSize;\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const gotoDetail = (id: number) => {\r\n    setSelectedRow(id);\r\n    Router.goto(`#/office/${id}`);\r\n};\r\n","// File: staff.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Layout from \"./layout\"\r\nimport { tabTemplate, icon } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_staff_3\";\r\nconst table_id = \"staff_3_table\";\r\n\r\ninterface IState {\r\n    _editing: boolean\r\n    _deleting: boolean\r\n    _isNew: boolean\r\n    totalcount: number\r\n    id: number\r\n    firstname: string\r\n    lastname: string\r\n    officeid: number\r\n    officeid_text: string\r\n    jobid: number\r\n    jobid_text: string\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\ninterface IKey {\r\n    officeid: number\r\n}\r\n\r\ninterface IFilter {\r\n    officeid: number\r\n    jobid: number\r\n}\r\n\r\ninterface IPagedState extends Pager.IPagedList<IState, IFilter> { }\r\n\r\nconst blackList = [\"_editing\", \"_deleting\", \"_isNew\", \"totalcount\", \"officeid_text\", \"jobid_text\", \"created\", \"by\"];\r\n\r\n\r\nlet key: IKey;\r\nlet state = <IPagedState>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 1000, sortColumn: \"ID\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet fetchedState = <IPagedState>{};\r\nlet isNew = false;\r\nlet callerNS: string;\r\nlet isAddingNewParent = false;\r\n\r\n\r\nconst trTemplate = (item: IState, editId: number, deleteId: number, rowNumber: number, jobid: string) => {\r\n    let id = item.id;\r\n\r\n    let tdConfirm = `<td class=\"js-td-33\">&nbsp;</td>`;\r\n    if (item._editing) tdConfirm = `<td onclick=\"${NS}.save()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._deleting) tdConfirm = `<td onclick=\"${NS}.drop()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._isNew) tdConfirm = `<td onclick=\"${NS}.create()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n\r\n    let clickUndo = item._editing || item._deleting || item._isNew;\r\n    let markDeletion = !clickUndo;\r\n\r\n    let readonly = (deleteId != undefined) || (editId != undefined && id != editId) || (isNew && !item._isNew);\r\n\r\n    let classList: string[] = [];\r\n    if (item._editing || item._isNew) classList.push(\"js-not-same\");\r\n    if (item._deleting) classList.push(\"js-strikeout\");\r\n    if (item._isNew) classList.push(\"js-new\");\r\n    if (readonly) classList.push(\"js-readonly\");\r\n\r\n    return `\r\n<tr data-id=\"${id}\" class=\"${classList.join(\" \")}\" style=\"cursor: pointer;\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n\r\n${markDeletion ? `<td onclick=\"${NS}.selectfordrop(${id})\" class=\"has-text-danger js-td-33 js-drop\" title=\"Click to mark for deletion\"><i class='fas fa-times'></i></td>` : ``}\r\n${clickUndo ? `<td onclick=\"${NS}.undo()\" class=\"has-text-primary js-td-33\" title=\"Click to undo\"><i class='fa fa-undo'></i></td>` : ``}\r\n${tdConfirm}\r\n\r\n${!readonly ? `\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `firstname_${id}`, item.firstname, 50, true)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `lastname_${id}`, item.lastname, 50, true)}</td>\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `jobid_${id}`, jobid)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderCheckboxInline(NS, `archive_${id}`, item.archive)}</td>\r\n` : `\r\n    <td>${Misc.toStaticText(item.firstname)}</td>\r\n    <td>${Misc.toStaticText(item.lastname)}</td>\r\n    <td>${Misc.toStaticText(item.jobid_text)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.archive)}</td>\r\n`}\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplate = (tbody: string, editId: number, deleteId: number) => {\r\n    let disableAddNew = (deleteId != undefined || editId != undefined || isNew);\r\n\r\n    return `\r\n<div id=\"${table_id}\" class=\"table-container\">\r\n<table class=\"table is-hoverable js-inline\" style=\"width: 100px; table-layout: fixed;\">\r\n    <thead>\r\n        <tr>\r\n            <th style=\"width:99px\" colspan=\"3\"></th>\r\n            <th style=\"width:100px\">${i18n(\"FIRSTNAME\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"LASTNAME\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"JOB\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"ARCHIVE\")}</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n        <tr class=\"js-insert-row ${disableAddNew ? \"js-disabled\" : \"\"}\">\r\n            <td class=\"js-index js-td-33\">*</td>\r\n            <td class=\"has-text-primary js-td-33 js-add\" onclick=\"${NS}.addNew()\" title=\"Click to add a new row\"><i class=\"fas fa-plus\"></i></td>\r\n            <td></td>\r\n            <td colspan=\"4\"></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (table: string) => {\r\n    return `\r\n${Theme.wrapContent(\"js-uc-list\", table)}\r\n`\r\n};\r\n\r\nexport const fetchState = (officeid: number, ownerNS?: string) => {\r\n    isAddingNewParent = isNaN(officeid);\r\n    callerNS = ownerNS || callerNS;\r\n    isNew = false;\r\n    state.pager.filter.officeid = officeid;\r\n    return App.POST(`/staff/search/${officeid}/office`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            key = { officeid };\r\n        })\r\n        .then(Lookup.fetch_job())\r\n};\r\n\r\nexport const preRender = () => {\r\n};\r\n\r\nexport const render = () => {\r\n    if (isAddingNewParent) return \"\";\r\n\r\n    let editId: number;\r\n    let deleteId: number;\r\n    state.list.forEach((item, index) => {\r\n        let prevItem = fetchedState.list[index];\r\n        item._editing = !Misc.same(item, prevItem);\r\n        if (item._editing) editId = item.id;\r\n        if (item._deleting) deleteId = item.id;\r\n    });\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n\r\n    let lookup_job = Lookup.get_job(year);\r\n\r\n    const tbody = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        let jobid = Theme.renderOptions(lookup_job, item.jobid, true);\r\n        return html + trTemplate(item, editId, deleteId, rowNumber, jobid);\r\n    }, \"\");\r\n\r\n    const table = tableTemplate(tbody, editId, deleteId);\r\n    return pageTemplate(table);\r\n};\r\n\r\nexport const postRender = () => {\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IPagedState;\r\n    clone.list.forEach(item => {\r\n        let id = item.id;\r\n        item.firstname = Misc.fromInputText(`${NS}_firstname_${id}`, item.firstname);\r\n        item.lastname = Misc.fromInputText(`${NS}_lastname_${id}`, item.lastname);\r\n        item.officeid = Misc.fromSelectNumber(`${NS}_officeid_${id}`, item.officeid);\r\n        item.jobid = Misc.fromSelectNumber(`${NS}_jobid_${id}`, item.jobid);\r\n        item.archive = Misc.fromInputCheckbox(`${NS}_archive_${id}`, item.archive);\r\n    })\r\n    return clone;\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${callerNS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const undo = () => {\r\n    if (isNew) {\r\n        isNew = false;\r\n        fetchedState.list.pop();\r\n    }\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    App.render()\r\n}\r\n\r\nexport const addNew = () => {\r\n    let url = `/staff/new/${key.officeid}/office`;\r\n    return App.GET(url)\r\n        .then(payload => {\r\n            state.list.push(payload.item);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            isNew = true;\r\n            payload.item._isNew = true;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._isNew);\r\n    if (!html5Valid()) return;\r\n    App.prepareRender();\r\n    App.POST(\"/staff\", Misc.createBlack(item, blackList))\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._editing);\r\n    if (!html5Valid()) return;\r\n    App.prepareRender();\r\n    App.PUT(\"/staff\", Misc.createBlack(item, blackList))\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const selectfordrop = (id: number) => {\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    state.list.find(one => one.id == id)._deleting = true;\r\n    App.render();\r\n}\r\n\r\nexport const drop = () => {\r\n    App.prepareRender();\r\n    let item = state.list.find(one => one._deleting);\r\n    App.DELETE(\"/staff\", { id: item.id, updated: item.updated })\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const hasChanges = () => {\r\n    return !Misc.same(fetchedState, state);\r\n}\r\n","// File: office.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport { Calendar } from \"../../_BaseApp/src/theme/calendar\"\r\nimport { Autocomplete } from \"../../_BaseApp/src/theme/autocomplete\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Auth from \"../../_BaseApp/src/auth\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Perm from \"../permission\"\r\nimport { tabTemplate, icon, prepareMenu, ISummary, buildTitle, buildSubtitle } from \"./layout\"\r\nimport * as inline_staffs_3 from \"./staffs_3\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_office\";\r\n\r\ninterface IPayload {\r\n    item: IState\r\n    xtra: ISummary\r\n}\r\n\r\ninterface IKey {\r\n    id: number\r\n}\r\n\r\ninterface IState {\r\n    id: number\r\n    name: string\r\n    location: string\r\n    openedon: Date\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\n\r\n\r\nconst blackList = [\"created\", \"updatedby\", \"by\"];\r\n\r\nlet key: IKey;\r\nlet state = <IState>{};\r\nlet fetchedState = <IState>{};\r\nlet xtra: ISummary;\r\nlet isNew = false;\r\nlet isDirty = false;\r\nlet openedonCalendar = new Calendar(`${NS}_openedon`);\r\n\r\n\r\nconst formTemplate = (item: IState, staffs_3: string) => {\r\n\r\n    return `\r\n${isNew ? `\r\n` : `\r\n    ${Theme.renderStaticField(Misc.toStaticNumber(item.id), i18n(\"ID\"))}\r\n`}\r\n    ${Theme.renderTextField(NS, \"name\", item.name, i18n(\"NAME\"), 50, true)}\r\n    ${Theme.renderTextField(NS, \"location\", item.location, i18n(\"LOCATION\"), 50, true)}\r\n    ${Theme.renderCalendarField(NS, \"openedon\", openedonCalendar, i18n(\"OPENEDON\"))}\r\n    ${Theme.renderCheckboxField(NS, \"archive\", item.archive, i18n(\"ARCHIVE\"))}\r\n    ${Theme.renderStaticHtmlField(staffs_3, \"STAFFS_3\")}\r\n    ${Theme.renderBlame(item, isNew)}\r\n`;\r\n};\r\n\r\nconst pageTemplate = (item: IState, form: string, tab: string, warning: string, dirty: string) => {\r\n    let canEdit = true;\r\n    let readonly = !canEdit;\r\n\r\n    let canInsert = canEdit && isNew; // && Perm.hasOffice_CanAddOffice;\r\n    let canDelete = canEdit && !canInsert; // && Perm.hasOffice_CanDeleteOffice;\r\n    let canAdd = canEdit && !canInsert; // && Perm.hasOffice_CanAddOffice;\r\n    let canUpdate = canEdit && !isNew;\r\n\r\n    let inline_dirty = (!isNew ? inline_staffs_3.hasChanges() : false);\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonCancel(NS));\r\n    if (canInsert) buttons.push(Theme.buttonInsert(NS));\r\n    if (canDelete) buttons.push(Theme.buttonDelete(NS));\r\n    if (canAdd) buttons.push(Theme.buttonAddNew(NS, `#/office/new`));\r\n    if (canUpdate) buttons.push(Theme.buttonUpdate(NS, inline_dirty));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, !isNew ? i18n(\"office Details\") : i18n(\"New office\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"office subtitle\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\" ${readonly ? \"class='js-readonly'\" : \"\"}>\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n            ${Theme.renderBlame(item, isNew)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-details\", form)}\r\n</div>\r\n</div>\r\n\r\n${Theme.renderModalDelete(`modalDelete_${NS}`, `${NS}.drop()`)}\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, Misc.changes(fetchedState, state)) : \"\");\r\n}\r\n\r\nexport const fetchState = (id: number) => {\r\n    isNew = isNaN(id);\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    return App.GET(`/office/${isNew ? \"new\" : id}`)\r\n        .then((payload: IPayload) => {\r\n            state = payload.item;\r\n            fetchedState = Misc.clone(state) as IState;\r\n            xtra = payload.xtra;\r\n            key = <IKey>{ id };\r\n            openedonCalendar.setState(state.openedon);\r\n\r\n        })\r\n\r\n        .then(() => { return !isNew ? inline_staffs_3.fetchState(id, NS) : Promise.resolve() })\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    App.prepareRender(NS, i18n(\"office\"));\r\n    prepareMenu();\r\n    fetchState(id)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || Object.keys(state).length == 0)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n\r\n\r\n\r\n\r\n\r\n    if (!isNew) inline_staffs_3.preRender();\r\n    let staffs_3 = !isNew ? inline_staffs_3.render() : \"\";\r\n\r\n    const form = formTemplate(state, staffs_3);\r\n\r\n    const tab = tabTemplate(state.id, xtra, isNew);\r\n    const dirty = dirtyTemplate();\r\n    const warning = App.warningTemplate();\r\n    return pageTemplate(state, form, tab, warning, dirty);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n    openedonCalendar.postRender();\r\n    if (!isNew) inline_staffs_3.postRender();\r\n\r\n    App.setPageTitle(isNew ? i18n(\"New office\") : xtra.title);\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IState;\r\n    clone.name = Misc.fromInputText(`${NS}_name`, state.name);\r\n    clone.location = Misc.fromInputText(`${NS}_location`, state.location);\r\n    clone.openedon = Misc.fromInputDateNullable(`${NS}_openedon`, state.openedon);\r\n    clone.archive = Misc.fromInputCheckbox(`${NS}_archive`, state.archive);\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const oncalendar = (id: string) => {\r\n    if (openedonCalendar.id == id) openedonCalendar.toggle();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const cancel = () => {\r\n    Router.goBackOrResume(isDirty);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/office\", Misc.createBlack(formState, blackList))\r\n        .then(payload => {\r\n            let newkey = <IKey>payload;\r\n            Misc.toastSuccessSave();\r\n            Router.goto(`#/office/${newkey.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = (done = false) => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/office\", Misc.createBlack(formState, blackList))\r\n        .then(_ => {\r\n            Misc.toastSuccessSave();\r\n            if (done)\r\n                Router.goto(`#/offices/`, 100);\r\n            else\r\n                Router.goto(`#/office/${key.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const drop = () => {\r\n    (<any>key).updated = state.updated;\r\n    App.prepareRender();\r\n    App.DELETE(\"/office\", key)\r\n        .then(_ => {\r\n\r\n            Router.goto(`#/offices/`, 250);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    let masterHasChange = !Misc.same(fetchedState, getFormState());\r\n    let inlineHasChange = (!isNew ? inline_staffs_3.hasChanges() : false);\r\n    isDirty = masterHasChange || inlineHasChange;\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n};\r\n","// File: staffs.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport { tabTemplate, icon, prepareMenu, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_staffs\";\r\n\r\ninterface IState {\r\n    totalcount: number\r\n    id: number\r\n    firstname: string\r\n    lastname: string\r\n    officeid: number\r\n    officeid_text: string\r\n    jobid: number\r\n    jobid_text: string\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n    plusorder: number\r\n    rn: number\r\n}\r\n\r\ninterface IKey {\r\n    officeid: number\r\n}\r\n\r\ninterface IFilter {\r\n    officeid: number\r\n    jobid: number\r\n}\r\n\r\n\r\n\r\nlet key: IKey;\r\nlet state = <Pager.IPagedList<IState, IFilter>>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 20, sortColumn: \"ID\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet xtra: any;\r\nlet uiSelectedRow: { id: number };\r\n\r\n\r\n\r\nconst filterTemplate = (jobid: string) => {\r\n    let filters: string[] = [];\r\n    filters.push(Theme.renderDropdownFilter(NS, \"jobid\", jobid, i18n(\"JOBID\")));\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplate = (item: IState, rowNumber: number) => {\r\n    return `\r\n<tr class=\"${isSelectedRow(item.id) ? \"is-selected\" : \"\"}\" onclick=\"${NS}.gotoDetail(${item.id});\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n    <td>${Misc.toStaticText(item.id)}</td>\r\n    <td>${Misc.toStaticText(item.firstname)}</td>\r\n    <td>${Misc.toStaticText(item.lastname)}</td>\r\n    <td>${Misc.toStaticText(item.jobid_text)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.archive)}</td>\r\n    <td>${Misc.toStaticText(item.plusorder)}</td>\r\n    <td>${Misc.toStaticText(item.rn)}</td>\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplate = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div class=\"table-container\">\r\n<table class=\"table is-hoverable is-fullwidth\">\r\n    <thead>\r\n        <tr>\r\n            <th></th>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ID\"), \"id\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"FIRSTNAME\"), \"firstname\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"LASTNAME\"), \"lastname\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"JOBID_TEXT\"), \"jobid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ARCHIVE\"), \"archive\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PLUSORDER\"), \"plusorder\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"RN\"), \"rn\", \"ASC\")}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (pager: string, table: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonAddNew(NS, `#/staff/new/${key.officeid}`, i18n(\"Add New\")));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, i18n(\"staffs title\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"staffs subtitle\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nexport const fetchState = (officeid: number) => {\r\n    Router.registerDirtyExit(null);\r\n    state.pager.filter.officeid = officeid;\r\n    return App.POST(`/staff/search/${officeid}/office`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            xtra = payload.xtra;\r\n            key = { officeid };\r\n        })\r\n        .then(Lookup.fetch_job())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let officeid = +params[0];\r\n    App.prepareRender(NS, i18n(\"staffs\"));\r\n    //prepareMenu();\r\n    fetchState(officeid)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"staffs\"));\r\n    App.POST(`/staff/search/${key.officeid}/office`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let warning = App.warningTemplate();\r\n    let dirty = \"\";\r\n    const tbody = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplate(item, rowNumber);\r\n    }, \"\");\r\n\r\n    let year = Perm.getCurrentYear();//state.pager.filter.year;\r\n    let lookup_job = Lookup.get_job(year);\r\n    let jobid = Theme.renderOptions(lookup_job, state.pager.filter.jobid, true);\r\n\r\n    const filter = filterTemplate(jobid);\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [20, 50], search, filter);\r\n    const table = tableTemplate(tbody, state.pager);\r\n\r\n    const tab = tabTemplate(key.officeid, xtra);\r\n    return pageTemplate(pager, table, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst setSelectedRow = (id: number) => {\r\n    if (uiSelectedRow == undefined) uiSelectedRow = { id };\r\n    uiSelectedRow.id = id;\r\n};\r\n\r\nconst isSelectedRow = (id: number) => {\r\n    if (uiSelectedRow == undefined) return false;\r\n    return (uiSelectedRow.id == id);\r\n};\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = pageSize;\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_jobid = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let jobid = (value.length > 0 ? +value : undefined);\r\n    if (jobid == state.pager.filter.jobid)\r\n        return;\r\n    state.pager.filter.jobid = jobid;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const gotoDetail = (id: number) => {\r\n    setSelectedRow(id);\r\n    Router.goto(`#/staff/${id}/${key.officeid}`);\r\n};\r\n","// File: staff.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport { Calendar } from \"../../_BaseApp/src/theme/calendar\"\r\nimport { Autocomplete } from \"../../_BaseApp/src/theme/autocomplete\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Auth from \"../../_BaseApp/src/auth\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Perm from \"../permission\"\r\nimport { tabTemplate, icon, prepareMenu, ISummary, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_staff\";\r\n\r\ninterface IPayload {\r\n    item: IState\r\n    xtra: ISummary\r\n}\r\n\r\ninterface IKey {\r\n    id: number\r\n}\r\n\r\ninterface IState {\r\n    id: number\r\n    firstname: string\r\n    lastname: string\r\n    officeid: number\r\n    officeid_text: string\r\n    jobid: number\r\n    jobid_text: string\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\n\r\n\r\nconst blackList = [\"officeid_text\", \"jobid_text\", \"created\", \"updatedby\", \"by\"];\r\n\r\nlet key: IKey;\r\nlet state = <IState>{};\r\nlet fetchedState = <IState>{};\r\nlet xtra: ISummary;\r\nlet isNew = false;\r\nlet isDirty = false;\r\n\r\n\r\n\r\nconst formTemplate = (item: IState, jobid: string) => {\r\n\r\n    return `\r\n${isNew ? `\r\n` : `\r\n    ${Theme.renderStaticField(Misc.toStaticNumber(item.id), i18n(\"ID\"))}\r\n`}\r\n    ${Theme.renderTextField(NS, \"firstname\", item.firstname, i18n(\"FIRSTNAME\"), 50, true)}\r\n    ${Theme.renderTextField(NS, \"lastname\", item.lastname, i18n(\"LASTNAME\"), 50, true)}\r\n    ${Theme.renderDropdownField(NS, \"jobid\", jobid, i18n(\"JOBID\"))}\r\n    ${Theme.renderCheckboxField(NS, \"archive\", item.archive, i18n(\"ARCHIVE\"))}\r\n    ${Theme.renderBlame(item, isNew)}\r\n`;\r\n};\r\n\r\nconst pageTemplate = (item: IState, form: string, tab: string, warning: string, dirty: string) => {\r\n    let canEdit = true;\r\n    let readonly = !canEdit;\r\n\r\n    let canInsert = canEdit && isNew; // && Perm.hasStaff_CanAddStaff;\r\n    let canDelete = canEdit && !canInsert; // && Perm.hasStaff_CanDeleteStaff;\r\n    let canAdd = canEdit && !canInsert; // && Perm.hasStaff_CanAddStaff;\r\n    let canUpdate = canEdit && !isNew;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonCancel(NS));\r\n    if (canInsert) buttons.push(Theme.buttonInsert(NS));\r\n    if (canDelete) buttons.push(Theme.buttonDelete(NS));\r\n    if (canAdd) buttons.push(Theme.buttonAddNew(NS, `#/staff/new/${state.officeid}`));\r\n    if (canUpdate) buttons.push(Theme.buttonUpdate(NS));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, !isNew ? i18n(\"staff Details\") : i18n(\"New staff\"));\r\n    let subtitle = buildSubtitle(xtra, `${i18n(\"Editing staff\")}: <span>${item.firstname}</span>`);\r\n\r\n    return `\r\n<form onsubmit=\"return false;\" ${readonly ? \"class='js-readonly'\" : \"\"}>\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n            ${Theme.renderBlame(item, isNew)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-details\", form)}\r\n</div>\r\n</div>\r\n\r\n${Theme.renderModalDelete(`modalDelete_${NS}`, `${NS}.drop()`)}\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, Misc.changes(fetchedState, state)) : \"\");\r\n}\r\n\r\nexport const fetchState = (id: number, officeid: number) => {\r\n    isNew = isNaN(id);\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    return App.GET(`/staff/${isNew ? `new/${officeid}` : id}/office`)\r\n        .then((payload: IPayload) => {\r\n            state = payload.item;\r\n            fetchedState = Misc.clone(state) as IState;\r\n            xtra = payload.xtra;\r\n            key = <IKey>{ id };\r\n\r\n\r\n        })\r\n        .then(Lookup.fetch_job())\r\n\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    let officeid = +params[1];\r\n    App.prepareRender(NS, i18n(\"staff\"));\r\n    prepareMenu();\r\n    fetchState(id, officeid)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || Object.keys(state).length == 0)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n\r\n    let lookup_job = Lookup.get_job(year);\r\n\r\n    let jobid = Theme.renderOptions(lookup_job, state.jobid, true);\r\n\r\n\r\n    const form = formTemplate(state, jobid);\r\n\r\n    const tab = tabTemplate(state.officeid, xtra, isNew);\r\n    const dirty = dirtyTemplate();\r\n    const warning = App.warningTemplate();\r\n    return pageTemplate(state, form, tab, warning, dirty);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n\r\n\r\n\r\n    App.setPageTitle(isNew ? i18n(\"New staff\") : xtra.title);\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IState;\r\n    clone.firstname = Misc.fromInputText(`${NS}_firstname`, state.firstname);\r\n    clone.lastname = Misc.fromInputText(`${NS}_lastname`, state.lastname);\r\n    clone.officeid = Misc.fromSelectNumber(`${NS}_officeid`, state.officeid);\r\n    clone.jobid = Misc.fromSelectNumber(`${NS}_jobid`, state.jobid);\r\n    clone.archive = Misc.fromInputCheckbox(`${NS}_archive`, state.archive);\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const cancel = () => {\r\n    Router.goBackOrResume(isDirty);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/staff\", Misc.createBlack(formState, blackList))\r\n        .then(payload => {\r\n            let newkey = <IKey>payload;\r\n            Misc.toastSuccessSave();\r\n            Router.goto(`#/staff/${newkey.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = (done = false) => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/staff\", Misc.createBlack(formState, blackList))\r\n        .then(_ => {\r\n            Misc.toastSuccessSave();\r\n            if (done)\r\n                Router.goto(`#/staffs/${state.officeid}`, 100);\r\n            else\r\n                Router.goto(`#/staff/${key.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const drop = () => {\r\n    (<any>key).updated = state.updated;\r\n    App.prepareRender();\r\n    App.DELETE(\"/staff\", key)\r\n        .then(_ => {\r\n            let officeid = state.officeid;\r\n\r\n            Router.goto(`#/staffs/${officeid}`, 250);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    isDirty = !Misc.same(fetchedState, getFormState());\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n};\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Perm from \"../permission\"\r\nimport { setOpenedMenu } from \"../layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport interface ISummary {\r\n    title: string\r\n    filecount: number\r\n    equipmentcount: number\r\n}\r\n\r\nexport let icon = \"far fa-user\";\r\n\r\nexport const prepareMenu = () => {\r\n    setOpenedMenu(\"Application-Support\");\r\n}\r\n\r\nexport const tabTemplate = (id: number, xtra: ISummary, isNew: boolean = false) => {\r\n    let isstaffs = App.inContext(\"App_staffs_2\");\r\n    let isstaff = App.inContext(\"App_staff_2\");\r\n    let isequipments = App.inContext(\"App_equipments\");\r\n    let isequipment = App.inContext(\"App_equipment\");\r\n    let isFiles = window.location.hash.startsWith(\"#/files/staff\");\r\n    let isFile = window.location.hash.startsWith(\"#/file/staff\");\r\n\r\n    let showstaff = !isstaffs;\r\n    let showequipment = !isstaffs && !(isstaff && isNew);\r\n    let showFiles = !isstaffs && !(isstaff && isNew);\r\n\r\n    return `\r\n<div class=\"tabs is-boxed\">\r\n    <ul>\r\n        <li ${isstaffs ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/staffs_2\">\r\n                <span class=\"icon\"><i class=\"fas fa-list-ol\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"List\")}</span>\r\n            </a>\r\n        </li>\r\n\r\n${showstaff ? `\r\n        <li ${isstaff ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/staff_2/${id}\">\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"staff Details\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n\r\n${showequipment ? `\r\n        <li ${isequipments ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/equipments/${id}\">\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>equipment (${xtra?.equipmentcount ?? -1})</span>\r\n            </a>\r\n        </li>\r\n${isequipment ? `\r\n        <li class=\"is-active\">\r\n            <a>\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>equipment</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n` : ``}\r\n\r\n${showFiles ? `\r\n        <li ${isFiles ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/files/staff/${id}\">\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Files\")} (${xtra?.filecount ?? -1})</span>\r\n            </a>\r\n        </li>\r\n${isFile ? `\r\n        <li ${isFile ? \"class='is-active'\" : \"\"}>\r\n            <a>\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"File Details\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n` : ``}\r\n\r\n    </ul>\r\n</div>\r\n`;\r\n};\r\n\r\nexport const buildTitle = (xtra: ISummary, defaultText: string) => {\r\n    return xtra?.title ?? defaultText;\r\n}\r\n\r\nexport const buildSubtitle = (xtra: any, defaultText: string) => {\r\n    return xtra?.subtitle ?? defaultText;\r\n}\r\n","// File: staffs.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport { tabTemplate, icon, prepareMenu, buildTitle, buildSubtitle } from \"./layout_2\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_staffs_2\";\r\n\r\ninterface IState {\r\n    totalcount: number\r\n    id: number\r\n    firstname: string\r\n    lastname: string\r\n    officeid: number\r\n    officeid_text: string\r\n    jobid: number\r\n    jobid_text: string\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\ninterface IKey {\r\n\r\n}\r\n\r\ninterface IFilter {\r\n    officeid: number\r\n    jobid: number\r\n}\r\n\r\n\r\n\r\nlet key: IKey;\r\nlet state = <Pager.IPagedList<IState, IFilter>>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 20, sortColumn: \"ID\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet xtra: any;\r\nlet uiSelectedRow: { id: number };\r\n\r\n\r\n\r\nconst filterTemplate = (officeid: string, jobid: string) => {\r\n    let filters: string[] = [];\r\n    filters.push(Theme.renderDropdownFilter(NS, \"officeid\", officeid, i18n(\"OFFICEID\")));\r\n    filters.push(Theme.renderDropdownFilter(NS, \"jobid\", jobid, i18n(\"JOBID\")));\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplate = (item: IState, rowNumber: number) => {\r\n    return `\r\n<tr class=\"${isSelectedRow(item.id) ? \"is-selected\" : \"\"}\" onclick=\"${NS}.gotoDetail(${item.id});\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n    <td>${Misc.toStaticText(item.id)}</td>\r\n    <td>${Misc.toStaticText(item.firstname)}</td>\r\n    <td>${Misc.toStaticText(item.lastname)}</td>\r\n    <td>${Misc.toStaticText(item.officeid_text)}</td>\r\n    <td>${Misc.toStaticText(item.jobid_text)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.archive)}</td>\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplate = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div class=\"table-container\">\r\n<table class=\"table is-hoverable is-fullwidth\">\r\n    <thead>\r\n        <tr>\r\n            <th></th>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ID\"), \"id\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"FIRSTNAME\"), \"firstname\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"LASTNAME\"), \"lastname\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"OFFICEID_TEXT\"), \"officeid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"JOBID_TEXT\"), \"jobid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ARCHIVE\"), \"archive\", \"ASC\")}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (pager: string, table: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonAddNew(NS, `#/staff_2/new`, i18n(\"Add New\")));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, i18n(\"staffs title\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"staffs subtitle\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nexport const fetchState = (id: number) => {\r\n    Router.registerDirtyExit(null);\r\n\r\n    return App.POST(`/staff/search`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            xtra = payload.xtra;\r\n            key = {};\r\n        })\r\n        .then(Lookup.fetch_office())\r\n        .then(Lookup.fetch_job())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    App.prepareRender(NS, i18n(\"staffs\"));\r\n    prepareMenu();\r\n    fetchState(id)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"staffs\"));\r\n    App.POST(`/staff/search`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let warning = App.warningTemplate();\r\n    let dirty = \"\";\r\n    const tbody = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplate(item, rowNumber);\r\n    }, \"\");\r\n\r\n    let year = Perm.getCurrentYear();//state.pager.filter.year;\r\n    let lookup_office = Lookup.get_office(year);\r\n    let lookup_job = Lookup.get_job(year);\r\n    let officeid = Theme.renderOptions(lookup_office, state.pager.filter.officeid, true);\r\n    let jobid = Theme.renderOptions(lookup_job, state.pager.filter.jobid, true);\r\n\r\n    const filter = filterTemplate(officeid, jobid);\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [20, 50], search, filter);\r\n    const table = tableTemplate(tbody, state.pager);\r\n\r\n    const tab = tabTemplate(null, null);\r\n    return pageTemplate(pager, table, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst setSelectedRow = (id: number) => {\r\n    if (uiSelectedRow == undefined) uiSelectedRow = { id };\r\n    uiSelectedRow.id = id;\r\n};\r\n\r\nconst isSelectedRow = (id: number) => {\r\n    if (uiSelectedRow == undefined) return false;\r\n    return (uiSelectedRow.id == id);\r\n};\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = pageSize;\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_officeid = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let officeid = (value.length > 0 ? +value : undefined);\r\n    if (officeid == state.pager.filter.officeid)\r\n        return;\r\n    state.pager.filter.officeid = officeid;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_jobid = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let jobid = (value.length > 0 ? +value : undefined);\r\n    if (jobid == state.pager.filter.jobid)\r\n        return;\r\n    state.pager.filter.jobid = jobid;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const gotoDetail = (id: number) => {\r\n    setSelectedRow(id);\r\n    Router.goto(`#/staff_2/${id}`);\r\n};\r\n","// File: staff.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport { Calendar } from \"../../_BaseApp/src/theme/calendar\"\r\nimport { Autocomplete } from \"../../_BaseApp/src/theme/autocomplete\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Auth from \"../../_BaseApp/src/auth\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Perm from \"../permission\"\r\nimport { tabTemplate, icon, prepareMenu, ISummary, buildTitle, buildSubtitle } from \"./layout_2\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_staff_2\";\r\n\r\ninterface IPayload {\r\n    item: IState\r\n    xtra: ISummary\r\n}\r\n\r\ninterface IKey {\r\n    id: number\r\n}\r\n\r\ninterface IState {\r\n    id: number\r\n    firstname: string\r\n    lastname: string\r\n    officeid: number\r\n    officeid_text: string\r\n    jobid: number\r\n    jobid_text: string\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\n\r\n\r\nconst blackList = [\"officeid_text\", \"jobid_text\", \"created\", \"updatedby\", \"by\"];\r\n\r\nlet key: IKey;\r\nlet state = <IState>{};\r\nlet fetchedState = <IState>{};\r\nlet xtra: ISummary;\r\nlet isNew = false;\r\nlet isDirty = false;\r\n\r\n\r\n\r\nconst formTemplate = (item: IState, officeid: string, jobid: string) => {\r\n\r\n    return `\r\n${isNew ? `\r\n` : `\r\n    ${Theme.renderStaticField(Misc.toStaticNumber(item.id), i18n(\"ID\"))}\r\n`}\r\n    ${Theme.renderTextField(NS, \"firstname\", item.firstname, i18n(\"FIRSTNAME\"), 50, true)}\r\n    ${Theme.renderTextField(NS, \"lastname\", item.lastname, i18n(\"LASTNAME\"), 50, true)}\r\n    ${Theme.renderDropdownField(NS, \"officeid\", officeid, i18n(\"OFFICEID\"))}\r\n    ${Theme.renderDropdownField(NS, \"jobid\", jobid, i18n(\"JOBID\"))}\r\n    ${Theme.renderCheckboxField(NS, \"archive\", item.archive, i18n(\"ARCHIVE\"))}\r\n    ${Theme.renderBlame(item, isNew)}\r\n`;\r\n};\r\n\r\nconst pageTemplate = (item: IState, form: string, tab: string, warning: string, dirty: string) => {\r\n    let canEdit = true;\r\n    let readonly = !canEdit;\r\n\r\n    let canInsert = canEdit && isNew; // && Perm.hasStaff_CanAddStaff;\r\n    let canDelete = canEdit && !canInsert; // && Perm.hasStaff_CanDeleteStaff;\r\n    let canAdd = canEdit && !canInsert; // && Perm.hasStaff_CanAddStaff;\r\n    let canUpdate = canEdit && !isNew;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonCancel(NS));\r\n    if (canInsert) buttons.push(Theme.buttonInsert(NS));\r\n    if (canDelete) buttons.push(Theme.buttonDelete(NS));\r\n    if (canAdd) buttons.push(Theme.buttonAddNew(NS, `#/staff_2/new`));\r\n    if (canUpdate) buttons.push(Theme.buttonUpdate(NS));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, !isNew ? i18n(\"staff Details\") : i18n(\"New staff\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"staff subtitle\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\" ${readonly ? \"class='js-readonly'\" : \"\"}>\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n            ${Theme.renderBlame(item, isNew)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-details\", form)}\r\n</div>\r\n</div>\r\n\r\n${Theme.renderModalDelete(`modalDelete_${NS}`, `${NS}.drop()`)}\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, Misc.changes(fetchedState, state)) : \"\");\r\n}\r\n\r\nexport const fetchState = (id: number) => {\r\n    isNew = isNaN(id);\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    return App.GET(`/staff/${isNew ? \"new\" : id}`)\r\n        .then((payload: IPayload) => {\r\n            state = payload.item;\r\n            fetchedState = Misc.clone(state) as IState;\r\n            xtra = payload.xtra;\r\n            key = <IKey>{ id };\r\n\r\n\r\n        })\r\n        .then(Lookup.fetch_office())\r\n        .then(Lookup.fetch_job())\r\n\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    App.prepareRender(NS, i18n(\"staff\"));\r\n    prepareMenu();\r\n    fetchState(id)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || Object.keys(state).length == 0)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n\r\n    let lookup_office = Lookup.get_office(year);\r\n    let lookup_job = Lookup.get_job(year);\r\n\r\n    let officeid = Theme.renderOptions(lookup_office, state.officeid, true);\r\n    let jobid = Theme.renderOptions(lookup_job, state.jobid, true);\r\n\r\n\r\n    const form = formTemplate(state, officeid, jobid);\r\n\r\n    const tab = tabTemplate(state.id, xtra, isNew);\r\n    const dirty = dirtyTemplate();\r\n    const warning = App.warningTemplate();\r\n    return pageTemplate(state, form, tab, warning, dirty);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n\r\n\r\n\r\n    App.setPageTitle(isNew ? i18n(\"New staff\") : xtra.title);\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IState;\r\n    clone.firstname = Misc.fromInputText(`${NS}_firstname`, state.firstname);\r\n    clone.lastname = Misc.fromInputText(`${NS}_lastname`, state.lastname);\r\n    clone.officeid = Misc.fromSelectNumber(`${NS}_officeid`, state.officeid);\r\n    clone.jobid = Misc.fromSelectNumber(`${NS}_jobid`, state.jobid);\r\n    clone.archive = Misc.fromInputCheckbox(`${NS}_archive`, state.archive);\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const cancel = () => {\r\n    Router.goBackOrResume(isDirty);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/staff\", Misc.createBlack(formState, blackList))\r\n        .then(payload => {\r\n            let newkey = <IKey>payload;\r\n            Misc.toastSuccessSave();\r\n            Router.goto(`#/staff_2/${newkey.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = (done = false) => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/staff\", Misc.createBlack(formState, blackList))\r\n        .then(_ => {\r\n            Misc.toastSuccessSave();\r\n            if (done)\r\n                Router.goto(`#/staffs_2/`, 100);\r\n            else\r\n                Router.goto(`#/staff_2/${key.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const drop = () => {\r\n    (<any>key).updated = state.updated;\r\n    App.prepareRender();\r\n    App.DELETE(\"/staff\", key)\r\n        .then(_ => {\r\n\r\n            Router.goto(`#/staffs_2/`, 250);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    isDirty = !Misc.same(fetchedState, getFormState());\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n};\r\n","// File: staff.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport { Calendar, eventMan } from \"../../_BaseApp/src/theme/calendar\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport { tabTemplate, icon, prepareMenu, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\nexport const NS = \"App_staff_4\";\r\nconst table_id = \"staff_4_table\";\r\n\r\ninterface IState {\r\n    _editing: boolean\r\n    _deleting: boolean\r\n    _isNew: boolean\r\n    totalcount: number\r\n    id: number\r\n    firstname: string\r\n    lastname: string\r\n    officeid: number\r\n    officeid_text: string\r\n    jobid: number\r\n    jobid_text: string\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\ninterface IKey {\r\n    officeid: number\r\n    id: number\r\n}\r\n\r\ninterface IFilter {\r\n    officeid: number\r\n    jobid: number\r\n    plus: string\r\n}\r\n\r\ninterface IPagedState extends Pager.IPagedList<IState, IFilter> { }\r\n\r\nconst blackList = [\"_editing\", \"_deleting\", \"_isNew\", \"totalcount\", \"officeid_text\", \"jobid_text\", \"created\", \"by\"];\r\n\r\nlet key: IKey;\r\nlet state = <IPagedState>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: App.getPageState(NS, \"pageSize\", 20), sortColumn: \"ID\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet fetchedState = <IPagedState>{};\r\nlet xtra: any;\r\nlet isNew = false;\r\nlet isDirty = false;\r\n\r\n\r\n\r\nconst filterTemplate = (jobid: string) => {\r\n    let filters: string[] = [];\r\n    filters.push(Theme.renderDropdownFilter(NS, \"jobid\", jobid, i18n(\"JOBID\")));\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplateLeft = (item: IState, editId: number, deleteId: number, rowNumber: number) => {\r\n    let id = item.id;\r\n\r\n    let tdConfirm = `<td class=\"js-td-33\">&nbsp;</td>`;\r\n    if (item._editing) tdConfirm = `<td onclick=\"${NS}.save()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._deleting) tdConfirm = `<td onclick=\"${NS}.drop()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._isNew) tdConfirm = `<td onclick=\"${NS}.create()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n\r\n    let clickUndo = item._editing || item._deleting || item._isNew;\r\n    let markDeletion = !clickUndo;\r\n\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    let readonly = (deleteId != undefined) || (editId != undefined && id != editId) || (isNew && !item._isNew) || (!canEdit);\r\n\r\n    let classList: string[] = [];\r\n    if (item._editing || item._isNew) classList.push(\"js-not-same\");\r\n    if (item._deleting) classList.push(\"js-strikeout\");\r\n    if (item._isNew) classList.push(\"js-new\");\r\n    if (readonly) classList.push(\"js-readonly\");\r\n    if (!canEdit) classList.push(\"js-noclick\");\r\n\r\n    return `\r\n<tr data-id=\"${id}\" class=\"${classList.join(\" \")}\" style=\"cursor: pointer;\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n\r\n${markDeletion ? `<td onclick=\"${NS}.selectfordrop(${id})\" class=\"has-text-danger js-td-33 js-drop\" title=\"Click to mark for deletion\"><i class='fas fa-times'></i></td>` : ``}\r\n${clickUndo ? `<td onclick=\"${NS}.undo()\" class=\"has-text-primary js-td-33\" title=\"Click to undo\"><i class='fa fa-undo'></i></td>` : ``}\r\n${tdConfirm}\r\n\r\n</tr>`;\r\n};\r\n\r\nconst trTemplateRight = (item: IState, editId: number, deleteId: number, jobid: string) => {\r\n    let id = item.id;\r\n\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    let readonly = (deleteId != undefined) || (editId != undefined && id != editId) || (isNew && !item._isNew) || (!canEdit);\r\n\r\n    let classList: string[] = [];\r\n    if (item._editing || item._isNew) classList.push(\"js-not-same\");\r\n    if (item._deleting) classList.push(\"js-strikeout\");\r\n    if (item._isNew) classList.push(\"js-new\");\r\n    if (readonly) classList.push(\"js-readonly\");\r\n\r\n    return `\r\n<tr data-id=\"${id}\" class=\"${classList.join(\" \")}\" style=\"cursor: pointer;\">\r\n${!readonly ? `\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `firstname_${id}`, item.firstname, 50, true)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `lastname_${id}`, item.lastname, 50, true)}</td>\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `jobid_${id}`, jobid)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderCheckboxInline(NS, `archive_${id}`, item.archive)}</td>\r\n` : `\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.firstname)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.lastname)}</div></td>\r\n    <td><div class=\"js-truncate\" style=\"width:100px;\">${Misc.toStaticText(item.jobid_text)}</div></td>\r\n    <td>${Misc.toStaticCheckbox(item.archive)}</td>\r\n`}\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplateLeft = (tbody: string, editId: number, deleteId: number) => {\r\n    let disableAddNew = (deleteId != undefined || editId != undefined || isNew);\r\n    let canEdit = true; //perm && perm.canEdit;\r\n    disableAddNew = disableAddNew || !canEdit;\r\n\r\n    return `\r\n<style>.js-td-33 { width: 33px; }</style>\r\n<div>\r\n<table class=\"table is-hoverable js-inline\" style=\"width: 10px; table-layout: fixed;\">\r\n    <thead>\r\n        <tr>\r\n            <th style=\"width:99px\" colspan=\"3\">&nbsp;</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n        <tr class=\"js-insert-row ${disableAddNew ? \"js-noclick\" : \"\"}\">\r\n            <td class=\"js-index js-td-33\">*</td>\r\n            <td class=\"has-text-primary js-td-33 js-add\" onclick=\"${NS}.addNew()\" title=\"Click to add a new row\"><i class=\"fas fa-plus\"></i></td>\r\n            <td></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst tableTemplateRight = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div id=\"${table_id}\" class=\"table-container\">\r\n<table class=\"table is-hoverable js-inline\" style=\"width: 100px; table-layout: fixed;\">\r\n    <thead>\r\n        <tr>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"FIRSTNAME\"), \"firstname\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"LASTNAME\"), \"lastname\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"JOB\"), \"jobid_text\", \"ASC\", \"width:100px\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ARCHIVE\"), \"archive\", \"ASC\", \"width:100px\")}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n        <tr class=\"js-insert-row\">\r\n            <td colspan=\"${4 + 4}\">&nbsp;</td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (xtra, pager: string, tableLeft: string, tableRight: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, i18n(\"INVALID\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"staffs_4 subtitle\"));\r\n\r\n    let table = `<div style=\"display: flex;\">\r\n    <div>${tableLeft}</div>\r\n    <div style=\"width:calc(100% - 99px)\">${tableRight}</div>\r\n</div>`;\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, null) : \"\");\r\n}\r\n\r\n\r\n\r\nexport const fetchState = (officeid: number) => {\r\n    isNew = false;\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    state.pager.filter.officeid = officeid;\r\n    return App.POST(`/staff/search/${officeid}/office`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            key = { officeid, id: undefined };\r\n            xtra = payload.xtra;\r\n        })\r\n        .then(Lookup.fetch_job())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let officeid = +params[0];\r\n    App.prepareRender(NS, i18n(\"staff\"));\r\n    prepareMenu();\r\n    fetchState(officeid)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"staff\"));\r\n    clearFilterPlus();\r\n    App.POST(`/staff/search/${key.officeid}/office`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let editId: number;\r\n    let deleteId: number;\r\n    state.list.forEach((item, index) => {\r\n        let prevItem = fetchedState.list[index];\r\n        item._editing = !Misc.same(item, prevItem);\r\n        if (item._editing) editId = item.id;\r\n        if (item._deleting) deleteId = item.id;\r\n    });\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n    let lookup_job = Lookup.get_job(year);\r\n\r\n    const tbodyLeft = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplateLeft(item, editId, deleteId, rowNumber);\r\n    }, \"\");\r\n\r\n    const tbodyRight = state.list.reduce((html, item) => {\r\n        let jobid = Theme.renderOptions(lookup_job, item.jobid, true);\r\n        return html + trTemplateRight(item, editId, deleteId, jobid);\r\n    }, \"\");\r\n\r\n    let jobid = Theme.renderOptions(lookup_job, state.pager.filter.jobid, true);\r\n\r\n    const filter = filterTemplate(jobid);\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [10, 20, 50], search, filter);\r\n\r\n    const tableLeft = tableTemplateLeft(tbodyLeft, editId, deleteId);\r\n    const tableRight = tableTemplateRight(tbodyRight, state.pager);\r\n\r\n    const tab = tabTemplate(key.officeid, xtra);\r\n    const dirty = dirtyTemplate();\r\n    let warning = App.warningTemplate();\r\n    return pageTemplate(xtra, pager, tableLeft, tableRight, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\n\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = App.setPageState(NS, \"pageSize\", pageSize);\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_jobid = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let jobid = (value.length > 0 ? +value : undefined);\r\n    if (jobid == state.pager.filter.jobid)\r\n        return;\r\n    state.pager.filter.jobid = jobid;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\n\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IPagedState;\r\n    clone.list.forEach(item => {\r\n        let id = item.id;\r\n        item.firstname = Misc.fromInputText(`${NS}_firstname_${id}`, item.firstname);\r\n        item.lastname = Misc.fromInputText(`${NS}_lastname_${id}`, item.lastname);\r\n        item.officeid = Misc.fromSelectNumber(`${NS}_officeid_${id}`, item.officeid);\r\n        item.jobid = Misc.fromSelectNumber(`${NS}_jobid_${id}`, item.jobid);\r\n        item.archive = Misc.fromInputCheckbox(`${NS}_archive_${id}`, item.archive);\r\n    })\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n\r\n    let parts = input.id.replace(`${NS}_`, \"\").split(\"_\");\r\n    let field = parts[0];\r\n    let id = +parts[1];\r\n    let record = state.list.find(one => one.id == id);\r\n\r\n    //if (field == \"field_name\") {\r\n    //    record.some_field = null;\r\n    //}\r\n\r\n    App.render();\r\n};\r\n\r\nexport const ondate = (input: HTMLInputElement, eventname: string) => {\r\n    return eventMan(NS, input, eventname);\r\n}\r\n\r\nexport const undo = () => {\r\n    if (isNew) {\r\n        isNew = false;\r\n        fetchedState.list.pop();\r\n    }\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    isDirty = false;\r\n    App.render()\r\n}\r\n\r\nexport const addNew = () => {\r\n    let url = `/staff/new/${key.officeid}/office`;\r\n    return App.GET(url)\r\n        .then((payload) => {\r\n            state.list.push(payload.item);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            isNew = true;\r\n            payload.item._isNew = true;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._isNew);\r\n    if (!html5Valid()) return;\r\n    if (!valid(item)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/staff\", Misc.createBlack(item, blackList))\r\n        .then((key: IKey) => {\r\n            addFilterPlus(key.id);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._editing);\r\n    if (!html5Valid()) return;\r\n    if (!valid(item)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/staff\", Misc.createBlack(item, blackList))\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const selectfordrop = (id: number) => {\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    state.list.find(one => one.id == id)._deleting = true;\r\n    App.render();\r\n}\r\n\r\nexport const drop = () => {\r\n    App.prepareRender();\r\n    let item = state.list.find(one => one._deleting);\r\n    App.DELETE(\"/staff\", { id: item.id, updated: item.updated })\r\n        .then(() => {\r\n            removeFilterPlus(item.id);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const hasChanges = () => {\r\n    return !Misc.same(fetchedState, state);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    isDirty = !Misc.same(fetchedState, getFormState());\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n}\r\n\r\n\r\n\r\nconst clearFilterPlus = () => {\r\n    state.pager.filter.plus = undefined;\r\n    isNew = false;\r\n}\r\n\r\nconst addFilterPlus = (id: number) => {\r\n    if (state.pager.filter.plus)\r\n        state.pager.filter.plus += `,${id}`;\r\n    else\r\n        state.pager.filter.plus = id.toString();\r\n}\r\n\r\nconst removeFilterPlus = (id: number) => {\r\n}\r\n","// File: equipments.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport { tabTemplate, icon, prepareMenu, buildTitle, buildSubtitle } from \"./layout_2\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_equipments\";\r\n\r\ninterface IState {\r\n    totalcount: number\r\n    id: number\r\n    staffid: number\r\n    staffid_text: string\r\n    name: string\r\n    catluid: number\r\n    catluid_text: string\r\n    price: number\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n    plusorder: number\r\n    rn: number\r\n}\r\n\r\ninterface IKey {\r\n    staffid: number\r\n}\r\n\r\ninterface IFilter {\r\n    staffid: number\r\n    catluid: number\r\n}\r\n\r\n\r\n\r\nlet key: IKey;\r\nlet state = <Pager.IPagedList<IState, IFilter>>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 20, sortColumn: \"ID\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet xtra: any;\r\nlet uiSelectedRow: { id: number };\r\n\r\n\r\n\r\nconst filterTemplate = (catluid: string) => {\r\n    let filters: string[] = [];\r\n    filters.push(Theme.renderDropdownFilter(NS, \"catluid\", catluid, i18n(\"CATLUID\")));\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplate = (item: IState, rowNumber: number) => {\r\n    return `\r\n<tr class=\"${isSelectedRow(item.id) ? \"is-selected\" : \"\"}\" onclick=\"${NS}.gotoDetail(${item.id});\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n    <td>${Misc.toStaticText(item.id)}</td>\r\n    <td>${Misc.toStaticText(item.name)}</td>\r\n    <td>${Misc.toStaticText(item.catluid_text)}</td>\r\n    <td>${Misc.toStaticText(item.price)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.archive)}</td>\r\n    <td>${Misc.toStaticText(item.plusorder)}</td>\r\n    <td>${Misc.toStaticText(item.rn)}</td>\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplate = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div class=\"table-container\">\r\n<table class=\"table is-hoverable is-fullwidth\">\r\n    <thead>\r\n        <tr>\r\n            <th></th>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ID\"), \"id\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"NAME\"), \"name\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CATLUID_TEXT\"), \"catluid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PRICE\"), \"price\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ARCHIVE\"), \"archive\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PLUSORDER\"), \"plusorder\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"RN\"), \"rn\", \"ASC\")}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (pager: string, table: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonAddNew(NS, `#/equipment/new/${key.staffid}`, i18n(\"Add New\")));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, i18n(\"equipments title\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"equipments subtitle\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nexport const fetchState = (staffid: number) => {\r\n    Router.registerDirtyExit(null);\r\n    state.pager.filter.staffid = staffid;\r\n    return App.POST(`/equipment/search/${staffid}/staff`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            xtra = payload.xtra;\r\n            key = { staffid };\r\n        })\r\n        .then(Lookup.fetch_cat())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let staffid = +params[0];\r\n    App.prepareRender(NS, i18n(\"equipments\"));\r\n    prepareMenu();\r\n    fetchState(staffid)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"equipments\"));\r\n    App.POST(`/equipment/search/${key.staffid}/staff`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let warning = App.warningTemplate();\r\n    let dirty = \"\";\r\n    const tbody = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplate(item, rowNumber);\r\n    }, \"\");\r\n\r\n    let year = Perm.getCurrentYear();//state.pager.filter.year;\r\n    let lookup_cat = Lookup.get_cat(year);\r\n    let catluid = Theme.renderOptions(lookup_cat, state.pager.filter.catluid, true);\r\n\r\n    const filter = filterTemplate(catluid);\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [20, 50], search, filter);\r\n    const table = tableTemplate(tbody, state.pager);\r\n\r\n    const tab = tabTemplate(key.staffid, xtra);\r\n    return pageTemplate(pager, table, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst setSelectedRow = (id: number) => {\r\n    if (uiSelectedRow == undefined) uiSelectedRow = { id };\r\n    uiSelectedRow.id = id;\r\n};\r\n\r\nconst isSelectedRow = (id: number) => {\r\n    if (uiSelectedRow == undefined) return false;\r\n    return (uiSelectedRow.id == id);\r\n};\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = pageSize;\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_catluid = (element: HTMLSelectElement) => {\r\n    let value = element.options[element.selectedIndex].value;\r\n    let catluid = (value.length > 0 ? +value : undefined);\r\n    if (catluid == state.pager.filter.catluid)\r\n        return;\r\n    state.pager.filter.catluid = catluid;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const gotoDetail = (id: number) => {\r\n    setSelectedRow(id);\r\n    Router.goto(`#/equipment/${id}/${key.staffid}`);\r\n};\r\n","// File: equipment.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport { Calendar } from \"../../_BaseApp/src/theme/calendar\"\r\nimport { Autocomplete } from \"../../_BaseApp/src/theme/autocomplete\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Auth from \"../../_BaseApp/src/auth\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Perm from \"../permission\"\r\nimport { tabTemplate, icon, prepareMenu, ISummary, buildTitle, buildSubtitle } from \"./layout_2\"\r\n\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_equipment\";\r\n\r\ninterface IPayload {\r\n    item: IState\r\n    xtra: ISummary\r\n}\r\n\r\ninterface IKey {\r\n    id: number\r\n}\r\n\r\ninterface IState {\r\n    id: number\r\n    staffid: number\r\n    staffid_text: string\r\n    name: string\r\n    catluid: number\r\n    catluid_text: string\r\n    price: number\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n}\r\n\r\n\r\n\r\nconst blackList = [\"staffid_text\", \"catluid_text\", \"created\", \"updatedby\", \"by\"];\r\n\r\nlet key: IKey;\r\nlet state = <IState>{};\r\nlet fetchedState = <IState>{};\r\nlet xtra: ISummary;\r\nlet isNew = false;\r\nlet isDirty = false;\r\n\r\n\r\n\r\nconst formTemplate = (item: IState, catluid: string) => {\r\n\r\n    return `\r\n${isNew ? `\r\n` : `\r\n    ${Theme.renderStaticField(Misc.toStaticNumber(item.id), i18n(\"ID\"))}\r\n`}\r\n    ${Theme.renderTextField(NS, \"name\", item.name, i18n(\"NAME\"), 50, true)}\r\n    ${Theme.renderDropdownField(NS, \"catluid\", catluid, i18n(\"CATLUID\"))}\r\n    ${Theme.renderNumberField(NS, \"price\", item.price, i18n(\"PRICE\"))}\r\n    ${Theme.renderCheckboxField(NS, \"archive\", item.archive, i18n(\"ARCHIVE\"))}\r\n    ${Theme.renderBlame(item, isNew)}\r\n`;\r\n};\r\n\r\nconst pageTemplate = (item: IState, form: string, tab: string, warning: string, dirty: string) => {\r\n    let canEdit = true;\r\n    let readonly = !canEdit;\r\n\r\n    let canInsert = canEdit && isNew; // && Perm.hasEquipment_CanAddEquipment;\r\n    let canDelete = canEdit && !canInsert; // && Perm.hasEquipment_CanDeleteEquipment;\r\n    let canAdd = canEdit && !canInsert; // && Perm.hasEquipment_CanAddEquipment;\r\n    let canUpdate = canEdit && !isNew;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonCancel(NS));\r\n    if (canInsert) buttons.push(Theme.buttonInsert(NS));\r\n    if (canDelete) buttons.push(Theme.buttonDelete(NS));\r\n    if (canAdd) buttons.push(Theme.buttonAddNew(NS, `#/equipment/new/${state.staffid}`));\r\n    if (canUpdate) buttons.push(Theme.buttonUpdate(NS));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, !isNew ? i18n(\"equipment Details\") : i18n(\"New equipment\"));\r\n    let subtitle = buildSubtitle(xtra, `${i18n(\"Editing equipment\")}: <span>${item.name}</span>`);\r\n\r\n    return `\r\n<form onsubmit=\"return false;\" ${readonly ? \"class='js-readonly'\" : \"\"}>\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n            ${Theme.renderBlame(item, isNew)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-details\", form)}\r\n</div>\r\n</div>\r\n\r\n${Theme.renderModalDelete(`modalDelete_${NS}`, `${NS}.drop()`)}\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, Misc.changes(fetchedState, state)) : \"\");\r\n}\r\n\r\nexport const fetchState = (id: number, staffid: number) => {\r\n    isNew = isNaN(id);\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    return App.GET(`/equipment/${isNew ? `new/${staffid}` : id}/staff`)\r\n        .then((payload: IPayload) => {\r\n            state = payload.item;\r\n            fetchedState = Misc.clone(state) as IState;\r\n            xtra = payload.xtra;\r\n            key = <IKey>{ id };\r\n\r\n\r\n        })\r\n        .then(Lookup.fetch_cat())\r\n\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    let staffid = +params[1];\r\n    App.prepareRender(NS, i18n(\"equipment\"));\r\n    prepareMenu();\r\n    fetchState(id, staffid)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || Object.keys(state).length == 0)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n\r\n    let lookup_cat = Lookup.get_cat(year);\r\n\r\n    let catluid = Theme.renderOptions(lookup_cat, state.catluid, true);\r\n\r\n\r\n\r\n    const form = formTemplate(state, catluid);\r\n\r\n    const tab = tabTemplate(state.staffid, xtra, isNew);\r\n    const dirty = dirtyTemplate();\r\n    const warning = App.warningTemplate();\r\n    return pageTemplate(state, form, tab, warning, dirty);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n\r\n\r\n\r\n    App.setPageTitle(isNew ? i18n(\"New equipment\") : xtra.title);\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IState;\r\n    clone.staffid = Misc.fromSelectNumber(`${NS}_staffid`, state.staffid);\r\n    clone.name = Misc.fromInputText(`${NS}_name`, state.name);\r\n    clone.catluid = Misc.fromSelectNumber(`${NS}_catluid`, state.catluid);\r\n    clone.price = Misc.fromInputNumberNullable(`${NS}_price`, state.price);\r\n    clone.archive = Misc.fromInputCheckbox(`${NS}_archive`, state.archive);\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const cancel = () => {\r\n    Router.goBackOrResume(isDirty);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/equipment\", Misc.createBlack(formState, blackList))\r\n        .then(payload => {\r\n            let newkey = <IKey>payload;\r\n            Misc.toastSuccessSave();\r\n            Router.goto(`#/equipment/${newkey.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = (done = false) => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/equipment\", Misc.createBlack(formState, blackList))\r\n        .then(_ => {\r\n            Misc.toastSuccessSave();\r\n            if (done)\r\n                Router.goto(`#/equipments/${state.staffid}`, 100);\r\n            else\r\n                Router.goto(`#/equipment/${key.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const drop = () => {\r\n    (<any>key).updated = state.updated;\r\n    App.prepareRender();\r\n    App.DELETE(\"/equipment\", key)\r\n        .then(_ => {\r\n            let staffid = state.staffid;\r\n\r\n            Router.goto(`#/equipments/${staffid}`, 250);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    let masterHasChange = !Misc.same(fetchedState, getFormState());\r\n    let inlineHasChange = false;\r\n    isDirty = masterHasChange || inlineHasChange;\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n};\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\n//\r\nimport * as Perm from \"../permission\"\r\nimport * as offices from \"./offices\"\r\nimport * as office from \"./office\"\r\nimport * as staffs from \"./staffs\"\r\nimport * as staff from \"./staff\"\r\nimport * as staffs_2 from \"./staffs_2\"\r\nimport * as staff_2 from \"./staff_2\"\r\nimport * as staffs_3 from \"./staffs_3\"\r\nimport * as staffs_4 from \"./staffs_4\"\r\nimport * as equipments from \"./equipments\"\r\nimport * as equipment from \"./equipment\"\r\n\r\n//\r\n// Global references to application objects. Used for event handlers.\r\n//\r\nwindow[offices.NS] = offices;\r\nwindow[office.NS] = office;\r\nwindow[staffs.NS] = staffs;\r\nwindow[staff.NS] = staff;\r\nwindow[staffs_2.NS] = staffs_2;\r\nwindow[staff_2.NS] = staff_2;\r\nwindow[staffs_3.NS] = staffs_3;\r\nwindow[staffs_4.NS] = staffs_4;\r\nwindow[equipments.NS] = equipments;\r\nwindow[equipment.NS] = equipment;\r\n\r\n\r\n//\r\n// ***** For a brand new main.ts, don't forget to update the root main.ts and add call to startup() *****\r\n//\r\n\r\nexport const startup = () => {\r\n    Router.addRoute(\"^#/offices/?(.*)?$\", offices.fetch);\r\n    Router.addRoute(\"^#/office/?(.*)?$\", office.fetch);\r\n    Router.addRoute(\"^#/staffs_2/?(.*)?$\", staffs_2.fetch);\r\n    Router.addRoute(\"^#/staff_2/?(.*)?$\", staff_2.fetch);\r\n    Router.addRoute(\"^#/staffs_4/?(.*)?$\", staffs_4.fetch);\r\n    Router.addRoute(\"^#/staffs/?(.*)?$\", staffs.fetch);\r\n    Router.addRoute(\"^#/staff/?(.*)?$\", staff.fetch);\r\n    Router.addRoute(\"^#/equipments/?(.*)?$\", equipments.fetch);\r\n    Router.addRoute(\"^#/equipment/?(.*)?$\", equipment.fetch);}\r\n\r\n\r\n\r\n//\r\n// ***** For a brand new main.ts, don't forget to update the root layout.ts and add calls to render() and postRender() *****\r\n//\r\n\r\nexport const render = () => {\r\n    return `\r\n<div>\r\n    ${offices.render()}\r\n    ${office.render()}\r\n    ${staffs.render()}\r\n    ${staff.render()}\r\n    ${staffs_2.render()}\r\n    ${staff_2.render()}\r\n    ${staffs_4.render()}\r\n    ${equipments.render()}\r\n    ${equipment.render()}</div>\r\n`;\r\n}\r\n\r\nexport const postRender = () => {\r\n    offices.postRender();\r\n    office.postRender();\r\n    staffs.postRender();\r\n    staff.postRender();\r\n    staffs_2.postRender();\r\n    staff_2.postRender();\r\n    staffs_4.postRender();\r\n    equipments.postRender();\r\n    equipment.postRender();}\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Perm from \"../permission\"\r\nimport { setOpenedMenu } from \"../layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport interface ISummary {\r\n    title: string\r\n    filecount: number\r\n}\r\n\r\nexport let icon = \"far fa-user\";\r\n\r\nexport const prepareMenu = () => {\r\n    setOpenedMenu(\"Fournisseur-Propriétaires\");\r\n}\r\n\r\nexport const tabTemplate = (id: string, xtra: ISummary, isNew: boolean = false) => {\r\n    let isProprietaires = App.inContext(\"App_proprietaires\");\r\n    let isProprietaire = App.inContext(\"App_proprietaire\");\r\n    let isFiles = window.location.hash.startsWith(\"#/files/proprietaire\");\r\n    let isFile = window.location.hash.startsWith(\"#/file/proprietaire\");\r\n\r\n    let showDetail = !isProprietaires;\r\n    let showFiles = showDetail && xtra;\r\n    let showFile = isFile;\r\n\r\n    return `\r\n<div class=\"tabs is-boxed\">\r\n    <ul>\r\n        <li ${isProprietaires ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/proprietaires\">\r\n                <span class=\"icon\"><i class=\"fas fa-list-ol\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"List\")}</span>\r\n            </a>\r\n        </li>\r\n${showDetail ? `\r\n        <li ${isProprietaire ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/proprietaire/${id}\">\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Proprietaire Details\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n${showFiles ? `\r\n        <li ${isFiles ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/files/proprietaire/${id}\">\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Files\")} (${xtra.filecount})</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n${showFile ? `\r\n        <li ${isFile ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/file/proprietaire/${id}\">\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"File Details\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n\r\n    </ul>\r\n</div>\r\n`;\r\n};\r\n\r\nexport const buildTitle = (xtra: ISummary, defaultText: string) => {\r\n    return xtra?.title ?? defaultText;\r\n}\r\n\r\nexport const buildSubtitle = (xtra: any, defaultText: string) => {\r\n    return xtra?.subtitle ?? defaultText;\r\n}\r\n","// File: proprietaires.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Layout from \"./layout\"\r\nimport { tabTemplate, icon, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_proprietaires\";\r\n\r\ninterface IState {\r\n    totalcount: number\r\n    id: string\r\n    cletri: string\r\n    nom: string\r\n    ausoinsde: string\r\n    rue: string\r\n    ville: string\r\n    paysid: string\r\n    paysid_text: string\r\n    code_postal: string\r\n    telephone: string\r\n    telephone_poste: string\r\n    telecopieur: string\r\n    telephone2: string\r\n    telephone2_desc: string\r\n    telephone2_poste: string\r\n    telephone3: string\r\n    telephone3_desc: string\r\n    telephone3_poste: string\r\n    no_membre: string\r\n    resident: string\r\n    email: string\r\n    www: string\r\n    commentaires: string\r\n    affichercommentaires: boolean\r\n    depotdirect: boolean\r\n    institutionbanquaireid: string\r\n    institutionbanquaireid_text: string\r\n    banque_transit: string\r\n    banque_folio: string\r\n    no_tps: string\r\n    no_tvq: string\r\n    payera: boolean\r\n    payeraid: string\r\n    statut: string\r\n    rep_nom: string\r\n    rep_telephone: string\r\n    rep_telephone_poste: string\r\n    rep_email: string\r\n    enanglais: boolean\r\n    actif: boolean\r\n    mrcproducteurid: number\r\n    paiementmanuel: boolean\r\n    journal: boolean\r\n    recoittps: boolean\r\n    recoittvq: boolean\r\n    modifiertrigger: boolean\r\n    isproducteur: boolean\r\n    istransporteur: boolean\r\n    ischargeur: boolean\r\n    isautre: boolean\r\n    affichercommentairessurpermit: boolean\r\n    pasemissionpermis: boolean\r\n    generique: boolean\r\n    membre_ogc: boolean\r\n    inscrittps: boolean\r\n    inscrittvq: boolean\r\n    isogc: boolean\r\n    rep2_nom: string\r\n    rep2_telephone: string\r\n    rep2_telephone_poste: string\r\n    rep2_email: string\r\n    rep2_commentaires: string\r\n    json: string\r\n}\r\n\r\ninterface IKey {\r\n\r\n}\r\n\r\ninterface IFilter {\r\n    nom: string\r\n}\r\n\r\n\r\n\r\nlet key: IKey;\r\nlet state = <Pager.IPagedList<IState, IFilter>>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 20, sortColumn: \"ID\", sortDirection: \"ASC\", filter: { nom: undefined } }\r\n};\r\nlet xtra: any;\r\nlet uiSelectedRow: { id: string };\r\n\r\n\r\n\r\nconst filterTemplate = () => {\r\n    let filters: string[] = [];\r\n    // TODO (filters textbox)\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplate = (item: IState, rowNumber: number) => {\r\n    return `\r\n<tr class=\"${isSelectedRow(item.id) ? \"is-selected\" : \"\"}\" onclick=\"${NS}.gotoDetail('${item.id}');\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n    <td>${Misc.toStaticText(item.id)}</td>\r\n    <td>${Misc.toStaticText(item.cletri)}</td>\r\n    <td>${Misc.toStaticText(item.nom)}</td>\r\n    <td>${Misc.toStaticText(item.ausoinsde)}</td>\r\n    <td>${Misc.toStaticText(item.rue)}</td>\r\n    <td>${Misc.toStaticText(item.ville)}</td>\r\n    <td>${Misc.toStaticText(item.paysid_text)}</td>\r\n    <td>${Misc.toStaticText(item.code_postal)}</td>\r\n    <td>${Misc.toStaticText(item.telephone)}</td>\r\n    <td>${Misc.toStaticText(item.telephone_poste)}</td>\r\n    <td>${Misc.toStaticText(item.telecopieur)}</td>\r\n    <td>${Misc.toStaticText(item.telephone2)}</td>\r\n    <td>${Misc.toStaticText(item.telephone2_desc)}</td>\r\n    <td>${Misc.toStaticText(item.telephone2_poste)}</td>\r\n    <td>${Misc.toStaticText(item.telephone3)}</td>\r\n    <td>${Misc.toStaticText(item.telephone3_desc)}</td>\r\n    <td>${Misc.toStaticText(item.telephone3_poste)}</td>\r\n    <td>${Misc.toStaticText(item.no_membre)}</td>\r\n    <td>${Misc.toStaticText(item.resident)}</td>\r\n    <td>${Misc.toStaticText(item.email)}</td>\r\n    <td>${Misc.toStaticText(item.www)}</td>\r\n    <td>${Misc.toStaticText(item.commentaires)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.affichercommentaires)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.depotdirect)}</td>\r\n    <td>${Misc.toStaticText(item.institutionbanquaireid_text)}</td>\r\n    <td>${Misc.toStaticText(item.banque_transit)}</td>\r\n    <td>${Misc.toStaticText(item.banque_folio)}</td>\r\n    <td>${Misc.toStaticText(item.no_tps)}</td>\r\n    <td>${Misc.toStaticText(item.no_tvq)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.payera)}</td>\r\n    <td>${Misc.toStaticText(item.payeraid)}</td>\r\n    <td>${Misc.toStaticText(item.statut)}</td>\r\n    <td>${Misc.toStaticText(item.rep_nom)}</td>\r\n    <td>${Misc.toStaticText(item.rep_telephone)}</td>\r\n    <td>${Misc.toStaticText(item.rep_telephone_poste)}</td>\r\n    <td>${Misc.toStaticText(item.rep_email)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.enanglais)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.actif)}</td>\r\n    <td>${Misc.toStaticText(item.mrcproducteurid)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.paiementmanuel)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.journal)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.recoittps)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.recoittvq)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.modifiertrigger)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.isproducteur)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.istransporteur)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.ischargeur)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.isautre)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.affichercommentairessurpermit)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.pasemissionpermis)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.generique)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.membre_ogc)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.inscrittps)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.inscrittvq)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.isogc)}</td>\r\n    <td>${Misc.toStaticText(item.rep2_nom)}</td>\r\n    <td>${Misc.toStaticText(item.rep2_telephone)}</td>\r\n    <td>${Misc.toStaticText(item.rep2_telephone_poste)}</td>\r\n    <td>${Misc.toStaticText(item.rep2_email)}</td>\r\n    <td>${Misc.toStaticText(item.rep2_commentaires)}</td>\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplate = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div class=\"table-container\">\r\n<table class=\"table is-hoverable is-fullwidth\">\r\n    <thead>\r\n        <tr>\r\n            <th></th>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ID\"), \"id\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CLETRI\"), \"cletri\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"NOM\"), \"nom\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"AUSOINSDE\"), \"ausoinsde\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"RUE\"), \"rue\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"VILLE\"), \"ville\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PAYSID_TEXT\"), \"paysid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CODE_POSTAL\"), \"code_postal\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"TELEPHONE\"), \"telephone\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"TELEPHONE_POSTE\"), \"telephone_poste\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"TELECOPIEUR\"), \"telecopieur\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"TELEPHONE2\"), \"telephone2\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"TELEPHONE2_DESC\"), \"telephone2_desc\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"TELEPHONE2_POSTE\"), \"telephone2_poste\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"TELEPHONE3\"), \"telephone3\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"TELEPHONE3_DESC\"), \"telephone3_desc\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"TELEPHONE3_POSTE\"), \"telephone3_poste\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"NO_MEMBRE\"), \"no_membre\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"RESIDENT\"), \"resident\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"EMAIL\"), \"email\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"WWW\"), \"www\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"COMMENTAIRES\"), \"commentaires\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"AFFICHERCOMMENTAIRES\"), \"affichercommentaires\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"DEPOTDIRECT\"), \"depotdirect\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"INSTITUTIONBANQUAIREID_TEXT\"), \"institutionbanquaireid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"BANQUE_TRANSIT\"), \"banque_transit\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"BANQUE_FOLIO\"), \"banque_folio\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"NO_TPS\"), \"no_tps\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"NO_TVQ\"), \"no_tvq\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PAYERA\"), \"payera\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PAYERAID\"), \"payeraid\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"STATUT\"), \"statut\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"REP_NOM\"), \"rep_nom\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"REP_TELEPHONE\"), \"rep_telephone\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"REP_TELEPHONE_POSTE\"), \"rep_telephone_poste\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"REP_EMAIL\"), \"rep_email\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ENANGLAIS\"), \"enanglais\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ACTIF\"), \"actif\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"MRCPRODUCTEURID\"), \"mrcproducteurid\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PAIEMENTMANUEL\"), \"paiementmanuel\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"JOURNAL\"), \"journal\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"RECOITTPS\"), \"recoittps\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"RECOITTVQ\"), \"recoittvq\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"MODIFIERTRIGGER\"), \"modifiertrigger\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ISPRODUCTEUR\"), \"isproducteur\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ISTRANSPORTEUR\"), \"istransporteur\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ISCHARGEUR\"), \"ischargeur\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ISAUTRE\"), \"isautre\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"AFFICHERCOMMENTAIRESSURPERMIT\"), \"affichercommentairessurpermit\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PASEMISSIONPERMIS\"), \"pasemissionpermis\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"GENERIQUE\"), \"generique\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"MEMBRE_OGC\"), \"membre_ogc\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"INSCRITTPS\"), \"inscrittps\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"INSCRITTVQ\"), \"inscrittvq\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ISOGC\"), \"isogc\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"REP2_NOM\"), \"rep2_nom\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"REP2_TELEPHONE\"), \"rep2_telephone\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"REP2_TELEPHONE_POSTE\"), \"rep2_telephone_poste\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"REP2_EMAIL\"), \"rep2_email\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"REP2_COMMENTAIRES\"), \"rep2_commentaires\", \"ASC\")}\r\n            ${Pager.headerLink(i18n(\"TODO\"))}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (pager: string, table: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonAddNew(NS, \"#/proprietaire/new\", i18n(\"Add New\")));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, i18n(\"fournisseurs title\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"fournisseurs subtitle\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nexport const fetchState = (id: string) => {\r\n    Router.registerDirtyExit(null);\r\n    return App.POST(\"/fournisseur/search\", state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            xtra = payload.xtra;\r\n            key = {};\r\n        })\r\n        .then(Lookup.fetch_pays())\r\n        .then(Lookup.fetch_institutionBanquaire())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = params[0];\r\n    App.prepareRender(NS, i18n(\"fournisseurs\"));\r\n    fetchState(id)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"fournisseurs\"));\r\n    App.POST(\"/fournisseur/search\", state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let warning = App.warningTemplate();\r\n    let dirty = \"\";\r\n    const tbody = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplate(item, rowNumber);\r\n    }, \"\");\r\n\r\n    let year = Perm.getCurrentYear();//state.pager.filter.year;\r\n\r\n\r\n\r\n    const filter = filterTemplate();\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [20, 50], search, filter);\r\n    const table = tableTemplate(tbody, state.pager);\r\n\r\n    const tab = tabTemplate(null, null);\r\n    return pageTemplate(pager, table, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst setSelectedRow = (id: string) => {\r\n    if (uiSelectedRow == undefined) uiSelectedRow = { id };\r\n    uiSelectedRow.id = id;\r\n};\r\n\r\nconst isSelectedRow = (id: string) => {\r\n    if (uiSelectedRow == undefined) return false;\r\n    return (uiSelectedRow.id == id);\r\n};\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = pageSize;\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const filter_nom = (element: HTMLInputElement) => {\r\n    // TODO (filterDef)\r\n};\r\n\r\nexport const gotoDetail = (id: string) => {\r\n    setSelectedRow(id);\r\n    Router.goto(`#/proprietaire/${id}`);\r\n};\r\n","// File: lots2.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Layout from \"./layout\"\r\nimport { tabTemplate, icon } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_lots2\";\r\nconst table_id = \"lots2_table\";\r\n\r\ninterface IState {\r\n    _editing: boolean\r\n    _deleting: boolean\r\n    _isNew: boolean\r\n    totalcount: number\r\n    cantonid: string\r\n    cantonid_text: string\r\n    rang: string\r\n    lot: string\r\n    municipaliteid: string\r\n    municipaliteid_text: string\r\n    superficie_total: number\r\n    superficie_boisee: number\r\n    proprietaireid: string\r\n    proprietaireid_text: string\r\n    contingentid: string\r\n    contingentid_text: string\r\n    contingent_date: Date\r\n    droit_coupeid: string\r\n    droit_coupeid_text: string\r\n    droit_coupe_date: Date\r\n    entente_paiementid: string\r\n    entente_paiementid_text: string\r\n    entente_paiement_date: Date\r\n    actif: boolean\r\n    id: number\r\n    sequence: string\r\n    partie: boolean\r\n    matricule: string\r\n    zoneid: string\r\n    zoneid_text: string\r\n    secteur: string\r\n    cadastre: number\r\n    reforme: boolean\r\n    lotscomplementaires: string\r\n    certifie: boolean\r\n    numerocertification: string\r\n    ogc: boolean\r\n}\r\n\r\ninterface IKey {\r\n    proprietaireid: string\r\n}\r\n\r\ninterface IFilter {\r\n\r\n}\r\n\r\ninterface IPagedState extends Pager.IPagedList<IState, IFilter> { }\r\n\r\nconst blackList = [\"_editing\", \"_deleting\", \"_isNew\", \"totalcount\", \"cantonid_text\", \"municipaliteid_text\", \"proprietaireid_text\", \"contingentid_text\", \"droit_coupeid_text\", \"entente_paiementid_text\", \"zoneid_text\"];\r\n\r\n\r\nlet key: IKey;\r\nlet state = <IPagedState>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 1000, sortColumn: \"ID\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet fetchedState = <IPagedState>{};\r\nlet isNew = false;\r\nlet callerNS: string;\r\nlet isAddingNewParent = false;\r\n\r\n\r\nconst trTemplate = (item: IState, editId: number, deleteId: number, rowNumber: number, cantonid: string, municipaliteid: string, contingentid: string, droit_coupeid: string, entente_paiementid: string, zoneid: string) => {\r\n    let id = item.id;\r\n\r\n    let tdConfirm = `<td class=\"js-td-33\">&nbsp;</td>`;\r\n    if (item._editing) tdConfirm = `<td onclick=\"${NS}.save()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._deleting) tdConfirm = `<td onclick=\"${NS}.drop()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._isNew) tdConfirm = `<td onclick=\"${NS}.create()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n\r\n    let clickUndo = item._editing || item._deleting || item._isNew;\r\n    let markDeletion = !clickUndo;\r\n\r\n    let readonly = (deleteId != undefined) || (editId != undefined && id != editId) || (isNew && !item._isNew);\r\n\r\n    let classList: string[] = [];\r\n    if (item._editing || item._isNew) classList.push(\"js-not-same\");\r\n    if (item._deleting) classList.push(\"js-strikeout\");\r\n    if (item._isNew) classList.push(\"js-new\");\r\n    if (readonly) classList.push(\"js-readonly\");\r\n\r\n    return `\r\n<tr data-id=\"${id}\" class=\"${classList.join(\" \")}\" style=\"cursor: pointer;\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n\r\n${markDeletion ? `<td onclick=\"${NS}.selectfordrop(${id})\" class=\"has-text-danger js-td-33 js-drop\" title=\"Click to mark for deletion\"><i class='fas fa-times'></i></td>` : ``}\r\n${clickUndo ? `<td onclick=\"${NS}.undo()\" class=\"has-text-primary js-td-33\" title=\"Click to undo\"><i class='fa fa-undo'></i></td>` : ``}\r\n${tdConfirm}\r\n\r\n${!readonly ? `\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `cantonid_${id}`, cantonid)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `rang_${id}`, item.rang, 25)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `lot_${id}`, item.lot, 6)}</td>\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `municipaliteid_${id}`, municipaliteid)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderDecimalInline(NS, `superficie_total_${id}`, item.superficie_total, <Theme.IOptNumber>{ required: true, places: 1, min: 0 })}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderDecimalInline(NS, `superficie_boisee_${id}`, item.superficie_boisee, <Theme.IOptNumber>{ required: true, places: 1, min: 0 })}</td>\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `contingentid_${id}`, contingentid)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderDateInline(NS, `contingent_date_${id}`, item.contingent_date, <Theme.IOptDate>{ required: false })}</td>\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `droit_coupeid_${id}`, droit_coupeid)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderDateInline(NS, `droit_coupe_date_${id}`, item.droit_coupe_date, <Theme.IOptDate>{ required: false })}</td>\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `entente_paiementid_${id}`, entente_paiementid)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderDateInline(NS, `entente_paiement_date_${id}`, item.entente_paiement_date, <Theme.IOptDate>{ required: false })}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderCheckboxInline(NS, `actif_${id}`, item.actif)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `sequence_${id}`, item.sequence, 6)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderCheckboxInline(NS, `partie_${id}`, item.partie)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `matricule_${id}`, item.matricule, 20)}</td>\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `zoneid_${id}`, zoneid)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `secteur_${id}`, item.secteur, 2)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderNumberInline(NS, `cadastre_${id}`, item.cadastre)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderCheckboxInline(NS, `reforme_${id}`, item.reforme)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `lotscomplementaires_${id}`, item.lotscomplementaires, 255)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderCheckboxInline(NS, `certifie_${id}`, item.certifie)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `numerocertification_${id}`, item.numerocertification, 50)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderCheckboxInline(NS, `ogc_${id}`, item.ogc)}</td>\r\n` : `\r\n    <td>${Misc.toStaticText(item.cantonid_text)}</td>\r\n    <td>${Misc.toStaticText(item.rang)}</td>\r\n    <td>${Misc.toStaticText(item.lot)}</td>\r\n    <td>${Misc.toStaticText(item.municipaliteid_text)}</td>\r\n    <td>${Misc.toStaticText(item.superficie_total)}</td>\r\n    <td>${Misc.toStaticText(item.superficie_boisee)}</td>\r\n    <td>${Misc.toStaticText(item.contingentid_text)}</td>\r\n    <td>${Misc.toInputDate(item.contingent_date)}</td>\r\n    <td>${Misc.toStaticText(item.droit_coupeid_text)}</td>\r\n    <td>${Misc.toInputDate(item.droit_coupe_date)}</td>\r\n    <td>${Misc.toStaticText(item.entente_paiementid_text)}</td>\r\n    <td>${Misc.toInputDate(item.entente_paiement_date)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.actif)}</td>\r\n    <td>${Misc.toStaticText(item.sequence)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.partie)}</td>\r\n    <td>${Misc.toStaticText(item.matricule)}</td>\r\n    <td>${Misc.toStaticText(item.zoneid_text)}</td>\r\n    <td>${Misc.toStaticText(item.secteur)}</td>\r\n    <td>${Misc.toStaticText(item.cadastre)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.reforme)}</td>\r\n    <td>${Misc.toStaticText(item.lotscomplementaires)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.certifie)}</td>\r\n    <td>${Misc.toStaticText(item.numerocertification)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.ogc)}</td>\r\n`}\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplate = (tbody: string, editId: number, deleteId: number) => {\r\n    let disableAddNew = (deleteId != undefined || editId != undefined || isNew);\r\n\r\n    return `\r\n<div id=\"${table_id}\" class=\"table-container\">\r\n<table class=\"table is-hoverable js-inline\" style=\"width: 100px; table-layout: fixed;\">\r\n    <thead>\r\n        <tr>\r\n            <th style=\"width:99px\" colspan=\"3\"></th>\r\n            <th style=\"width:100px\">${i18n(\"CANTON\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"RANG\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"LOT\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"MUNICIPALITE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"SUPERFICIE_TOTAL\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"SUPERFICIE_BOISEE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"CONTINGENT\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"CONTINGENT_DATE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"DROIT_COUPE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"DROIT_COUPE_DATE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"ENTENTE_PAIEMENT\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"ENTENTE_PAIEMENT_DATE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"ACTIF\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"SEQUENCE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"PARTIE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"MATRICULE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"ZONE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"SECTEUR\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"CADASTRE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"REFORME\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"LOTSCOMPLEMENTAIRES\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"CERTIFIE\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"NUMEROCERTIFICATION\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"OGC\")}</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n        <tr class=\"js-insert-row ${disableAddNew ? \"js-disabled\" : \"\"}\">\r\n            <td class=\"js-index js-td-33\">*</td>\r\n            <td class=\"has-text-primary js-td-33 js-add\" onclick=\"${NS}.addNew()\" title=\"Click to add a new row\"><i class=\"fas fa-plus\"></i></td>\r\n            <td></td>\r\n            <td colspan=\"24\"></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (table: string) => {\r\n    return `\r\n${Theme.wrapContent(\"js-uc-list\", table)}\r\n`\r\n};\r\n\r\nexport const fetchState = (proprietaireid: string, ownerNS?: string) => {\r\n    isAddingNewParent = (proprietaireid == \"new\");\r\n    callerNS = ownerNS || callerNS;\r\n    isNew = false;\r\n    return App.POST(`/lot/search/${proprietaireid}`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            key = { proprietaireid };\r\n        })\r\n        .then(Lookup.fetch_canton())\r\n        .then(Lookup.fetch_municipalite())\r\n        .then(Lookup.fetch_contingent())\r\n        .then(Lookup.fetch_droit_coupe())\r\n        .then(Lookup.fetch_entente_paiement())\r\n        .then(Lookup.fetch_zone())\r\n};\r\n\r\nexport const preRender = () => {\r\n};\r\n\r\nexport const render = () => {\r\n    if (isAddingNewParent) return \"\";\r\n\r\n    let editId: number;\r\n    let deleteId: number;\r\n    state.list.forEach((item, index) => {\r\n        let prevItem = fetchedState.list[index];\r\n        item._editing = !Misc.same(item, prevItem);\r\n        if (item._editing) editId = item.id;\r\n        if (item._deleting) deleteId = item.id;\r\n    });\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n\r\n    let lookup_canton = Lookup.get_canton(year);\r\n    let lookup_municipalite = Lookup.get_municipalite(year);\r\n    let lookup_contingent = Lookup.get_contingent(year);\r\n    let lookup_droit_coupe = Lookup.get_droit_coupe(year);\r\n    let lookup_entente_paiement = Lookup.get_entente_paiement(year);\r\n    let lookup_zone = Lookup.get_zone(year);\r\n\r\n    const tbody = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        let cantonid = Theme.renderOptions(lookup_canton, item.cantonid, true);\r\n        let municipaliteid = Theme.renderOptions(lookup_municipalite, item.municipaliteid, true);\r\n        let contingentid = Theme.renderOptions(lookup_contingent, item.contingentid, true);\r\n        let droit_coupeid = Theme.renderOptions(lookup_droit_coupe, item.droit_coupeid, true);\r\n        let entente_paiementid = Theme.renderOptions(lookup_entente_paiement, item.entente_paiementid, true);\r\n        let zoneid = Theme.renderOptions(lookup_zone, item.zoneid, true);\r\n        return html + trTemplate(item, editId, deleteId, rowNumber, cantonid, municipaliteid, contingentid, droit_coupeid, entente_paiementid, zoneid);\r\n    }, \"\");\r\n\r\n    const table = tableTemplate(tbody, editId, deleteId);\r\n    return pageTemplate(table);\r\n};\r\n\r\nexport const postRender = () => {\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IPagedState;\r\n    clone.list.forEach(item => {\r\n        let id = item.id;\r\n        item.cantonid = Misc.fromSelectText(`${NS}_cantonid_${id}`, item.cantonid);\r\n        item.rang = Misc.fromInputTextNullable(`${NS}_rang_${id}`, item.rang);\r\n        item.lot = Misc.fromInputTextNullable(`${NS}_lot_${id}`, item.lot);\r\n        item.municipaliteid = Misc.fromSelectText(`${NS}_municipaliteid_${id}`, item.municipaliteid);\r\n        item.superficie_total = Misc.fromInputNumberNullable(`${NS}_superficie_total_${id}`, item.superficie_total);\r\n        item.superficie_boisee = Misc.fromInputNumberNullable(`${NS}_superficie_boisee_${id}`, item.superficie_boisee);\r\n        item.proprietaireid = Misc.fromSelectText(`${NS}_proprietaireid_${id}`, item.proprietaireid);\r\n        item.contingentid = Misc.fromSelectText(`${NS}_contingentid_${id}`, item.contingentid);\r\n        item.contingent_date = Misc.fromInputDateNullable(`${NS}_contingent_date_${id}`, item.contingent_date);\r\n        item.droit_coupeid = Misc.fromSelectText(`${NS}_droit_coupeid_${id}`, item.droit_coupeid);\r\n        item.droit_coupe_date = Misc.fromInputDateNullable(`${NS}_droit_coupe_date_${id}`, item.droit_coupe_date);\r\n        item.entente_paiementid = Misc.fromSelectText(`${NS}_entente_paiementid_${id}`, item.entente_paiementid);\r\n        item.entente_paiement_date = Misc.fromInputDateNullable(`${NS}_entente_paiement_date_${id}`, item.entente_paiement_date);\r\n        item.actif = Misc.fromInputCheckbox(`${NS}_actif_${id}`, item.actif);\r\n        item.sequence = Misc.fromInputTextNullable(`${NS}_sequence_${id}`, item.sequence);\r\n        item.partie = Misc.fromInputCheckbox(`${NS}_partie_${id}`, item.partie);\r\n        item.matricule = Misc.fromInputTextNullable(`${NS}_matricule_${id}`, item.matricule);\r\n        item.zoneid = Misc.fromSelectText(`${NS}_zoneid_${id}`, item.zoneid);\r\n        item.secteur = Misc.fromInputTextNullable(`${NS}_secteur_${id}`, item.secteur);\r\n        item.cadastre = Misc.fromInputNumberNullable(`${NS}_cadastre_${id}`, item.cadastre);\r\n        item.reforme = Misc.fromInputCheckbox(`${NS}_reforme_${id}`, item.reforme);\r\n        item.lotscomplementaires = Misc.fromInputTextNullable(`${NS}_lotscomplementaires_${id}`, item.lotscomplementaires);\r\n        item.certifie = Misc.fromInputCheckbox(`${NS}_certifie_${id}`, item.certifie);\r\n        item.numerocertification = Misc.fromInputTextNullable(`${NS}_numerocertification_${id}`, item.numerocertification);\r\n        item.ogc = Misc.fromInputCheckbox(`${NS}_ogc_${id}`, item.ogc);\r\n    })\r\n    return clone;\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${callerNS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const undo = () => {\r\n    if (isNew) {\r\n        isNew = false;\r\n        fetchedState.list.pop();\r\n    }\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    App.render()\r\n}\r\n\r\nexport const addNew = () => {\r\n    let url = `/lot/new/${key.proprietaireid}`;\r\n    return App.GET(url)\r\n        .then((payload: IState) => {\r\n            state.list.push(payload);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            isNew = true;\r\n            payload._isNew = true;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._isNew);\r\n    if (!html5Valid()) return;\r\n    App.prepareRender();\r\n    App.POST(\"/lot\", Misc.createBlack(item, blackList))\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._editing);\r\n    if (!html5Valid()) return;\r\n    App.prepareRender();\r\n    App.PUT(\"/lot\", Misc.createBlack(item, blackList))\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const selectfordrop = (id: number) => {\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    state.list.find(one => one.id == id)._deleting = true;\r\n    App.render();\r\n}\r\n\r\nexport const drop = () => {\r\n    App.prepareRender();\r\n    let item = state.list.find(one => one._deleting);\r\n    App.DELETE(\"/lot\", { id: item.id })\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const hasChanges = () => {\r\n    return !Misc.same(fetchedState, state);\r\n}\r\n","// File: proprietaire.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport { Calendar } from \"../../_BaseApp/src/theme/calendar\"\r\nimport { Autocomplete } from \"../../_BaseApp/src/theme/autocomplete\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Auth from \"../../_BaseApp/src/auth\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Perm from \"../permission\"\r\nimport { tabTemplate, icon, ISummary, buildTitle, buildSubtitle } from \"./layout\"\r\nimport * as app_inline2 from \"./lots2\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_proprietaire\";\r\n\r\ninterface IPayload {\r\n    item: IState\r\n    xtra: ISummary\r\n}\r\n\r\ninterface IKey {\r\n    id: string\r\n}\r\n\r\ninterface IState {\r\n    id: string\r\n    cletri: string\r\n    nom: string\r\n    ausoinsde: string\r\n    rue: string\r\n    ville: string\r\n    paysid: string\r\n    paysid_text: string\r\n    code_postal: string\r\n    telephone: string\r\n    telephone_poste: string\r\n    telecopieur: string\r\n    telephone2: string\r\n    telephone2_desc: string\r\n    telephone2_poste: string\r\n    telephone3: string\r\n    telephone3_desc: string\r\n    telephone3_poste: string\r\n    no_membre: string\r\n    resident: string\r\n    email: string\r\n    www: string\r\n    commentaires: string\r\n    affichercommentaires: boolean\r\n    depotdirect: boolean\r\n    institutionbanquaireid: string\r\n    institutionbanquaireid_text: string\r\n    banque_transit: string\r\n    banque_folio: string\r\n    no_tps: string\r\n    no_tvq: string\r\n    payera: boolean\r\n    payeraid: string\r\n    statut: string\r\n    rep_nom: string\r\n    rep_telephone: string\r\n    rep_telephone_poste: string\r\n    rep_email: string\r\n    enanglais: boolean\r\n    actif: boolean\r\n    mrcproducteurid: number\r\n    paiementmanuel: boolean\r\n    journal: boolean\r\n    recoittps: boolean\r\n    recoittvq: boolean\r\n    modifiertrigger: boolean\r\n    isproducteur: boolean\r\n    istransporteur: boolean\r\n    ischargeur: boolean\r\n    isautre: boolean\r\n    affichercommentairessurpermit: boolean\r\n    pasemissionpermis: boolean\r\n    generique: boolean\r\n    membre_ogc: boolean\r\n    inscrittps: boolean\r\n    inscrittvq: boolean\r\n    isogc: boolean\r\n    rep2_nom: string\r\n    rep2_telephone: string\r\n    rep2_telephone_poste: string\r\n    rep2_email: string\r\n    rep2_commentaires: string\r\n}\r\n\r\nconst blackList = [\"paysid_text\", \"institutionbanquaireid_text\"];\r\n\r\n\r\nlet key: IKey;\r\nlet state = <IState>{};\r\nlet xtra: ISummary;\r\nlet fetchedState = <IState>{};\r\nlet isNew = false;\r\nlet isDirty = false;\r\n\r\n\r\n\r\nconst block_address = (item: IState, paysid: string) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"nom\", item.nom, i18n(\"NOM\"), 40)}\r\n    ${Theme.renderTextField(NS, \"ausoinsde\", item.ausoinsde, i18n(\"AUSOINSDE\"), 30)}\r\n    ${Theme.renderTextField(NS, \"rue\", item.rue, i18n(\"RUE\"), 30)}\r\n    ${Theme.renderTextField(NS, \"ville\", item.ville, i18n(\"VILLE\"), 30)}\r\n    ${Theme.renderDropdownField(NS, \"paysid\", paysid, i18n(\"PAYSID\"))}\r\n    ${Theme.renderTextField(NS, \"code_postal\", item.code_postal, i18n(\"CODE_POSTAL\"), 7)}\r\n`;\r\n}\r\n\r\nconst block_telephone = (item: IState) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"telephone\", item.telephone, i18n(\"TELEPHONE\"), 12)}\r\n    ${Theme.renderTextField(NS, \"telephone_poste\", item.telephone_poste, i18n(\"TELEPHONE_POSTE\"), 4)}\r\n    ${Theme.renderTextField(NS, \"telecopieur\", item.telecopieur, i18n(\"TELECOPIEUR\"), 12)}\r\n\r\n    ${Theme.renderTextField(NS, \"telephone2_desc\", item.telephone2_desc, i18n(\"TELEPHONE2_DESC\"), 20)}\r\n    ${Theme.renderTextField(NS, \"telephone2\", item.telephone2, i18n(\"TELEPHONE2\"), 12)}\r\n    ${Theme.renderTextField(NS, \"telephone2_poste\", item.telephone2_poste, i18n(\"TELEPHONE2_POSTE\"), 4)}\r\n\r\n    ${Theme.renderTextField(NS, \"telephone3_desc\", item.telephone3_desc, i18n(\"TELEPHONE3_DESC\"), 20)}\r\n    ${Theme.renderTextField(NS, \"telephone3\", item.telephone3, i18n(\"TELEPHONE3\"), 12)}\r\n    ${Theme.renderTextField(NS, \"telephone3_poste\", item.telephone3_poste, i18n(\"TELEPHONE3_POSTE\"), 4)}\r\n`;\r\n}\r\n\r\nconst block_ciel = (item: IState) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"statut\", item.statut, i18n(\"STATUT\"), 50)}\r\n    ${Theme.renderTextField(NS, \"resident\", item.resident, i18n(\"RESIDENT\"), 1)}\r\n    ${Theme.renderTextField(NS, \"no_membre\", item.no_membre, i18n(\"NO_MEMBRE\"), 10)}\r\n`;\r\n}\r\n\r\nconst block_internet = (item: IState) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"email\", item.email, i18n(\"EMAIL\"), 80)}\r\n    ${Theme.renderTextField(NS, \"www\", item.www, i18n(\"WWW\"), 80)}\r\n`;\r\n}\r\n\r\nconst block_autres = (item: IState) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"id\", item.id, i18n(\"ID\"), 15, true)}\r\n\r\n    ${Theme.renderCheckboxField(NS, \"isproducteur\", item.isproducteur, i18n(\"ISPRODUCTEUR\"))}\r\n    ${Theme.renderCheckboxField(NS, \"istransporteur\", item.istransporteur, i18n(\"ISTRANSPORTEUR\"))}\r\n    ${Theme.renderCheckboxField(NS, \"ischargeur\", item.ischargeur, i18n(\"ISCHARGEUR\"))}\r\n    ${Theme.renderCheckboxField(NS, \"isogc\", item.isogc, i18n(\"ISOGC\"))}\r\n    ${Theme.renderCheckboxField(NS, \"isautre\", item.isautre, i18n(\"ISAUTRE\"))}\r\n\r\n    ${Theme.renderTextareaField(NS, \"commentaires\", item.commentaires, i18n(\"COMMENTAIRES\"), 255, false, null, 5)}\r\n    ${Theme.renderCheckboxField(NS, \"affichercommentaires\", item.affichercommentaires, i18n(\"AFFICHERCOMMENTAIRES\"))}\r\n    ${Theme.renderCheckboxField(NS, \"affichercommentairessurpermit\", item.affichercommentairessurpermit, i18n(\"AFFICHERCOMMENTAIRESSURPERMIT\"))}\r\n\r\n    ${Theme.renderCheckboxField(NS, \"actif\", item.actif, i18n(\"ACTIF\"))}\r\n    ${Theme.renderCheckboxField(NS, \"journal\", item.journal, i18n(\"JOURNAL\"))}\r\n    ${Theme.renderCheckboxField(NS, \"pasemissionpermis\", item.pasemissionpermis, i18n(\"PASEMISSIONPERMIS\"))}\r\n\r\n    ${Theme.renderCheckboxField(NS, \"enanglais\", item.enanglais, i18n(\"ENANGLAIS\"))}\r\n    ${Theme.renderCheckboxField(NS, \"generique\", item.generique, i18n(\"GENERIQUE\"))}\r\n    ${Theme.renderCheckboxField(NS, \"membre_ogc\", item.membre_ogc, i18n(\"MEMBRE_OGC\"))}\r\n`;\r\n}\r\n\r\nconst block_depotdirect = (item: IState, institutionbanquaireid: string) => {\r\n    return `\r\n    ${Theme.renderCheckboxField(NS, \"depotdirect\", item.depotdirect, i18n(\"DEPOTDIRECT\"))}\r\n\r\n    ${Theme.renderDropdownField(NS, \"institutionbanquaireid\", institutionbanquaireid, i18n(\"INSTITUTIONBANQUAIREID\"))}\r\n    ${Theme.renderTextField(NS, \"banque_transit\", item.banque_transit, i18n(\"BANQUE_TRANSIT\"), 5)}\r\n    ${Theme.renderTextField(NS, \"banque_folio\", item.banque_folio, i18n(\"BANQUE_FOLIO\"), 12)}\r\n\r\n    ${Theme.renderTextField(NS, \"no_tps\", item.no_tps, i18n(\"NO_TPS\"), 25)}\r\n    ${Theme.renderCheckboxField(NS, \"recoittps\", item.recoittps, i18n(\"RECOITTPS\"))}\r\n    ${Theme.renderCheckboxField(NS, \"inscrittps\", item.inscrittps, i18n(\"INSCRITTPS\"))}\r\n\r\n    ${Theme.renderTextField(NS, \"no_tvq\", item.no_tvq, i18n(\"NO_TVQ\"), 25)}\r\n    ${Theme.renderCheckboxField(NS, \"recoittvq\", item.recoittvq, i18n(\"RECOITTVQ\"))}\r\n    ${Theme.renderCheckboxField(NS, \"inscrittvq\", item.inscrittvq, i18n(\"INSCRITTVQ\"))}\r\n\r\n    ${Theme.renderCheckboxField(NS, \"payera\", item.payera, i18n(\"PAYERA\"))}\r\n    ${Theme.renderTextField(NS, \"payeraid\", item.payeraid, i18n(\"PAYERAID\"), 15)}\r\n    ${Theme.renderCheckboxField(NS, \"paiementmanuel\", item.paiementmanuel, i18n(\"PAIEMENTMANUEL\"))}\r\n`;\r\n}\r\n\r\nconst block_representant = (item: IState) => {\r\n    return `\r\n    ${Theme.renderTextField(NS, \"rep_nom\", item.rep_nom, i18n(\"REP_NOM\"), 30)}\r\n    ${Theme.renderTextField(NS, \"rep_telephone\", item.rep_telephone, i18n(\"REP_TELEPHONE\"), 12)}\r\n    ${Theme.renderTextField(NS, \"rep_telephone_poste\", item.rep_telephone_poste, i18n(\"REP_TELEPHONE_POSTE\"), 4)}\r\n    ${Theme.renderTextField(NS, \"rep_email\", item.rep_email, i18n(\"REP_EMAIL\"), 80)}\r\n\r\n    ${Theme.renderTextField(NS, \"rep2_nom\", item.rep2_nom, i18n(\"REP2_NOM\"), 80)}\r\n    ${Theme.renderTextField(NS, \"rep2_telephone\", item.rep2_telephone, i18n(\"REP2_TELEPHONE\"), 12)}\r\n    ${Theme.renderTextField(NS, \"rep2_telephone_poste\", item.rep2_telephone_poste, i18n(\"REP2_TELEPHONE_POSTE\"), 4)}\r\n    ${Theme.renderTextField(NS, \"rep2_email\", item.rep2_email, i18n(\"REP2_EMAIL\"), 80)}\r\n    ${Theme.renderTextareaField(NS, \"rep2_commentaires\", item.rep2_commentaires, i18n(\"REP2_COMMENTAIRES\"), 255, false, null, 3)}\r\n`;\r\n}\r\n\r\nconst block_camions = (item: IState) => {\r\n    return `\r\n`;\r\n}\r\n\r\n\r\nconst formTemplate = (item: IState, paysid: string, institutionbanquaireid: string, inline2: string) => {\r\n    return `\r\n<div class=\"js-float-menu\">\r\n    <ul>\r\n        <li>${Theme.float_menu_button(\"Adresse\")}</li>\r\n        <li>${Theme.float_menu_button(\"Téléphone\")}</li>\r\n        <li>${Theme.float_menu_button(\"Ciel\")}</li>\r\n        <li>${Theme.float_menu_button(\"Internet\")}</li>\r\n        <li>${Theme.float_menu_button(\"Autres\")}</li>\r\n        <li>${Theme.float_menu_button(\"Dépôt direct\")}</li>\r\n        <li>${Theme.float_menu_button(\"Représentant\")}</li>\r\n        <li>${Theme.float_menu_button(\"Camions\")}</li>\r\n        <li>${Theme.float_menu_button(\"Lots\")}</li>\r\n    </ul>\r\n</div>\r\n\r\n<div class=\"columns\">\r\n    <div class=\"column is-8 is-offset-3\">\r\n        ${Theme.wrapFieldset(\"Camions\", block_camions(item))}\r\n        ${Theme.wrapFieldset(\"Lots\", `<h4>Lots propriétaire</h4>${inline2}`)}\r\n        ${Theme.wrapFieldset(\"Adresse\", block_address(item, paysid))}\r\n        ${Theme.wrapFieldset(\"Téléphone\", block_telephone(item))}\r\n        ${Theme.wrapFieldset(\"Ciel\", block_ciel(item))}\r\n        ${Theme.wrapFieldset(\"Internet\", block_internet(item))}\r\n        ${Theme.wrapFieldset(\"Autres\", block_autres(item))}\r\n        ${Theme.wrapFieldset(\"Dépôt direct\", block_depotdirect(item, institutionbanquaireid))}\r\n        ${Theme.wrapFieldset(\"Représentant\", block_representant(item))}\r\n    </div>\r\n</div>\r\n\r\n    ${Theme.renderBlame(item, isNew)}\r\n`;\r\n\r\n//    return `\r\n//    ${Theme.renderNumberField(NS, \"mrcproducteurid\", item.mrcproducteurid, i18n(\"MRCPRODUCTEURID\"))}\r\n//    ${Theme.renderCheckboxField(NS, \"modifiertrigger\", item.modifiertrigger, i18n(\"MODIFIERTRIGGER\"))}\r\n//`;\r\n};\r\n\r\nconst pageTemplate = (item: IState, form: string, tab: string, warning: string, dirty: string) => {\r\n    let canEdit = true;\r\n    let readonly = !canEdit;\r\n\r\n    let canInsert = canEdit && isNew; // && Perm.hasFournisseur_CanAddFournisseur;\r\n    let canDelete = canEdit && !canInsert; // && Perm.hasFournisseur_CanDeleteFournisseur;\r\n    let canAdd = canEdit && !canInsert; // && Perm.hasFournisseur_CanAddFournisseur;\r\n    let canUpdate = canEdit && !isNew;\r\n\r\n    let inline2_dirty = app_inline2.hasChanges();\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonCancel(NS));\r\n    if (canInsert) buttons.push(Theme.buttonInsert(NS));\r\n    if (canDelete) buttons.push(Theme.buttonDelete(NS));\r\n    if (canAdd) buttons.push(Theme.buttonAddNew(NS, \"#/proprietaire/new\"));\r\n    if (canUpdate) buttons.push(Theme.buttonUpdate(NS, inline2_dirty));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, !isNew ? i18n(\"fournisseur Details\") : i18n(\"New fournisseur\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"fournisseur subtitle\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\" ${readonly ? \"class='js-readonly'\" : \"\"}>\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n            ${Theme.renderBlame(item, isNew)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-details\", form)}\r\n</div>\r\n</div>\r\n\r\n${Theme.renderModalDelete(`modalDelete_${NS}`, `${NS}.drop()`)}\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, Misc.changes(fetchedState, state)) : \"\");\r\n}\r\n\r\nexport const fetchState = (id: string) => {\r\n    isNew = (id == \"new\");\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    return App.GET(`/fournisseur/${isNew ? \"new\" : id}`)\r\n        .then((payload: IPayload) => {\r\n            state = payload.item;\r\n            xtra = payload.xtra;\r\n            fetchedState = Misc.clone(state) as IState;\r\n            key = <IKey>{ id };\r\n\r\n\r\n        })\r\n        .then(Lookup.fetch_pays())\r\n        .then(Lookup.fetch_institutionBanquaire())\r\n        .then(() => { return app_inline2.fetchState(id, NS) })\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = params[0];\r\n    App.prepareRender(NS, i18n(\"proprietaire\"));\r\n    fetchState(id)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || Object.keys(state).length == 0)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let year = 2020;// Perm.getCurrentYear(); //or something better\r\n    let lookup_pays = Lookup.get_pays(year);\r\n    let lookup_institutionBanquaire = Lookup.get_institutionBanquaire(year);\r\n\r\n    let paysid = Theme.renderOptions(lookup_pays, state.paysid, true);\r\n    let institutionbanquaireid = Theme.renderOptions(lookup_institutionBanquaire, state.institutionbanquaireid, true);\r\n\r\n    app_inline2.preRender();\r\n    let inline2 = app_inline2.render();\r\n\r\n\r\n    const form = formTemplate(state, paysid, institutionbanquaireid, inline2);\r\n\r\n    const tab = tabTemplate(state.id, xtra, isNew);\r\n    const dirty = dirtyTemplate();\r\n    const warning = App.warningTemplate();\r\n    return pageTemplate(state, form, tab, warning, dirty);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n\r\n    app_inline2.postRender();\r\n\r\n\r\n    App.setPageTitle(isNew ? i18n(\"New proprietaire\") : xtra.title);\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IState;\r\n    clone.cletri = Misc.fromInputTextNullable(`${NS}_cletri`, state.cletri);\r\n    clone.nom = Misc.fromInputTextNullable(`${NS}_nom`, state.nom);\r\n    clone.ausoinsde = Misc.fromInputTextNullable(`${NS}_ausoinsde`, state.ausoinsde);\r\n    clone.rue = Misc.fromInputTextNullable(`${NS}_rue`, state.rue);\r\n    clone.ville = Misc.fromInputTextNullable(`${NS}_ville`, state.ville);\r\n    clone.paysid = Misc.fromSelectText(`${NS}_paysid`, state.paysid);\r\n    clone.code_postal = Misc.fromInputTextNullable(`${NS}_code_postal`, state.code_postal);\r\n    clone.telephone = Misc.fromInputTextNullable(`${NS}_telephone`, state.telephone);\r\n    clone.telephone_poste = Misc.fromInputTextNullable(`${NS}_telephone_poste`, state.telephone_poste);\r\n    clone.telecopieur = Misc.fromInputTextNullable(`${NS}_telecopieur`, state.telecopieur);\r\n    clone.telephone2 = Misc.fromInputTextNullable(`${NS}_telephone2`, state.telephone2);\r\n    clone.telephone2_desc = Misc.fromInputTextNullable(`${NS}_telephone2_desc`, state.telephone2_desc);\r\n    clone.telephone2_poste = Misc.fromInputTextNullable(`${NS}_telephone2_poste`, state.telephone2_poste);\r\n    clone.telephone3 = Misc.fromInputTextNullable(`${NS}_telephone3`, state.telephone3);\r\n    clone.telephone3_desc = Misc.fromInputTextNullable(`${NS}_telephone3_desc`, state.telephone3_desc);\r\n    clone.telephone3_poste = Misc.fromInputTextNullable(`${NS}_telephone3_poste`, state.telephone3_poste);\r\n    clone.no_membre = Misc.fromInputTextNullable(`${NS}_no_membre`, state.no_membre);\r\n    clone.resident = Misc.fromInputTextNullable(`${NS}_resident`, state.resident);\r\n    clone.email = Misc.fromInputTextNullable(`${NS}_email`, state.email);\r\n    clone.www = Misc.fromInputTextNullable(`${NS}_www`, state.www);\r\n    clone.commentaires = Misc.fromInputTextNullable(`${NS}_commentaires`, state.commentaires);\r\n    clone.affichercommentaires = Misc.fromInputCheckbox(`${NS}_affichercommentaires`, state.affichercommentaires);\r\n    clone.depotdirect = Misc.fromInputCheckbox(`${NS}_depotdirect`, state.depotdirect);\r\n    clone.institutionbanquaireid = Misc.fromSelectText(`${NS}_institutionbanquaireid`, state.institutionbanquaireid);\r\n    clone.banque_transit = Misc.fromInputTextNullable(`${NS}_banque_transit`, state.banque_transit);\r\n    clone.banque_folio = Misc.fromInputTextNullable(`${NS}_banque_folio`, state.banque_folio);\r\n    clone.no_tps = Misc.fromInputTextNullable(`${NS}_no_tps`, state.no_tps);\r\n    clone.no_tvq = Misc.fromInputTextNullable(`${NS}_no_tvq`, state.no_tvq);\r\n    clone.payera = Misc.fromInputCheckbox(`${NS}_payera`, state.payera);\r\n    clone.payeraid = Misc.fromInputTextNullable(`${NS}_payeraid`, state.payeraid);\r\n    clone.statut = Misc.fromInputTextNullable(`${NS}_statut`, state.statut);\r\n    clone.rep_nom = Misc.fromInputTextNullable(`${NS}_rep_nom`, state.rep_nom);\r\n    clone.rep_telephone = Misc.fromInputTextNullable(`${NS}_rep_telephone`, state.rep_telephone);\r\n    clone.rep_telephone_poste = Misc.fromInputTextNullable(`${NS}_rep_telephone_poste`, state.rep_telephone_poste);\r\n    clone.rep_email = Misc.fromInputTextNullable(`${NS}_rep_email`, state.rep_email);\r\n    clone.enanglais = Misc.fromInputCheckbox(`${NS}_enanglais`, state.enanglais);\r\n    clone.actif = Misc.fromInputCheckbox(`${NS}_actif`, state.actif);\r\n    clone.mrcproducteurid = Misc.fromInputNumberNullable(`${NS}_mrcproducteurid`, state.mrcproducteurid);\r\n    clone.paiementmanuel = Misc.fromInputCheckbox(`${NS}_paiementmanuel`, state.paiementmanuel);\r\n    clone.journal = Misc.fromInputCheckbox(`${NS}_journal`, state.journal);\r\n    clone.recoittps = Misc.fromInputCheckbox(`${NS}_recoittps`, state.recoittps);\r\n    clone.recoittvq = Misc.fromInputCheckbox(`${NS}_recoittvq`, state.recoittvq);\r\n    clone.modifiertrigger = Misc.fromInputCheckbox(`${NS}_modifiertrigger`, state.modifiertrigger);\r\n    clone.isproducteur = Misc.fromInputCheckbox(`${NS}_isproducteur`, state.isproducteur);\r\n    clone.istransporteur = Misc.fromInputCheckbox(`${NS}_istransporteur`, state.istransporteur);\r\n    clone.ischargeur = Misc.fromInputCheckbox(`${NS}_ischargeur`, state.ischargeur);\r\n    clone.isautre = Misc.fromInputCheckbox(`${NS}_isautre`, state.isautre);\r\n    clone.affichercommentairessurpermit = Misc.fromInputCheckbox(`${NS}_affichercommentairessurpermit`, state.affichercommentairessurpermit);\r\n    clone.pasemissionpermis = Misc.fromInputCheckbox(`${NS}_pasemissionpermis`, state.pasemissionpermis);\r\n    clone.generique = Misc.fromInputCheckbox(`${NS}_generique`, state.generique);\r\n    clone.membre_ogc = Misc.fromInputCheckbox(`${NS}_membre_ogc`, state.membre_ogc);\r\n    clone.inscrittps = Misc.fromInputCheckbox(`${NS}_inscrittps`, state.inscrittps);\r\n    clone.inscrittvq = Misc.fromInputCheckbox(`${NS}_inscrittvq`, state.inscrittvq);\r\n    clone.isogc = Misc.fromInputCheckbox(`${NS}_isogc`, state.isogc);\r\n    clone.rep2_nom = Misc.fromInputTextNullable(`${NS}_rep2_nom`, state.rep2_nom);\r\n    clone.rep2_telephone = Misc.fromInputTextNullable(`${NS}_rep2_telephone`, state.rep2_telephone);\r\n    clone.rep2_telephone_poste = Misc.fromInputTextNullable(`${NS}_rep2_telephone_poste`, state.rep2_telephone_poste);\r\n    clone.rep2_email = Misc.fromInputTextNullable(`${NS}_rep2_email`, state.rep2_email);\r\n    clone.rep2_commentaires = Misc.fromInputTextNullable(`${NS}_rep2_commentaires`, state.rep2_commentaires);\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const cancel = () => {\r\n    Router.goBackOrResume(isDirty);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/fournisseur\", Misc.createBlack(formState, blackList))\r\n        .then(payload => {\r\n            let newkey = <IKey>payload;\r\n            Misc.toastSuccessSave();\r\n            Router.goto(`#/proprietaire/${newkey.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = (done = false) => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/fournisseur\", Misc.createBlack(formState, blackList))\r\n        .then(_ => {\r\n            Misc.toastSuccessSave();\r\n            if (done)\r\n                Router.goto(`#/proprietaires/`, 100);\r\n            else\r\n                Router.goto(`#/proprietaire/${key.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const drop = () => {\r\n    //(<any>key).updatedUtc = state.updatedUtc;\r\n    App.prepareRender();\r\n    App.DELETE(\"/fournisseur\", key)\r\n        .then(_ => {\r\n            Router.goto(`#/proprietaires/`, 250);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    let masterHasChange = !Misc.same(fetchedState, getFormState());\r\n    let detailsHasChange = app_inline2.hasChanges();\r\n    isDirty = masterHasChange || detailsHasChange;\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n};\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\n//\r\nimport * as Perm from \"../permission\"\r\nimport * as proprietaires from \"./proprietaires\"\r\nimport * as proprietaire from \"./proprietaire\"\r\nimport * as lots2 from \"./lots2\"\r\n\r\n\r\n//\r\n// Global references to application objects. Used for event handlers.\r\n//\r\nwindow[proprietaires.NS] = proprietaires;\r\nwindow[proprietaire.NS] = proprietaire;\r\nwindow[lots2.NS] = lots2;\r\n\r\n\r\n\r\n//\r\n// ***** Don't forget to update the root main.ts and add call to startup() *****\r\n//\r\n\r\nexport const startup = () => {\r\n    Router.addRoute(\"^#/proprietaires/?(.*)?$\", proprietaires.fetch);\r\n    Router.addRoute(\"^#/proprietaire/?(.*)?$\", proprietaire.fetch);\r\n}\r\n\r\n\r\n\r\n//\r\n// ***** Don't forget to update the root layout.ts and add calls to render() and postRender() *****\r\n//\r\n\r\nexport const render = () => {\r\n    return `\r\n<div>\r\n    ${proprietaires.render()}\r\n    ${proprietaire.render()}\r\n</div>\r\n`;\r\n}\r\n\r\nexport const postRender = () => {\r\n    proprietaires.postRender();\r\n    proprietaire.postRender();\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Perm from \"../permission\"\r\nimport { setOpenedMenu } from \"../layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport interface ISummary {\r\n    title: string\r\n    filecount: number\r\n}\r\n\r\nexport let icon = \"far fa-user\";\r\n\r\nexport const prepareMenu = () => {\r\n    setOpenedMenu(\"Territoire-Lots\");\r\n}\r\n\r\nexport const tabTemplate = (id: number, xtra: ISummary, isNew: boolean = false) => {\r\n    let isLots = App.inContext(\"App_lots\");\r\n    let isLot = App.inContext(\"App_lot\");\r\n    let isFiles = window.location.hash.startsWith(\"#/files/lot\");\r\n    let isFile = window.location.hash.startsWith(\"#/file/lot\");\r\n\r\n    let showDetail = !isLots;\r\n    let showFiles = showDetail && xtra;\r\n    let showFile = isFile;\r\n\r\n    return `\r\n<div class=\"tabs is-boxed\">\r\n    <ul>\r\n        <li ${isLots ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/lots\">\r\n                <span class=\"icon\"><i class=\"fas fa-list-ol\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"List\")}</span>\r\n            </a>\r\n        </li>\r\n${showDetail ? `\r\n        <li ${isLot ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/lot/${id}\">\r\n                <span class=\"icon\"><i class=\"${icon}\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Lot Details\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n${showFiles ? `\r\n        <li ${isFiles ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/files/lot/${id}\">\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"Files\")} (${xtra.filecount})</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n${showFile ? `\r\n        <li ${isFile ? \"class='is-active'\" : \"\"}>\r\n            <a href=\"#/file/lot/${id}\">\r\n                <span class=\"icon\"><i class=\"far fa-paperclip\" aria-hidden=\"true\"></i></span>\r\n                <span>${i18n(\"File Details\")}</span>\r\n            </a>\r\n        </li>\r\n` : ``}\r\n\r\n    </ul>\r\n</div>\r\n`;\r\n};\r\n\r\nexport const buildTitle = (xtra: ISummary, defaultText: string) => {\r\n    return xtra?.title ?? defaultText;\r\n}\r\n\r\nexport const buildSubtitle = (xtra: any, defaultText: string) => {\r\n    return xtra?.subtitle ?? defaultText;\r\n}\r\n","// File: lots.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Layout from \"./layout\"\r\nimport { tabTemplate, icon, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_lots\";\r\n\r\ninterface IState {\r\n    totalcount: number\r\n    cantonid: string\r\n    cantonid_text: string\r\n    rang: string\r\n    lot: string\r\n    municipaliteid: string\r\n    municipaliteid_text: string\r\n    superficie_total: number\r\n    superficie_boisee: number\r\n    proprietaireid: string\r\n    proprietaireid_text: string\r\n    contingentid: string\r\n    contingentid_text: string\r\n    contingent_date: Date\r\n    droit_coupeid: string\r\n    droit_coupeid_text: string\r\n    droit_coupe_date: Date\r\n    entente_paiementid: string\r\n    entente_paiementid_text: string\r\n    entente_paiement_date: Date\r\n    actif: boolean\r\n    id: number\r\n    sequence: string\r\n    partie: boolean\r\n    matricule: string\r\n    zoneid: string\r\n    zoneid_text: string\r\n    secteur: string\r\n    cadastre: number\r\n    reforme: boolean\r\n    lotscomplementaires: string\r\n    certifie: boolean\r\n    numerocertification: string\r\n    ogc: boolean\r\n    json: string\r\n}\r\n\r\ninterface IKey {\r\n\r\n}\r\n\r\ninterface IFilter {\r\n\r\n}\r\n\r\n\r\n\r\nlet key: IKey;\r\nlet state = <Pager.IPagedList<IState, IFilter>>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 20, sortColumn: \"ID\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet xtra: any;\r\nlet uiSelectedRow: { id: number };\r\n\r\n\r\n\r\nconst filterTemplate = () => {\r\n    let filters: string[] = [];\r\n\r\n    return filters.join(\"\");\r\n}\r\n\r\nconst trTemplate = (item: IState, rowNumber: number) => {\r\n    return `\r\n<tr class=\"${isSelectedRow(item.id) ? \"is-selected\" : \"\"}\" onclick=\"${NS}.gotoDetail(${item.id});\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n    <td>${Misc.toStaticText(item.cantonid_text)}</td>\r\n    <td>${Misc.toStaticText(item.rang)}</td>\r\n    <td>${Misc.toStaticText(item.lot)}</td>\r\n    <td>${Misc.toStaticText(item.municipaliteid_text)}</td>\r\n    <td>${Misc.toStaticText(item.superficie_total)}</td>\r\n    <td>${Misc.toStaticText(item.superficie_boisee)}</td>\r\n    <td>${Misc.toStaticText(item.proprietaireid_text)}</td>\r\n    <td>${Misc.toStaticText(item.contingentid_text)}</td>\r\n    <td>${Misc.toStaticDate(item.contingent_date)}</td>\r\n    <td>${Misc.toStaticText(item.droit_coupeid_text)}</td>\r\n    <td>${Misc.toStaticDate(item.droit_coupe_date)}</td>\r\n    <td>${Misc.toStaticText(item.entente_paiementid_text)}</td>\r\n    <td>${Misc.toStaticDate(item.entente_paiement_date)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.actif)}</td>\r\n    <td>${Misc.toStaticText(item.id)}</td>\r\n    <td>${Misc.toStaticText(item.sequence)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.partie)}</td>\r\n    <td>${Misc.toStaticText(item.matricule)}</td>\r\n    <td>${Misc.toStaticText(item.zoneid_text)}</td>\r\n    <td>${Misc.toStaticText(item.secteur)}</td>\r\n    <td>${Misc.toStaticText(item.cadastre)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.reforme)}</td>\r\n    <td>${Misc.toStaticText(item.lotscomplementaires)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.certifie)}</td>\r\n    <td>${Misc.toStaticText(item.numerocertification)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.ogc)}</td>\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplate = (tbody: string, pager: Pager.IPager<IFilter>) => {\r\n    return `\r\n<div class=\"table-container\">\r\n<table class=\"table is-hoverable is-fullwidth\">\r\n    <thead>\r\n        <tr>\r\n            <th></th>\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CANTONID_TEXT\"), \"cantonid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"RANG\"), \"rang\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"LOT\"), \"lot\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"MUNICIPALITEID_TEXT\"), \"municipaliteid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"SUPERFICIE_TOTAL\"), \"superficie_total\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"SUPERFICIE_BOISEE\"), \"superficie_boisee\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PROPRIETAIREID_TEXT\"), \"proprietaireid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CONTINGENTID_TEXT\"), \"contingentid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CONTINGENT_DATE\"), \"contingent_date\", \"DESC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"DROIT_COUPEID_TEXT\"), \"droit_coupeid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"DROIT_COUPE_DATE\"), \"droit_coupe_date\", \"DESC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ENTENTE_PAIEMENTID_TEXT\"), \"entente_paiementid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ENTENTE_PAIEMENT_DATE\"), \"entente_paiement_date\", \"DESC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ACTIF\"), \"actif\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ID\"), \"id\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"SEQUENCE\"), \"sequence\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"PARTIE\"), \"partie\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"MATRICULE\"), \"matricule\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"ZONEID_TEXT\"), \"zoneid_text\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"SECTEUR\"), \"secteur\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CADASTRE\"), \"cadastre\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"REFORME\"), \"reforme\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"LOTSCOMPLEMENTAIRES\"), \"lotscomplementaires\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"CERTIFIE\"), \"certifie\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"NUMEROCERTIFICATION\"), \"numerocertification\", \"ASC\")}\r\n            ${Pager.sortableHeaderLink(pager, NS, i18n(\"OGC\"), \"ogc\", \"ASC\")}\r\n            ${Pager.headerLink(i18n(\"TODO\"))}\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (pager: string, table: string, tab: string, warning: string, dirty: string) => {\r\n    let readonly = false;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonAddNew(NS, \"#/lot/new\", i18n(\"Add New\")));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, i18n(\"lots title\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"lots subtitle\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\">\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-pager\", pager)}\r\n    ${Theme.wrapContent(\"js-uc-list\", table)}\r\n</div>\r\n</div>\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nexport const fetchState = (id: number) => {\r\n    Router.registerDirtyExit(null);\r\n    return App.POST(\"/lot/search\", state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            xtra = payload.xtra;\r\n            key = {};\r\n        })\r\n        .then(Lookup.fetch_canton())\r\n        .then(Lookup.fetch_municipalite())\r\n        //.then(Lookup.fetch_proprietaire())\r\n        .then(Lookup.fetch_contingent())\r\n        .then(Lookup.fetch_droit_coupe())\r\n        .then(Lookup.fetch_entente_paiement())\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    App.prepareRender(NS, i18n(\"lots\"));\r\n    fetchState(id)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nconst refresh = () => {\r\n    App.prepareRender(NS, i18n(\"lots\"));\r\n    App.POST(\"/lot/search\", state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || state.list == undefined || (state.list instanceof Array) == false)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let warning = App.warningTemplate();\r\n    let dirty = \"\";\r\n    const tbody = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        return html + trTemplate(item, rowNumber);\r\n    }, \"\");\r\n\r\n    let year = Perm.getCurrentYear();//state.pager.filter.year;\r\n\r\n\r\n\r\n    const filter = filterTemplate();\r\n    const search = Pager.searchTemplate(state.pager, NS);\r\n    const pager = Pager.render(state.pager, NS, [20, 50], search, filter);\r\n    const table = tableTemplate(tbody, state.pager);\r\n\r\n    const tab = tabTemplate(null, null);\r\n    return pageTemplate(pager, table, tab, dirty, warning);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst setSelectedRow = (id: number) => {\r\n    if (uiSelectedRow == undefined) uiSelectedRow = { id };\r\n    uiSelectedRow.id = id;\r\n};\r\n\r\nconst isSelectedRow = (id: number) => {\r\n    if (uiSelectedRow == undefined) return false;\r\n    return (uiSelectedRow.id == id);\r\n};\r\n\r\nexport const goto = (pageNo: number, pageSize: number) => {\r\n    state.pager.pageNo = pageNo;\r\n    state.pager.pageSize = pageSize;\r\n    refresh();\r\n};\r\n\r\nexport const sortBy = (columnName: string, direction: string) => {\r\n    state.pager.pageNo = 1;\r\n    state.pager.sortColumn = columnName;\r\n    state.pager.sortDirection = direction;\r\n    refresh();\r\n};\r\n\r\nexport const search = (element) => {\r\n    state.pager.searchText = element.value;\r\n    state.pager.pageNo = 1;\r\n    refresh();\r\n};\r\n\r\nexport const gotoDetail = (id: number) => {\r\n    setSelectedRow(id);\r\n    Router.goto(`#/lot/${id}`);\r\n};\r\n","// File: lot.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport { Calendar } from \"../../_BaseApp/src/theme/calendar\"\r\nimport { Autocomplete } from \"../../_BaseApp/src/theme/autocomplete\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Auth from \"../../_BaseApp/src/auth\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Perm from \"../permission\"\r\nimport { tabTemplate, icon, ISummary, buildTitle, buildSubtitle } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_lot\";\r\n\r\ninterface IPayload {\r\n    item: IState\r\n    xtra: ISummary\r\n}\r\n\r\ninterface IKey {\r\n    id: number\r\n}\r\n\r\ninterface IState {\r\n    cantonid: string\r\n    cantonid_text: string\r\n    rang: string\r\n    lot: string\r\n    municipaliteid: string\r\n    municipaliteid_text: string\r\n    superficie_total: number\r\n    superficie_boisee: number\r\n    proprietaireid: string\r\n    proprietaireid_text: string\r\n    contingentid: string\r\n    contingentid_text: string\r\n    contingent_date: Date\r\n    droit_coupeid: string\r\n    droit_coupeid_text: string\r\n    droit_coupe_date: Date\r\n    entente_paiementid: string\r\n    entente_paiementid_text: string\r\n    entente_paiement_date: Date\r\n    actif: boolean\r\n    id: number\r\n    sequence: string\r\n    partie: boolean\r\n    matricule: string\r\n    zoneid: string\r\n    zoneid_text: string\r\n    secteur: string\r\n    cadastre: number\r\n    reforme: boolean\r\n    lotscomplementaires: string\r\n    certifie: boolean\r\n    numerocertification: string\r\n    ogc: boolean\r\n}\r\n\r\ninterface IState_Fournisseur {\r\n    id: string\r\n    nom: string\r\n    ausoinsde: string\r\n    rue: string\r\n    ville: string\r\n    code_postal: string\r\n    no_membre: string\r\n    email: string\r\n    isproducteur: boolean\r\n    istransporteur: boolean\r\n    ischargeur: boolean\r\n    isautre: boolean\r\n}\r\n\r\n\r\nconst blackList = [\"cantonid_text\", \"municipaliteid_text\", \"proprietaireid_text\", \"contingentid_text\", \"droit_coupeid_text\", \"entente_paiementid_text\", \"zoneid_text\"];\r\n\r\nlet key: IKey;\r\nlet state = <IState>{};\r\nlet fetchedState = <IState>{};\r\nlet xtra: ISummary;\r\nlet isNew = false;\r\nlet isDirty = false;\r\nlet contingent_dateCalendar = new Calendar(`${NS}_contingent_date`);\r\nlet droit_coupe_dateCalendar = new Calendar(`${NS}_droit_coupe_date`);\r\nlet entente_paiement_dateCalendar = new Calendar(`${NS}_entente_paiement_date`);\r\n\r\nlet state_proprietaireid = <Pager.IPagedList<IState_Fournisseur, any>>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 5, sortColumn: \"ID\", sortDirection: \"ASC\", filter: {} }\r\n};\r\nlet proprietaireidAutocomplete = new Autocomplete(NS, \"proprietaireid\", true);\r\nproprietaireidAutocomplete.options = {\r\n    keyTemplate: (one: IState_Fournisseur) => { return `${one.id}` },\r\n    valueTemplate: (one: IState_Fournisseur) => { return `${one.id} - ${one.nom}` },\r\n    detailTemplate: (one: IState_Fournisseur) => { return `<b>${one.id} - ${one.nom}</b>` },\r\n}\r\n\r\nconst formTemplate = (item: IState, cantonid: string, municipaliteid: string, proprietaireid: Autocomplete, contingentid: string, droit_coupeid: string, entente_paiementid: string) => {\r\n    let proprietaireidOption = <Theme.IOpt>{\r\n        addon: (item.proprietaireid ? `<a class=\"button is-text\" href=\"#/proprietaire/${item.proprietaireid}\">Voir</a>` : null),\r\n        required: true\r\n    };\r\n\r\n    return `\r\n\r\n${isNew ? `\r\n` : `\r\n    ${Theme.renderStaticField(Misc.toStaticNumber(item.id), i18n(\"ID\"))}\r\n`}\r\n    ${Theme.renderDropdownField(NS, \"cantonid\", cantonid, i18n(\"CANTONID\"))}\r\n    ${Theme.renderTextField(NS, \"rang\", item.rang, i18n(\"RANG\"), 25)}\r\n    ${Theme.renderTextField(NS, \"lot\", item.lot, i18n(\"LOT\"), 6)}\r\n    ${Theme.renderDropdownField(NS, \"municipaliteid\", municipaliteid, i18n(\"MUNICIPALITEID\"))}\r\n    ${Theme.renderNumberField(NS, \"superficie_total\", item.superficie_total, i18n(\"SUPERFICIE_TOTAL\"))}\r\n    ${Theme.renderNumberField(NS, \"superficie_boisee\", item.superficie_boisee, i18n(\"SUPERFICIE_BOISEE\"))}\r\n    ${Theme.renderAutocompleteField(NS, \"proprietaireid\", proprietaireid, i18n(\"PROPRIETAIREID\"), proprietaireidOption)}\r\n    ${Theme.renderDropdownField(NS, \"contingentid\", contingentid, i18n(\"CONTINGENTID\"))}\r\n    ${Theme.renderCalendarField(NS, \"contingent_date\", contingent_dateCalendar, i18n(\"CONTINGENT_DATE\"))}\r\n    ${Theme.renderDropdownField(NS, \"droit_coupeid\", droit_coupeid, i18n(\"DROIT_COUPEID\"))}\r\n    ${Theme.renderCalendarField(NS, \"droit_coupe_date\", droit_coupe_dateCalendar, i18n(\"DROIT_COUPE_DATE\"))}\r\n    ${Theme.renderDropdownField(NS, \"entente_paiementid\", entente_paiementid, i18n(\"ENTENTE_PAIEMENTID\"))}\r\n    ${Theme.renderCalendarField(NS, \"entente_paiement_date\", entente_paiement_dateCalendar, i18n(\"ENTENTE_PAIEMENT_DATE\"))}\r\n    ${Theme.renderCheckboxField(NS, \"actif\", item.actif, i18n(\"ACTIF\"))}\r\n    ${Theme.renderTextField(NS, \"sequence\", item.sequence, i18n(\"SEQUENCE\"), 6)}\r\n    ${Theme.renderCheckboxField(NS, \"partie\", item.partie, i18n(\"PARTIE\"))}\r\n    ${Theme.renderTextField(NS, \"matricule\", item.matricule, i18n(\"MATRICULE\"), 20)}\r\n    ${Theme.renderTextField(NS, \"secteur\", item.secteur, i18n(\"SECTEUR\"), 2)}\r\n    ${Theme.renderNumberField(NS, \"cadastre\", item.cadastre, i18n(\"CADASTRE\"))}\r\n    ${Theme.renderCheckboxField(NS, \"reforme\", item.reforme, i18n(\"REFORME\"))}\r\n    ${Theme.renderTextareaField(NS, \"lotscomplementaires\", item.lotscomplementaires, i18n(\"LOTSCOMPLEMENTAIRES\"), 255)}\r\n    ${Theme.renderCheckboxField(NS, \"certifie\", item.certifie, i18n(\"CERTIFIE\"))}\r\n    ${Theme.renderTextField(NS, \"numerocertification\", item.numerocertification, i18n(\"NUMEROCERTIFICATION\"), 50)}\r\n    ${Theme.renderCheckboxField(NS, \"ogc\", item.ogc, i18n(\"OGC\"))}\r\n    ${Theme.renderBlame(item, isNew)}\r\n`;\r\n};\r\n\r\nconst pageTemplate = (item: IState, form: string, tab: string, warning: string, dirty: string) => {\r\n    let canEdit = true;\r\n    let readonly = !canEdit;\r\n\r\n    let canInsert = canEdit && isNew; // && Perm.hasLot_CanAddLot;\r\n    let canDelete = canEdit && !canInsert; // && Perm.hasLot_CanDeleteLot;\r\n    let canAdd = canEdit && !canInsert; // && Perm.hasLot_CanAddLot;\r\n    let canUpdate = canEdit && !isNew;\r\n\r\n    let buttons: string[] = [];\r\n    buttons.push(Theme.buttonCancel(NS));\r\n    if (canInsert) buttons.push(Theme.buttonInsert(NS));\r\n    if (canDelete) buttons.push(Theme.buttonDelete(NS));\r\n    if (canAdd) buttons.push(Theme.buttonAddNew(NS, \"#/lot/new\"));\r\n    if (canUpdate) buttons.push(Theme.buttonUpdate(NS));\r\n    let actions = Theme.renderButtons(buttons);\r\n\r\n    let title = buildTitle(xtra, !isNew ? i18n(\"lot Details\") : i18n(\"New lot\"));\r\n    let subtitle = buildSubtitle(xtra, i18n(\"lot subtitle\"));\r\n\r\n    return `\r\n<form onsubmit=\"return false;\" ${readonly ? \"class='js-readonly'\" : \"\"}>\r\n<input type=\"submit\" style=\"display:none;\" id=\"${NS}_dummy_submit\">\r\n\r\n<div class=\"js-fixed-heading\">\r\n<div class=\"js-head\">\r\n    <div class=\"content js-uc-heading js-flex-space\">\r\n        <div>\r\n            <div class=\"title\"><i class=\"${icon}\"></i> <span>${title}</span></div>\r\n            <div class=\"subtitle\">${subtitle}</div>\r\n        </div>\r\n        <div>\r\n            ${Theme.wrapContent(\"js-uc-actions\", actions)}\r\n            ${Theme.renderBlame(item, isNew)}\r\n        </div>\r\n    </div>\r\n    ${Theme.wrapContent(\"js-uc-tabs\", tab)}\r\n</div>\r\n<div class=\"js-body\">\r\n    ${Theme.wrapContent(\"js-uc-notification\", dirty)}\r\n    ${Theme.wrapContent(\"js-uc-notification\", warning)}\r\n    ${Theme.wrapContent(\"js-uc-details\", form)}\r\n</div>\r\n</div>\r\n\r\n${Theme.renderModalDelete(`modalDelete_${NS}`, `${NS}.drop()`)}\r\n\r\n</form>\r\n`;\r\n};\r\n\r\nconst dirtyTemplate = () => {\r\n    return (isDirty ? App.dirtyTemplate(NS, Misc.changes(fetchedState, state)) : \"\");\r\n}\r\n\r\nexport const fetchState = (id: number) => {\r\n    isNew = isNaN(id);\r\n    isDirty = false;\r\n    Router.registerDirtyExit(dirtyExit);\r\n    return App.GET(`/lot/${isNew ? \"new\" : id}`)\r\n        .then((payload: IPayload) => {\r\n            state = payload.item;\r\n            fetchedState = Misc.clone(state) as IState;\r\n            xtra = payload.xtra;\r\n            key = <IKey>{ id };\r\n            contingent_dateCalendar.setState(state.contingent_date);\r\n            droit_coupe_dateCalendar.setState(state.droit_coupe_date);\r\n            entente_paiement_dateCalendar.setState(state.entente_paiement_date);\r\n            proprietaireidAutocomplete.setState(state.proprietaireid, state.proprietaireid_text);\r\n        })\r\n        .then(Lookup.fetch_canton())\r\n        .then(Lookup.fetch_municipalite())\r\n        .then(Lookup.fetch_contingent())\r\n        .then(Lookup.fetch_droit_coupe())\r\n        .then(Lookup.fetch_entente_paiement())\r\n\r\n};\r\n\r\nexport const fetch = (params: string[]) => {\r\n    let id = +params[0];\r\n    App.prepareRender(NS, i18n(\"lot\"));\r\n    fetchState(id)\r\n        .then(App.render)\r\n        .catch(App.render);\r\n};\r\n\r\nexport const render = () => {\r\n    if (!inContext()) return \"\";\r\n    if (App.fatalError()) return App.fatalErrorTemplate();\r\n    if (state == undefined || Object.keys(state).length == 0)\r\n        return App.warningTemplate() || App.unexpectedTemplate();\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n\r\n    let lookup_canton = Lookup.get_canton(year);\r\n    let lookup_municipalite = Lookup.get_municipalite(year);\r\n    let lookup_contingent = Lookup.get_contingent(year);\r\n    let lookup_droit_coupe = Lookup.get_droit_coupe(year);\r\n    let lookup_entente_paiement = Lookup.get_entente_paiement(year);\r\n\r\n    let cantonid = Theme.renderOptions(lookup_canton, state.cantonid, true);\r\n    let municipaliteid = Theme.renderOptions(lookup_municipalite, state.municipaliteid, true);\r\n    let contingentid = Theme.renderOptions(lookup_contingent, state.contingentid, true);\r\n    let droit_coupeid = Theme.renderOptions(lookup_droit_coupe, state.droit_coupeid, true);\r\n    let entente_paiementid = Theme.renderOptions(lookup_entente_paiement, state.entente_paiementid, true);\r\n\r\n    proprietaireidAutocomplete.pagedList = state_proprietaireid;\r\n\r\n    const form = formTemplate(state, cantonid, municipaliteid, proprietaireidAutocomplete, contingentid, droit_coupeid, entente_paiementid);\r\n\r\n    const tab = tabTemplate(state.id, xtra, isNew);\r\n    const dirty = dirtyTemplate();\r\n    const warning = App.warningTemplate();\r\n    return pageTemplate(state, form, tab, warning, dirty);\r\n};\r\n\r\nexport const postRender = () => {\r\n    if (!inContext()) return;\r\n    contingent_dateCalendar.postRender();\r\n    droit_coupe_dateCalendar.postRender();\r\n    entente_paiement_dateCalendar.postRender();\r\n\r\n\r\n    App.setPageTitle(isNew ? i18n(\"New lot\") : xtra.title);\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IState;\r\n    clone.cantonid = Misc.fromSelectText(`${NS}_cantonid`, state.cantonid);\r\n    clone.rang = Misc.fromInputTextNullable(`${NS}_rang`, state.rang);\r\n    clone.lot = Misc.fromInputTextNullable(`${NS}_lot`, state.lot);\r\n    clone.municipaliteid = Misc.fromSelectText(`${NS}_municipaliteid`, state.municipaliteid);\r\n    clone.superficie_total = Misc.fromInputNumberNullable(`${NS}_superficie_total`, state.superficie_total);\r\n    clone.superficie_boisee = Misc.fromInputNumberNullable(`${NS}_superficie_boisee`, state.superficie_boisee);\r\n    clone.proprietaireid = Misc.fromAutocompleteText(`${NS}_proprietaireid`, state.proprietaireid);\r\n    clone.contingentid = Misc.fromSelectText(`${NS}_contingentid`, state.contingentid);\r\n    clone.contingent_date = Misc.fromInputDateNullable(`${NS}_contingent_date`, state.contingent_date);\r\n    clone.droit_coupeid = Misc.fromSelectText(`${NS}_droit_coupeid`, state.droit_coupeid);\r\n    clone.droit_coupe_date = Misc.fromInputDateNullable(`${NS}_droit_coupe_date`, state.droit_coupe_date);\r\n    clone.entente_paiementid = Misc.fromSelectText(`${NS}_entente_paiementid`, state.entente_paiementid);\r\n    clone.entente_paiement_date = Misc.fromInputDateNullable(`${NS}_entente_paiement_date`, state.entente_paiement_date);\r\n    clone.actif = Misc.fromInputCheckbox(`${NS}_actif`, state.actif);\r\n    clone.sequence = Misc.fromInputTextNullable(`${NS}_sequence`, state.sequence);\r\n    clone.partie = Misc.fromInputCheckbox(`${NS}_partie`, state.partie);\r\n    clone.matricule = Misc.fromInputTextNullable(`${NS}_matricule`, state.matricule);\r\n    clone.secteur = Misc.fromInputTextNullable(`${NS}_secteur`, state.secteur);\r\n    clone.cadastre = Misc.fromInputNumberNullable(`${NS}_cadastre`, state.cadastre);\r\n    clone.reforme = Misc.fromInputCheckbox(`${NS}_reforme`, state.reforme);\r\n    clone.lotscomplementaires = Misc.fromInputTextNullable(`${NS}_lotscomplementaires`, state.lotscomplementaires);\r\n    clone.certifie = Misc.fromInputCheckbox(`${NS}_certifie`, state.certifie);\r\n    clone.numerocertification = Misc.fromInputTextNullable(`${NS}_numerocertification`, state.numerocertification);\r\n    clone.ogc = Misc.fromInputCheckbox(`${NS}_ogc`, state.ogc);\r\n    return clone;\r\n};\r\n\r\nconst valid = (formState: IState): boolean => {\r\n    //if (formState.somefield.length == 0) App.setError(\"Somefield is required\");\r\n    return App.hasNoError();\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${NS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const oncalendar = (id: string) => {\r\n    if (contingent_dateCalendar.id == id) contingent_dateCalendar.toggle();\r\n    if (droit_coupe_dateCalendar.id == id) droit_coupe_dateCalendar.toggle();\r\n    if (entente_paiement_dateCalendar.id == id) entente_paiement_dateCalendar.toggle();\r\n};\r\n\r\nexport const onautocomplete = (id: string) => {\r\n    if (proprietaireidAutocomplete.id == id) {\r\n        state_proprietaireid.pager.searchText = proprietaireidAutocomplete.textValue;\r\n        App.POST(\"/fournisseur/search\", state_proprietaireid.pager)\r\n            .then(payload => {\r\n                state_proprietaireid = payload;\r\n            })\r\n            .then(App.render)\r\n    }\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const cancel = () => {\r\n    Router.goBackOrResume(isDirty);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.POST(\"/lot\", Misc.createBlack(formState, blackList))\r\n        .then(payload => {\r\n            let newkey = <IKey>payload;\r\n            Misc.toastSuccessSave();\r\n            Router.goto(`#/lot/${newkey.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = (done = false) => {\r\n    let formState = getFormState();\r\n    if (!html5Valid()) return;\r\n    if (!valid(formState)) return App.render();\r\n    App.prepareRender();\r\n    App.PUT(\"/lot\", Misc.createBlack(formState, blackList))\r\n        .then(_ => {\r\n            Misc.toastSuccessSave();\r\n            if (done)\r\n                Router.goto(`#/lots/`, 100);\r\n            else\r\n                Router.goto(`#/lot/${key.id}`, 10);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const drop = () => {\r\n    //(<any>key).updated = state.updated;\r\n    App.prepareRender();\r\n    App.DELETE(\"/lot\", key)\r\n        .then(_ => {\r\n\r\n            Router.goto(`#/lots/`, 250);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nconst dirtyExit = () => {\r\n    isDirty = !Misc.same(fetchedState, getFormState());\r\n    if (isDirty) {\r\n        setTimeout(() => {\r\n            state = getFormState();\r\n            App.render();\r\n        }, 10);\r\n    }\r\n    return isDirty;\r\n};\r\n","\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\n//\r\nimport * as Perm from \"../permission\"\r\nimport * as lots from \"./lots\"\r\nimport * as lot from \"./lot\"\r\n\r\n\r\n//\r\n// Global references to application objects\r\n// These must match the \"NS\" values defined in modules\r\n// Mainly used for event handlers\r\n//\r\nwindow[lots.NS] = lots;\r\nwindow[lot.NS] = lot;\r\n\r\n\r\nexport const startup = () => {\r\n    Router.addRoute(\"^#/lots/?(.*)?$\", lots.fetch);\r\n    Router.addRoute(\"^#/lot/?(.*)?$\", lot.fetch);\r\n}\r\n\r\nexport const render = () => {\r\n    return `\r\n<div>\r\n    ${lots.render()}\r\n    ${lot.render()}\r\n</div>\r\n`;\r\n}\r\n\r\nexport const postRender = () => {\r\n    lots.postRender();\r\n    lot.postRender();\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"../_BaseApp/src/core/app\"\r\nimport * as Misc from \"../_BaseApp/src/lib-ts/misc\"\r\nimport * as Perm from \"./permission\"\r\nimport * as Main from \"./main\"\r\n\r\n\r\n//\r\n// Modules rendered\r\n// Use these in both render() and postRender()\r\n//\r\nimport * as Home from \"./home\"\r\nimport * as Admin from \"./admin/main\"\r\nimport * as Support from \"./support/main\"\r\nimport * as Christian from \"./christian/main\"\r\nimport * as Fournisseur from \"./fournisseur/main\"\r\nimport * as Territoire from \"./territoire/main\"\r\n\r\n\r\ndeclare const i18n: any;\r\n\r\nexport const NS = \"App_Layout\";\r\n\r\n\r\n\r\nexport const render = () => {\r\n    Main.saveUIState();\r\n\r\n    // Note: Render js-uc-main content first, before renderHeader() and renderAsideMenu(), \r\n    // so they can potentially have an impact over there.\r\n    let ucMain = `\r\n${Home.render()}\r\n${Admin.render()}\r\n${Support.render()}\r\n${Christian.render()}\r\n${Fournisseur.render()}\r\n${Territoire.render()}\r\n`;\r\n\r\n    let menu = menuTemplate(Home.getMenuData());\r\n\r\n    return `\r\n<div class=\"js-layout ${Main.state.menuOpened ? \"\" : \"js-close\"}\">\r\n${renderHeader()}\r\n${renderAsideMenu(menu)}\r\n<section class=\"js-uc-main js-waitable\">\r\n${ucMain}\r\n</section>\r\n</div>\r\n`;\r\n}\r\n\r\nexport const postRender = () => {\r\n    Home.postRender();\r\n    Admin.postRender()\r\n    Support.postRender()\r\n    Christian.postRender()\r\n    Fournisseur.postRender()\r\n    Territoire.postRender()\r\n}\r\n\r\nconst renderHeader = () => {\r\n    return `\r\n<header class=\"js-uc-header\">\r\n\r\n    <div class=\"js-logo\">\r\n        <div class=\"js-bars\">\r\n            <button class=\"button is-primary\" onclick=\"${NS}.menuClick()\">\r\n                <div class=\"icon\"><i class=\"fas fa-bars\"></i></div>\r\n            </button>\r\n        </div>\r\n        <a href=\"#\" onclick=\"${NS}.toggle('opsfms')\">\r\n            <span>Gestion/Paye</span>\r\n        </a>\r\n        <div style=\"width:20px;margin-right:1rem;\">&nbsp;</div>\r\n    </div>\r\n\r\n    <div class=\"js-navbar\">\r\n        <div class=\"js-navbar-items\">\r\n            <div class=\"js-items\">\r\n                <div>\r\n                    <span class=\"has-text-grey-light\">Année courante:</span> <span class=\"has-text-white\">2020</span>\r\n                </div>\r\n            </div>\r\n            <div class=\"js-items\">\r\n                <button class=\"button is-primary\" onclick=\"${NS}.help()\" style=\"font-size:125%\">\r\n                    <span class=\"icon\"><i class=\"fas fa-question-circle\"></i></span>\r\n                </button>\r\n                <div class=\"navbar-item has-dropdown\" onclick=\"${NS}.toggleProfileMenu(this)\">\r\n                    <a class=\"navbar-link\">\r\n                        ${Perm.getEmail()}\r\n                    </a>\r\n                    <div class=\"navbar-dropdown\">\r\n                        <div class=\"navbar-item\">\r\n                            <div><b>${Perm.getName()}</b></div>\r\n                        </div>\r\n                        <div class=\"navbar-item\">\r\n                            <button class=\"button is-fullwidth is-primary\" onclick=\"${NS}.toggleProfileMenu();${NS}.editProfile()\">\r\n                                <i class=\"far fa-user\"></i>&nbsp;&nbsp;Edit Profile\r\n                            </button>\r\n                        </div>\r\n                        <hr class=\"navbar-divider\">\r\n                        <div class=\"navbar-item\">\r\n                            <button class=\"button is-fullwidth is-outlined\" onclick=\"${NS}.toggleProfileMenu();App_Auth.signout();\">\r\n                                <span class=\"icon\"><i class=\"fas fa-sign-out-alt\"></i></span>&nbsp;${i18n(\"Sign out\")}\r\n                            </button>\r\n                        </div>\r\n                        <hr class=\"navbar-divider\">\r\n                        <a href=\"#\" class=\"navbar-item\">\r\n                            <div>Terms of Service</div>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <button class=\"button is-primary\" onclick=\"App_Auth.signout();\">\r\n                    <span class=\"icon\"><i class=\"fas fa-sign-out-alt\"></i></span>&nbsp;${i18n(\"Sign out\")}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</header>`;\r\n}\r\n\r\nconst menuTemplate = (menuItems: Home.IMenuItem[]) => {\r\n    const linkTemplate = (link: Home.ILink) => {\r\n        if (link.hidden || link.noSidebar)\r\n            return \"\";\r\n\r\n        let isDisabled = (link.href == undefined && link.onclick == undefined) && !link.markup;\r\n        let href = (link.href ? link.href : \"#\")\r\n        let isExternal = href.startsWith(\"http\") || link.isExternal;\r\n\r\n        let classes: string[] = [];\r\n        let isActive = (link.ns && App.inContext(link.ns));\r\n        if (isDisabled) classes.push(\"js-disabled\")\r\n        if (isActive) classes.push(\"is-active\")\r\n\r\n        let liClasses = (link.classes ? `class=\"${link.classes}\"` : \"\");\r\n\r\n        if (link.markup)\r\n            return `<li ${liClasses}>${link.markup}</li>`;\r\n        else\r\n            return `<li ${liClasses}><a href=\"${href}\" ${classes.length ? `class=\"${classes.join(\" \")}\"` : ``} ${isExternal ? `target=\"_new\"` : ``} ${link.onclick ? `onclick=\"${link.onclick}\"` : \"\"}>${link.name}</a></li>`;\r\n    }\r\n\r\n    const sectionTemplate = (section: Home.ISection, name: string) => {\r\n        if (section.hidden)\r\n            return \"\";\r\n\r\n        let key = `${name}-${section.name}`;\r\n        let opened = (Main.state.subMenu == key);\r\n        return `\r\n        <li>\r\n            <a onclick=\"${NS}.toggle('${key}')\" class=\"${opened ? \"js-opened\" : \"\"}\">${section.name}</a>\r\n${opened ? `\r\n            <ul>${section.links.filter(one => one.canView == undefined || one.canView).reduce((html, item) => { return html + linkTemplate(item) }, \"\")}</ul>\r\n` : ``}\r\n        </li>\r\n`;\r\n    };\r\n\r\n    const menuItemTemplate = (menuItem: Home.IMenuItem) => {\r\n        return `\r\n    <p class=\"menu-label\">\r\n        <i class=\"${menuItem.icon} fa-2x\"></i> ${menuItem.name}\r\n    </p>\r\n    <ul class=\"menu-list\">\r\n        ${menuItem.sections.filter(one => one.canView == undefined || one.canView).reduce((html, item) => { return html + sectionTemplate(item, menuItem.name) }, \"\")}\r\n    </ul>\r\n`;\r\n    };\r\n\r\n    return menuItems.filter(one => one.canView).reduce((html, item) => { return html + menuItemTemplate(item) }, \"\");\r\n}\r\n\r\nconst renderAsideMenu = (menu: string) => {\r\n    return `\r\n<aside class=\"menu has-background-black-ter js-uc-aside\">\r\n    <div class=\"js-wrapper\">\r\n        <ul class=\"menu-list\">\r\n            <li><a href=\"#\" class=\"${isActive(Home.NS)}\" onclick=\"${NS}.toggle('home')\"><i class=\"far fa-home\"></i> ${i18n(\"HOME\")}</a></li>\r\n        </ul>\r\n        ${menu}\r\n    </div>\r\n</aside>\r\n`;\r\n}\r\n\r\nconst isActive = (ns: string | string[]) => {\r\n    return App.inContext(ns) ? \"is-active\" : \"\";\r\n}\r\n\r\nexport const menuClick = () => {\r\n    Main.state.menuOpened = !Main.state.menuOpened;\r\n    Main.saveUIState();\r\n    App.render();\r\n}\r\n\r\nexport const toggle = (entry: string) => {\r\n    Main.state.subMenu = (Main.state.subMenu == entry ? \"\" : entry);\r\n    App.render();\r\n}\r\n\r\nexport const setOpenedMenu = (entry: string) => {\r\n    Main.state.subMenu = entry;\r\n}\r\n\r\nexport const editProfile = () => {\r\n    //Profile.fetch([Perm.getUID().toString()]);\r\n    return false;\r\n}\r\n\r\nexport const toggleProfileMenu = (element: HTMLElement) => {\r\n    if (element) element.classList.toggle(\"is-active\");\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"../_BaseApp/src/core/app\"\r\nimport * as BaseMain from \"../_BaseApp/src/main\"\r\nimport * as Theme from \"../_BaseApp/src/theme/theme\"\r\nimport * as LatLong from \"../_BaseApp/src/theme/latlong\"\r\n//\r\nimport { fr_CA } from \"./fr-CA\"\r\nimport * as Perm from \"./permission\"\r\nimport * as Layout from \"./layout\"\r\nimport * as Home from \"./home\"\r\n//\r\nimport * as AdminMain from \"./admin/main\"\r\nimport * as SupportMain from \"./support/main\"\r\nimport * as ChristianMain from \"./christian/main\"\r\nimport * as FournisseurMain from \"./fournisseur/main\"\r\nimport * as TerritoireMain from \"./territoire/main\"\r\n//\r\n//import \"time-input-polyfill/auto\"\r\n\r\n\r\ndeclare const i18n: any;\r\n\r\ninterface IState {\r\n    menuOpened: boolean\r\n    subMenu: string\r\n}\r\n\r\nexport let state: IState;\r\n\r\n\r\n//\r\n// Global references to application objects\r\n// Mainly used for event handlers\r\n//\r\nwindow[\"App\"] = App;\r\nwindow[Theme.NS] = Theme;\r\nwindow[LatLong.NS] = LatLong;\r\nwindow[Layout.NS] = Layout;\r\nwindow[Home.NS] = Home;\r\n\r\n\r\n// Loader\r\nif (window.parent != window) (<any>window.parent).stopLoader();\r\n\r\n// Language files\r\nlet html_lang = document.documentElement.lang;\r\ni18n.translator.add(fr_CA);\r\n\r\n\r\nexport const startup = (hasPublicHomePage = false) => {\r\n    let main = BaseMain.startup(hasPublicHomePage, Layout, Theme);\r\n    let router = main.router;\r\n\r\n    // Routing table\r\n    router.addRoute(\"^#/?$\", Home.fetch);\r\n\r\n    router.registerHashChanged((hash: string) => {\r\n        if (hash.startsWith(\"#/signin\")) {\r\n            Home.clearMenuData();\r\n        }\r\n    });\r\n\r\n    AdminMain.startup();\r\n    SupportMain.startup();\r\n    ChristianMain.startup();\r\n    FournisseurMain.startup();\r\n    TerritoireMain.startup();\r\n\r\n    loadUIState();\r\n}\r\n\r\nexport const loadUIState = () => {\r\n    let uid = Perm.getUID();\r\n    let key = (uid != undefined ? `home-state:${uid}` : \"home-state\");\r\n    state = JSON.parse(localStorage.getItem(key)) as IState;\r\n    if (state == undefined) {\r\n        state = <IState>{\r\n            menuOpened: true,\r\n            subMenu: \"\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const saveUIState = () => {\r\n    let uid = Perm.getUID();\r\n    let key = (uid != undefined ? `home-state:${uid}` : \"home-state\")\r\n    localStorage.setItem(key, JSON.stringify(state));\r\n}\r\n","\"use strict\"\r\n\r\nimport * as App from \"../_BaseApp/src/core/app\"\r\nimport * as Router from \"../_BaseApp/src/core/router\"\r\nimport * as main from \"./main\"\r\nimport * as Perm from \"./permission\"\r\n\r\n\r\n\r\n//\r\n// Startup code\r\n//\r\nmain.startup();\r\n","// File: commitcbeff.ts\r\n\r\n\"use strict\"\r\n\r\nimport * as App from \"../../_BaseApp/src/core/app\"\r\nimport * as Router from \"../../_BaseApp/src/core/router\"\r\nimport * as Perm from \"../permission\"\r\nimport * as Misc from \"../../_BaseApp/src/lib-ts/misc\"\r\nimport * as Theme from \"../../_BaseApp/src/theme/theme\"\r\nimport * as Pager from \"../../_BaseApp/src/theme/pager\"\r\nimport * as Lookup from \"../admin/lookupdata\"\r\nimport * as Layout from \"./layout\"\r\nimport { tabTemplate, icon } from \"./layout\"\r\n\r\ndeclare const i18n: any;\r\n\r\n\r\nexport const NS = \"App_commitcbeff\";\r\nconst table_id = \"commitcbeff_table\";\r\n\r\ninterface IState {\r\n    _editing: boolean\r\n    _deleting: boolean\r\n    _isNew: boolean\r\n    totalcount: number\r\n    id: number\r\n    year: number\r\n    regionluid: number\r\n    regionluid_code: string\r\n    regionluid_text: string\r\n    details: string\r\n    monthpaid: string\r\n    paid: boolean\r\n    amount: number\r\n    comment: string\r\n    archive: boolean\r\n    created: Date\r\n    updated: Date\r\n    updatedby: number\r\n    by: string\r\n    plusorder: number\r\n    rn: number\r\n}\r\n\r\ninterface IKey {\r\n\r\n}\r\n\r\ninterface IFilter {\r\n    year: number\r\n    regionluid: number\r\n}\r\n\r\ninterface IPagedState extends Pager.IPagedList<IState, IFilter> { }\r\n\r\nconst blackList = [\"_editing\", \"_deleting\", \"_isNew\", \"totalcount\", \"regionluid_text\"];\r\n\r\n\r\nlet key: IKey;\r\nlet state = <IPagedState>{\r\n    list: [],\r\n    pager: { pageNo: 1, pageSize: 1000, sortColumn: \"ID\", sortDirection: \"ASC\", filter: { year: undefined, regionluid: undefined } }\r\n};\r\nlet fetchedState = <IPagedState>{};\r\nlet isNew = false;\r\nlet callerNS: string;\r\nlet isAddingNewParent = false;\r\n\r\n\r\nconst trTemplate = (item: IState, editId: number, deleteId: number, rowNumber: number, regionluid: string) => {\r\n    let id = item.id;\r\n\r\n    let tdConfirm = `<td class=\"js-td-33\">&nbsp;</td>`;\r\n    if (item._editing) tdConfirm = `<td onclick=\"${NS}.save()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._deleting) tdConfirm = `<td onclick=\"${NS}.drop()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n    if (item._isNew) tdConfirm = `<td onclick=\"${NS}.create()\" class=\"js-td-33\" title=\"Click to confirm\"><i class=\"fa fa-check\"></i></td>`;\r\n\r\n    let clickUndo = item._editing || item._deleting || item._isNew;\r\n    let markDeletion = !clickUndo;\r\n\r\n    let readonly = (deleteId != undefined) || (editId != undefined && id != editId) || (isNew && !item._isNew);\r\n\r\n    let classList: string[] = [];\r\n    if (item._editing || item._isNew) classList.push(\"js-not-same\");\r\n    if (item._deleting) classList.push(\"js-strikeout\");\r\n    if (item._isNew) classList.push(\"js-new\");\r\n    if (readonly) classList.push(\"js-readonly\");\r\n\r\n    return `\r\n<tr data-id=\"${id}\" class=\"${classList.join(\" \")}\" style=\"cursor: pointer;\">\r\n    <td class=\"js-index\">${rowNumber}</td>\r\n\r\n${markDeletion ? `<td onclick=\"${NS}.selectfordrop(${id})\" class=\"has-text-danger js-td-33 js-drop\" title=\"Click to mark for deletion\"><i class='fas fa-times'></i></td>` : ``}\r\n${clickUndo ? `<td onclick=\"${NS}.undo()\" class=\"has-text-primary js-td-33\" title=\"Click to undo\"><i class='fa fa-undo'></i></td>` : ``}\r\n${tdConfirm}\r\n\r\n${!readonly ? `\r\n    <td class=\"js-inline-input\">${Theme.renderNumberInline(NS, `year_${id}`, item.year, true)}</td>\r\n    <td class=\"js-inline-select\">${Theme.renderDropdownInline(NS, `regionluid_${id}`, regionluid, true)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `details_${id}`, item.details, 50)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `monthpaid_${id}`, item.monthpaid, 25)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderCheckboxInline(NS, `paid_${id}`, item.paid)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderNumberInline(NS, `amount_${id}`, item.amount, true)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderTextInline(NS, `comment_${id}`, item.comment, 50)}</td>\r\n    <td class=\"js-inline-input\">${Theme.renderCheckboxInline(NS, `archive_${id}`, item.archive)}</td>\r\n` : `\r\n    <td>${Misc.toStaticText(item.year)}</td>\r\n    <td>${Misc.toStaticText(item.regionluid_text)}</td>\r\n    <td>${Misc.toStaticText(item.details)}</td>\r\n    <td>${Misc.toStaticText(item.monthpaid)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.paid)}</td>\r\n    <td>${Misc.toStaticText(item.amount)}</td>\r\n    <td>${Misc.toStaticText(item.comment)}</td>\r\n    <td>${Misc.toStaticCheckbox(item.archive)}</td>\r\n`}\r\n</tr>`;\r\n};\r\n\r\nconst tableTemplate = (tbody: string, editId: number, deleteId: number) => {\r\n    let disableAddNew = (deleteId != undefined || editId != undefined || isNew);\r\n\r\n    return `\r\n<div id=\"${table_id}\" class=\"table-container\">\r\n<table class=\"table is-hoverable js-inline\" style=\"width: 100px; table-layout: fixed;\">\r\n    <thead>\r\n        <tr>\r\n            <th style=\"width:99px\" colspan=\"3\"></th>\r\n            <th style=\"width:100px\">${i18n(\"YEAR\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"REGION\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"DETAILS\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"MONTHPAID\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"PAID\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"AMOUNT\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"COMMENT\")}</th>\r\n            <th style=\"width:100px\">${i18n(\"ARCHIVE\")}</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${tbody}\r\n        <tr class=\"js-insert-row ${disableAddNew ? \"js-disabled\" : \"\"}\">\r\n            <td class=\"js-index js-td-33\">*</td>\r\n            <td class=\"has-text-primary js-td-33 js-add\" onclick=\"${NS}.addNew()\" title=\"Click to add a new row\"><i class=\"fas fa-plus\"></i></td>\r\n            <td></td>\r\n            <td colspan=\"8\"></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n`;\r\n};\r\n\r\nconst pageTemplate = (table: string) => {\r\n    return `\r\n${Theme.wrapContent(\"js-uc-list\", table)}\r\n`\r\n};\r\n\r\nexport const fetchState = (id: number, ownerNS?: string) => {\r\n    isAddingNewParent = isNaN(id);\r\n    callerNS = ownerNS || callerNS;\r\n    isNew = false;\r\n    return App.POST(`/commitcbeff/search`, state.pager)\r\n        .then(payload => {\r\n            state = payload;\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            key = {};\r\n        })\r\n        .then(Lookup.fetch_region())\r\n};\r\n\r\nexport const preRender = () => {\r\n};\r\n\r\nexport const render = () => {\r\n    if (isAddingNewParent) return \"\";\r\n\r\n    let editId: number;\r\n    let deleteId: number;\r\n    state.list.forEach((item, index) => {\r\n        let prevItem = fetchedState.list[index];\r\n        item._editing = !Misc.same(item, prevItem);\r\n        if (item._editing) editId = item.id;\r\n        if (item._deleting) deleteId = item.id;\r\n    });\r\n\r\n    let year = Perm.getCurrentYear(); //or something better\r\n\r\n    let lookup_region = Lookup.get_region(year);\r\n\r\n    const tbody = state.list.reduce((html, item, index) => {\r\n        let rowNumber = Pager.rowNumber(state.pager, index);\r\n        let regionluid = Theme.renderOptions(lookup_region, item.regionluid, isNew);\r\n        return html + trTemplate(item, editId, deleteId, rowNumber, regionluid);\r\n    }, \"\");\r\n\r\n    const table = tableTemplate(tbody, editId, deleteId);\r\n    return pageTemplate(table);\r\n};\r\n\r\nexport const postRender = () => {\r\n};\r\n\r\nexport const inContext = () => {\r\n    return App.inContext(NS);\r\n};\r\n\r\nconst getFormState = () => {\r\n    let clone = Misc.clone(state) as IPagedState;\r\n    clone.list.forEach(item => {\r\n        let id = item.id;\r\n        item.year = Misc.fromInputNumber(`${NS}_year_${id}`, item.year);\r\n        item.regionluid = Misc.fromSelectNumber(`${NS}_regionluid_${id}`, item.regionluid);\r\n        item.details = Misc.fromInputTextNullable(`${NS}_details_${id}`, item.details);\r\n        item.monthpaid = Misc.fromInputTextNullable(`${NS}_monthpaid_${id}`, item.monthpaid);\r\n        item.paid = Misc.fromInputCheckbox(`${NS}_paid_${id}`, item.paid);\r\n        item.amount = Misc.fromInputNumber(`${NS}_amount_${id}`, item.amount);\r\n        item.comment = Misc.fromInputTextNullable(`${NS}_comment_${id}`, item.comment);\r\n        item.archive = Misc.fromInputCheckbox(`${NS}_archive_${id}`, item.archive);\r\n    })\r\n    return clone;\r\n};\r\n\r\nconst html5Valid = (): boolean => {\r\n    document.getElementById(`${callerNS}_dummy_submit`).click();\r\n    let form = document.getElementsByTagName(\"form\")[0];\r\n    form.classList.add(\"js-error\");\r\n    return form.checkValidity();\r\n};\r\n\r\nexport const onchange = (input: HTMLInputElement) => {\r\n    state = getFormState();\r\n    App.render();\r\n};\r\n\r\nexport const undo = () => {\r\n    if (isNew) {\r\n        isNew = false;\r\n        fetchedState.list.pop();\r\n    }\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    App.render()\r\n}\r\n\r\nexport const addNew = () => {\r\n    let url = `/commitcbeff/new`;\r\n    return App.GET(url)\r\n        .then((payload: IState) => {\r\n            state.list.push(payload);\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            isNew = true;\r\n            payload._isNew = true;\r\n        })\r\n        .then(App.render)\r\n        .catch(App.render);\r\n}\r\n\r\nexport const create = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._isNew);\r\n    if (!html5Valid()) return;\r\n    App.prepareRender();\r\n    App.POST(\"/commitcbeff\", Misc.createBlack(item, blackList))\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const save = () => {\r\n    let formState = getFormState();\r\n    let item = formState.list.find(one => one._editing);\r\n    if (!html5Valid()) return;\r\n    App.prepareRender();\r\n    App.PUT(\"/commitcbeff\", Misc.createBlack(item, blackList))\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const selectfordrop = (id: number) => {\r\n    state = Misc.clone(fetchedState) as IPagedState;\r\n    state.list.find(one => one.id == id)._deleting = true;\r\n    App.render();\r\n}\r\n\r\nexport const drop = () => {\r\n    App.prepareRender();\r\n    let item = state.list.find(one => one._deleting);\r\n    App.DELETE(\"/commitcbeff\", { id: item.id, updated: item.updated })\r\n        .then(() => {\r\n            fetchedState = Misc.clone(state) as IPagedState;\r\n            Router.gotoCurrent(1);\r\n        })\r\n        .catch(App.render);\r\n}\r\n\r\nexport const hasChanges = () => {\r\n    return !Misc.same(fetchedState, state);\r\n}\r\n"]}